เอาต์พุตของการสตรีมมีการตัดเหลือเพียง 5000 บรรทัดสุดท้าย
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 100.00
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=100.00, Peak=100.00, DD=0.0000
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=90.00, Peak=100.00, DD=0.1000
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=85.00, Peak=100.00, DD=0.1500
17:05:04 [CRITICAL] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.1500 >= 0.1500
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=79.00, Peak=100.00, DD=0.2100
17:05:04 [CRITICAL] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=79.00, Peak=100.00, DD=0.2100 >= 0.2000
PASSED
test_gold_ai.py::TestGoldAI2025::test_risk_manager_soft_kill_active 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=80.00, Peak=100.00, DD=0.2000
17:05:04 [CRITICAL] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2000 >= 0.1500
PASSED
test_gold_ai.py::TestGoldAI2025::test_risk_manager_update_and_soft_kill 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 100.00
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=100.00, Peak=100.00, DD=0.0000
17:05:04 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=80.00, Peak=100.00, DD=0.2000
17:05:04 [CRITICAL] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2000 >= 0.1500
PASSED
test_gold_ai.py::TestGoldAI2025::test_risk_trade_manager_forced_entry_spike FAILED
test_gold_ai.py::TestGoldAI2025::test_safe_get_global PASSED
test_gold_ai.py::TestGoldAI2025::test_safe_load_csv_auto 
-------------------------------- live log call ---------------------------------
17:05:04 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: missing.csv
17:05:04 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) ไม่พบไฟล์: missing.csv
17:05:04 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: data.csv
17:05:04 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:04 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded csv with default encoding.
17:05:04 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: data.csv.gz
17:05:04 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'data.csv.gz'
17:05:04 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded gzipped file with utf-8 encoding.
PASSED
test_gold_ai.py::TestGoldAI2025::test_set_thai_font_and_setup_fonts 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [INFO] [gold_ai2025.setup_fonts] 
(Processing) Setting up Thai font for plots...
17:05:04 [INFO] [gold_ai2025.setup_fonts]    Attempting to set font directly using findfont...
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [INFO] [gold_ai2025.setup_fonts] 
   Trying fallbacks (Loma, Garuda, Norasi, Kinnari, Waree, THSarabunNew)...
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: FileNotFoundError(2, 'No such file or directory')
17:05:04 [CRITICAL] [gold_ai2025.setup_fonts] 
   (CRITICAL WARNING) Could not set any preferred Thai font. Plots WILL NOT render Thai characters correctly.
PASSED
test_gold_ai.py::TestGoldAI2025::test_setup_output_directory 
-------------------------------- live log call ---------------------------------
17:05:04 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /content/drive/MyDrive/new/outdir
17:05:04 [INFO] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
17:05:04 [INFO] [gold_ai2025.setup_output_directory]       -> การเขียนไฟล์ทดสอบสำเร็จ.
PASSED
test_gold_ai.py::TestGoldAI2025::test_should_exit_due_to_holding PASSED
test_gold_ai.py::TestGoldAI2025::test_simple_converter 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.simple_converter] Type <class 'object'> not directly serializable. Converting to string: '<object object at 0x7d584637c930>...'
PASSED
test_gold_ai.py::TestGoldAI2025::test_spike_guard_and_reentry 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked INPUT: session=London, row={'spike_score': 0.6, 'Pattern_Label': 'Breakout'}, cfg.threshold=0.50, allowed=['Breakout']
17:05:04 [INFO] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=London, score=0.6, threshold=0.5, pattern=Breakout, allowed_patterns=['Breakout']
17:05:04 [WARNING] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard blocked! session=London, score=0.6, pattern=Breakout
17:05:04 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked OUTPUT: True
17:05:04 [INFO] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=Asia, score=0.6, threshold=0.5, pattern=Breakout, allowed_patterns=['Breakout']
17:05:04 [INFO] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard allowed: session=Asia, score=0.6, pattern=Breakout
17:05:04 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked (Asia) OUTPUT: False
17:05:04 [DEBUG] [gold_ai2025.is_reentry_allowed.BUY] Re-entry blocked: Cooldown active. Bars since last trade (1) < Cooldown (3).
17:05:04 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2021-01-01 00:15:00.
PASSED
test_gold_ai.py::TestGoldAI2025::test_strategy_config_defaults 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestGoldAI2025::test_try_import_with_install_success 
-------------------------------- live log call ---------------------------------
17:05:04 [INFO] [gold_ai2025.log_library_version] (Info) Using FOO version: 0.1
PASSED
test_gold_ai.py::TestEdgeCases::test_calculate_metrics_basic 17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:04 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:04 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:04 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:04 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:04 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:04 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:04 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:04 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
17:05:04 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.56+] Extra kwargs ignored in calculate_metrics: ['side']
17:05:04 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'test': {'fold_tag': 'test', 'num_trades': 3, 'num_tp': 1, 'num_sl': 1, 'num_be': 1, 'net_profit': 10.0}
PASSED
test_gold_ai.py::TestEdgeCases::test_dummy_module_behavior PASSED
test_gold_ai.py::TestEdgeCases::test_engineer_m1_features_atr_missing_fallback 
-------------------------------- live log call ---------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:04 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:04 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:05 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
17:05:05 [ERROR] [gold_ai2025.engineer_m1_features] [Patch][QA v4.9.86] ATR import failed
17:05:05 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:05 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Not enough valid features/samples for clustering. Setting cluster to 0.
17:05:05 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
17:05:05 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
17:05:05 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
FAILED
test_gold_ai.py::TestEdgeCases::test_gen_random_m1_df_no_recursion PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_missing_columns 
-------------------------------- live log call ---------------------------------
17:05:05 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /content/drive/MyDrive/new/invalid.csv
17:05:05 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /content/drive/MyDrive/new/invalid.csv
17:05:05 [CRITICAL] [gold_ai2025.load_data] (Error) ขาดคอลัมน์ที่จำเป็น: ['Close', 'Low', 'Timestamp']
17:05:05 [CRITICAL] [gold_ai2025.load_data] (Error) ไม่สามารถโหลดข้อมูล : ขาดคอลัมน์ที่จำเป็น
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1642, in load_data
    load_data_logger.critical(f"(Error) ขาดคอลัมน์ที่จำเป็น: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ขาดคอลัมน์ที่จำเป็น
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1642, in load_data
    load_data_logger.critical(f"(Error) ขาดคอลัมน์ที่จำเป็น: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ขาดคอลัมน์ที่จำเป็น
PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_missing_file 
-------------------------------- live log call ---------------------------------
17:05:05 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /content/drive/MyDrive/new/no_such_file.csv
17:05:05 [CRITICAL] [gold_ai2025.load_data] (Error) ไม่พบไฟล์ข้อมูล
PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_valid 
-------------------------------- live log call ---------------------------------
17:05:05 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /content/drive/MyDrive/new/valid.csv
17:05:05 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /content/drive/MyDrive/new/valid.csv
17:05:05 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
17:05:05 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
17:05:05 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
17:05:05 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
17:05:05 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
17:05:05 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
17:05:05 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
17:05:05 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
17:05:05 [WARNING] [gold_ai2025.load_data]    (Warning) พบ 1 แท่งที่มีการเปลี่ยนแปลงราคา Close เกิน 10.0%:
17:05:05 [WARNING] [gold_ai2025.load_data]       ตัวอย่าง Index และ % Change:
2    0.25
17:05:05 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 3 แถว
PASSED
test_gold_ai.py::TestEdgeCases::test_log_library_version_none_and_missing 
-------------------------------- live log call ---------------------------------
17:05:05 [WARNING] [gold_ai2025.log_library_version] Library DUMMY_NONE is None (likely not imported or import failed).
17:05:05 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library DUMMY_MISSING is 'N/A' or None.
PASSED
test_gold_ai.py::TestEdgeCases::test_macd_manual_fallback PASSED
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat 
-------------------------------- live log call ---------------------------------
17:05:05 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index (ALL_NAT_TEST)...
17:05:05 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
17:05:05 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
17:05:05 [INFO] [gold_ai2025.preview_datetime_format] 
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
17:05:05 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
17:05:05 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
17:05:05 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
17:05:05 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 5 values...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d%H:%M:%S' for 5 values...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y-%m-%d %H:%M:%S' for 5 values...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y/%m/%d %H:%M:%S' for 5 values...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y.%m.%d %H:%M:%S' for 5 values...
17:05:05 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%d/%m/%Y %H:%M:%S' for 5 values...
17:05:06 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%m/%d/%Y %H:%M:%S' for 5 values...
17:05:06 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Trying general parser for 5 remaining values...
17:05:06 [WARNING] [gold_ai2025.parse_datetime_safely]       [Parser] Could not parse 5 date/time strings.
17:05:06 [WARNING] [gold_ai2025.parse_datetime_safely]          Example failed strings:
0    0000 99:99:99
1    0000 99:99:99
2    0000 99:99:99
3    0000 99:99:99
4    0000 99:99:99
17:05:06 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
17:05:06 [WARNING] [gold_ai2025.prepare_datetime]    (Warning) พบค่า NaT 5 (100.0%) ใน ALL_NAT_TEST หลังการ parse.
17:05:06 [CRITICAL] [gold_ai2025.prepare_datetime]    (Error) พบค่า NaT 100% ใน ALL_NAT_TEST. ไม่สามารถดำเนินการต่อได้. ตัวอย่าง: 0000 99:99:99
PASSED
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_duplicate_index 
-------------------------------- live log call ---------------------------------
17:05:06 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index (DUP)...
17:05:06 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
17:05:06 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
17:05:06 [INFO] [gold_ai2025.preview_datetime_format] 
20240101 00:00:00
20240101 00:00:00
17:05:06 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
17:05:06 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
17:05:06 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
17:05:06 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
17:05:06 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 2 values...
17:05:06 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 2. Remaining: 0
17:05:06 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
17:05:06 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
17:05:06 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน DUP หลังการ parse.
17:05:06 [WARNING] [gold_ai2025.prepare_datetime]    (Warning) พบ Index ซ้ำ 1 รายการ. กำลังลบรายการซ้ำ (เก็บรายการแรก)...
17:05:06 [INFO] [gold_ai2025.prepare_datetime]    แก้ไข index ซ้ำ: ลบ 1 แถว.
17:05:06 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
17:05:06 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
17:05:06 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index (DUP) สำเร็จ. Shape: (1, 7)
PASSED
test_gold_ai.py::TestEdgeCases::test_rsi_fallback_short_series PASSED
test_gold_ai.py::TestEdgeCases::test_rsi_manual_fallback PASSED
test_gold_ai.py::TestEdgeCases::test_rsi_manual_fallback_coverage 
-------------------------------- live log call ---------------------------------
17:05:06 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
17:05:06 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:06 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
PASSED
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_minimal 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
17:05:06 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
17:05:06 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:06 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
17:05:06 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
17:05:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=2, trade_log=0
PASSED
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_return_tuple 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
17:05:06 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
17:05:06 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:06 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
17:05:06 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
17:05:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
17:05:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=1, trade_log=0
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_empty_file 
-------------------------------- live log call ---------------------------------
17:05:06 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: empty.csv
17:05:06 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:06 [WARNING] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Warning) File is empty: empty.csv
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_gz_corrupt 
-------------------------------- live log call ---------------------------------
17:05:06 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: corrupt.csv.gz
17:05:06 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'corrupt.csv.gz'
17:05:06 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'corrupt.csv.gz': OSError('gzip error')
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_invalid_path_type 
-------------------------------- live log call ---------------------------------
17:05:06 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Invalid file path provided to safe_load_csv_auto.
17:05:06 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Invalid file path provided to safe_load_csv_auto.
PASSED
test_gold_ai.py::TestEdgeCases::test_set_thai_font_fallback_no_match 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
17:05:06 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
17:05:06 [WARNING] [root] [Patch][Font][QA v4.9.86] Could not set font: RuntimeError('Could not find matplotlibrc file; your Matplotlib install is broken')
PASSED
test_gold_ai.py::TestEdgeCases::test_setup_output_directory_permission_error 
-------------------------------- live log call ---------------------------------
17:05:06 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /content/drive/MyDrive/new/unwritable
17:05:06 [ERROR] [gold_ai2025.setup_output_directory]    (Error) ไม่สามารถสร้างหรือเข้าถึง Output Directory '/content/drive/MyDrive/new/unwritable': Read-only file system
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1292, in setup_output_directory
    try:
        ^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Read-only file system
PASSED
test_gold_ai.py::TestEdgeCases::test_simple_converter_edge_cases 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.simple_converter] Type <class 'set'> not directly serializable. Converting to string: '{1, 2}...'
17:05:06 [DEBUG] [gold_ai2025.simple_converter] Type <class 'complex'> not directly serializable. Converting to string: '(2+3j)...'
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_indicator_guard 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:06 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch] [Diff] ATR is not numeric or <=0 (mock/NaN) at idx=2023-01-01 00:00:00, treat as NaN, allow mock trade in test.
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_minimal 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tp1_sl 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999.0, PNL:0.0
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tsl_behavior 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:06 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:06 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestEdgeCases::test_strategy_config_custom_values 
-------------------------------- live log call ---------------------------------
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.02, 'max_lot': 10.0, 'kill_switch_dd': 0.25, 'enable_spike_guard': False}
17:05:06 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:06 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 25.00%
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:06 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestEdgeCases::test_try_import_install_success_no_version 
-------------------------------- live log call ---------------------------------
17:05:06 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: NOVERS. กำลังพยายามติดตั้ง...
17:05:06 [INFO] [gold_ai2025.try_import_with_install]    ติดตั้ง NOVERS สำเร็จ (pip stdout): <MagicMock name='run().stdout.__getitem__()' id='137818070749520'>...
17:05:06 [INFO] [gold_ai2025.try_import_with_install] [Patch] Successfully installed and imported NOVERS.
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_calculate_lot_by_fund_mode_bounds 17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:07 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:07 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:07 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:07 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:07 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:07 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:07 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:07 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:07 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:07 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:07 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:07 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'min_lot': 0.01, 'max_lot': 0.1, 'point_value': 0.1}
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:07 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$50000.00, ATR=1.00000, SL Delta Price=1.00000
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Risk USD for trade: $1000.00
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Total risk in USD for one min_lot (0.01) with SL $1.00: $0.10000
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Raw lot size calculated (num_min_lots * min_lot): 100.0000
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Adjusted lot (balanced, no change from raw): 100.0000
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after rounding down to min_lot multiple: 100.0000
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after min/max capping: 0.1000
17:05:07 [INFO] [gold_ai2025.calculate_lot_by_fund_mode]    [LotCalc] Final Lot Size: 0.10 (MM Mode: 'balanced', Risk: 2.00%, Equity: $50000)
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$0.00, ATR=1.00000, SL Delta Price=1.00000
17:05:07 [WARNING] [gold_ai2025.calculate_lot_by_fund_mode] Equity is zero or negative. Returning min_lot.
17:05:07 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$1000.00, ATR=1.00000, SL Delta Price=0.00000
17:05:07 [WARNING] [gold_ai2025.calculate_lot_by_fund_mode] SL delta price is near zero (0.00000). Returning min_lot.
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked 
-------------------------------- live log call ---------------------------------
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'n_walk_forward_splits': 2, 'initial_capital': 100.0}
17:05:07 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:07 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:07 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:07 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:07 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.55) for 2 folds.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 2, Test size: 1) ---
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
17:05:07 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (1, 13)
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 3, Test size: 1) ---
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
17:05:07 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (1, 13)
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
17:05:07 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
17:05:07 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_run_wfv_multi_fold_plot_backend 
-------------------------------- live log call ---------------------------------
17:05:07 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
17:05:07 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
17:05:07 [DEBUG] [matplotlib] interactive is False
17:05:07 [DEBUG] [matplotlib] platform is linux
FAILED
test_gold_ai.py::TestWFVandLotSizing::test_simulate_trades_multi_order_with_reentry 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestTP2AndBESL::test_besl_trigger 17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:08 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:08 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:08 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:08 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:08 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:08 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'base_tp_multiplier': 1.5, 'base_be_sl_r_threshold': 1.0, 'default_sl_multiplier': 1.0, 'enable_be_sl': True, 'enable_partial_tp': False}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
=== trade_log for BE-SL debug ===
{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 999.0, 'take_profit': 1001.5, 'side': 'BUY', 'Trade_Reason': 'test', '_forced_entry_flag': False, 'exit_price': 995, 'exit_reason': 'BE-SL', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0}
PASSED
test_gold_ai.py::TestTP2AndBESL::test_partial_tp2_trigger 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.8, 'close_pct': 0.5}, {'r_multiple': 1.2, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': False, 'base_tp_multiplier': 2.0, 'default_sl_multiplier': 1.0}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_tsl_tp_be_sl 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5, 'base_tp_multiplier': 1.5, 'default_sl_multiplier': 1.0, 'base_be_sl_r_threshold': 1.0, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.5, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': True}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_with_kill_switch_activation 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.5, 'initial_capital': 10.0, 'kill_switch_dd': 0.1, 'kill_switch_consecutive_losses': 1, 'recovery_mode_consecutive_losses': 1}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.500, Max Hold: 24 bars, Kill DD: 10.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Triggered SL: {'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'test', '_forced_entry_flag': False, 'exit_price': 998.5, 'exit_reason': 'SL', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': -1.5}
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Kill switch activated at bar 0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_multi_order_reentry_succeeds 17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:08 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:08 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:08 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:08 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:08 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:08 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999.0, PNL:0.0
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1003.0, Exit:1000.0, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_BE_SL_multi 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1002.0, Exit:1001, PNL:0.0
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004.0, Exit:1003, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_strict 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:1000, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_with_reentry_fixed 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
17:05:08 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2023-01-01 00:01:00.
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_reentry_strict 
-------------------------------- live log call ---------------------------------
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:08 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:08 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004.0, Exit:1003, PNL:0.0
17:05:08 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:08 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_corrupt_encoding 17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:08 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:08 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:08 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:08 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:08 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:08 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:08 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:08 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:08 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
17:05:08 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bad_encoding.csv
17:05:08 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:08 [WARNING] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] UTF-8 decode failed, trying latin1 for file 'bad_encoding.csv' (UnicodeDecodeError('utf-8', b'\xff', 0, 1, 'invalid start byte'))
17:05:08 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'bad_encoding.csv': UnicodeDecodeError('utf-8', b'\xff', 0, 1, 'invalid start byte')
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_generic_failure 
-------------------------------- live log call ---------------------------------
17:05:08 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: broken.csv
17:05:08 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:08 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'broken.csv': OSError('broken')
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_gz_with_corrupt_content 
-------------------------------- live log call ---------------------------------
17:05:08 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bad_file.csv.gz
17:05:08 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'bad_file.csv.gz'
17:05:08 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'bad_file.csv.gz': OSError('corrupt gzip')
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_denied 
-------------------------------- live log call ---------------------------------
17:05:09 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /content/drive/MyDrive/new/denied
17:05:09 [INFO] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
17:05:09 [ERROR] [gold_ai2025.setup_output_directory]    (Error) ไม่สามารถสร้างหรือเข้าถึง Output Directory '/content/drive/MyDrive/new/denied': Permission denied
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1295, in setup_output_directory
    test_file_path = os.path.join(output_path, ".write_test")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Permission denied
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_error_read 
-------------------------------- live log call ---------------------------------
17:05:09 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: denied.csv
17:05:09 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:09 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'denied.csv': PermissionError('denied')
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_utf8_bom_file 
-------------------------------- live log call ---------------------------------
17:05:09 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bom_file.csv
17:05:09 [DEBUG] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
17:05:09 [INFO] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded csv with default encoding.
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_set_thai_font_without_matplotlib 
-------------------------------- live log call ---------------------------------
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Loma' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'TH Sarabun New' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'THSarabunNew' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Garuda' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Norasi' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Kinnari' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Waree' not found: matplotlib not available
17:05:09 [DEBUG] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] Font 'Laksaman' not found: matplotlib not available
17:05:09 [WARNING] [gold_ai2025.set_thai_font] [Patch][QA v4.9.90] No Thai fonts found in: ['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']. Fallback to DejaVu Sans.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_normal 17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:09 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:09 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:09 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:09 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:09 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:09 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:09 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_empty 17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:09 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:09 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:09 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:09 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:09 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:09 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:09 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:09 [DEBUG] [gold_ai2025.ema] [Patch AI Studio v4.9.26] Empty input detected in ema, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_normal 17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:09 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:09 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:09 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:09 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:09 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:09 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:09 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:09 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:09 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:09 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:09 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_invalid_period 17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:10 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:10 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:10 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:10 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:10 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:10 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:10 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:10 [ERROR] [gold_ai2025.sma] [Patch][QA] Invalid period (0). Must be a positive integer.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_normal 17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:10 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:10 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:10 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:10 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:10 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:10 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:10 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_empty 17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:10 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:10 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:10 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:10 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:10 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:10 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:10 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:10 [DEBUG] [gold_ai2025.rsi] [Patch AI Studio v4.9.26] Empty input detected in rsi, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_valid 17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:10 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:10 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:10 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:10 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:10 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:10 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:10 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:10 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:10 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:10 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:10 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:10 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_missing_cols 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:11 [WARNING] [gold_ai2025.atr]    (Warning) ATR calculation skipped: Missing columns ['High', 'Low', 'Close'].
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_normal 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:11 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (5 < 26).
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_empty 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:11 [DEBUG] [gold_ai2025.macd] Input series is None or empty, returning empty series for MACD components.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rolling_zscore_short_series 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:11 [DEBUG] [gold_ai2025.rolling_zscore] Input series too short (< 2), returning zeros.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_tag_price_structure_patterns_missing_col 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_calculate_m15_trend_zone_minimal 17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:11 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:11 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:11 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:11 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:11 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:11 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:11 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:11 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:11 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:11 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:11 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_na 17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_zones 17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_engineer_m1_features_empty 17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:12 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:12 [ERROR] [gold_ai2025.engineer_m1_features]    (Error) [Patch] ข้ามการสร้าง Features M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_clean_m1_data_empty 17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
17:05:12 [INFO] [gold_ai2025.clean_m1_data] (Processing) กำหนด Features M1 สำหรับ Drift และแปลงประเภท (using StrategyConfig)...
17:05:12 [WARNING] [gold_ai2025.clean_m1_data]    (Warning) ข้ามการทำความสะอาดข้อมูล M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback 17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:12 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:12 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:12 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
17:05:12 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:12 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
FAILED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_ema_negative_period 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_sma_not_series 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:13 [ERROR] [gold_ai2025.sma] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rsi_not_series 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:13 [ERROR] [gold_ai2025.rsi] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_atr_invalid_type 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:13 [ERROR] [gold_ai2025.atr] Input must be a pandas DataFrame, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_macd_invalid_type 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:13 [ERROR] [gold_ai2025.macd] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rolling_zscore_nan 17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:13 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:13 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:13 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:13 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:13 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:13 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:13 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:13 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:13 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty_df 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_df 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_type_guard 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_expected_type_guard 17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:14 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:14 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:14 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:14 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:14 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:14 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:14 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:14 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:14 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:14 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:14 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
17:05:14 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_guard 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:15 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:15 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_expected_type_guard 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:15 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:15 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::test_trade_manager_update_methods 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:15 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:15 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:15 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:15 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
17:05:15 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
17:05:15 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): NaT
17:05:15 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
17:05:15 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
PASSED
test_gold_ai.py::test_run_backtest_simulation_minimal 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:15 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:15 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Test', Side='BUY', Fold=N/A ---
17:05:15 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] RiskManager (risk_manager_obj) not provided. Initializing new one.
17:05:15 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:15 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] TradeManager (trade_manager_obj) not provided. Initializing new one.
17:05:15 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:15 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Test
17:05:15 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Test.
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Simulation loop finished for Test. Finalizing remaining orders...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Created trade log DataFrame for Test with 0 entries.
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY]   (Finished) Test (BUY) simulation complete. Final Equity: $1000.00
17:05:15 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=2, trade_log=0
PASSED
test_gold_ai.py::test_calculate_metrics_minimal 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'minimal_test': {'fold_tag': 'minimal_test', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 10.0}
PASSED
test_gold_ai.py::test_calculate_metrics_with_string_entries 17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:15 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:15 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:15 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:15 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:15 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:15 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:15 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:15 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:15 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:15 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: 'invalid_entry'
17:05:15 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'mixed': {'fold_tag': 'mixed', 'num_trades': 2, 'num_tp': 1, 'num_sl': 1, 'num_be': 0, 'net_profit': 10}
PASSED
test_gold_ai.py::test_calculate_metrics_with_invalid_items 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:16 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 123
17:05:16 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: <object object at 0x7d584637fa60>
17:05:16 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'invalid': {'fold_tag': 'invalid', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 5}
PASSED
test_gold_ai.py::test_safe_load_csv_auto_nonexistent 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:16 [ERROR] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) ไม่พบไฟล์: file_that_does_not_exist.csv
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_float_fmt_cases 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 'str', returning False.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: (123, 'bad'), returning False.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: <test_gold_ai.TestRobustFormatAndTypeGuard.test_isinstance_safe.<locals>.DummyType object at 0x7d58437dd3d0>, returning False.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe_additional_types 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: [<class 'int'>, <class 'str'>], returning False.
17:05:16 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 3.14, returning False.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_trade_manager_update_last_trade_time 17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:16 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:16 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:16 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:16 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:16 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:16 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:16 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:16 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:16 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:16 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:16 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:16 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:16 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:16 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:16 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:16 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:16 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
17:05:16 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
17:05:16 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
17:05:16 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
17:05:16 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
17:05:16 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
17:05:16 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
17:05:16 [WARNING] [root] [Patch AI Studio v4.9.40] Could not parse trade_time: not-a-date
PASSED
test_gold_ai.py::test_full_e2e_backtest_and_export 17:05:17 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:17 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:17 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:17 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Importing core libraries (with robust fallbacks)...

-------------------------------- live log call ---------------------------------
17:05:17 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
17:05:17 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
17:05:17 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
17:05:17 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
17:05:17 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
17:05:17 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
17:05:17 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
17:05:17 - ERROR - [GoldAI_Enterprise_v4.9] -    (Error) Could not get CatBoost components from module: module 'catboost' has no attribute 'CatBoostClassifier'
17:05:23 [DEBUG] [matplotlib] CACHEDIR=/root/.cache/matplotlib
17:05:23 [DEBUG] [matplotlib.font_manager] Using fontManager instance from /root/.cache/matplotlib/fontlist-v390.json
17:05:25 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
17:05:25 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
17:05:25 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
17:05:25 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
17:05:25 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
17:05:29 [DEBUG] [pydot] pydot initializing
17:05:29 [DEBUG] [pydot] pydot 3.0.4
17:05:29 [DEBUG] [pydot.dot_parser] pydot dot_parser module initializing
17:05:29 [DEBUG] [pydot.core] pydot core module initializing
17:05:30 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:30 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:30 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:30 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:30 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:30 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:30 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:30 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:30 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:30 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:30 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /content/drive/MyDrive/new/random_gold.csv
17:05:30 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /content/drive/MyDrive/new/random_gold.csv
17:05:30 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
17:05:30 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
17:05:30 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
17:05:30 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
17:05:30 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
17:05:30 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
17:05:30 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
17:05:30 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
17:05:30 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Price Jumps ที่ผิดปกติ.
17:05:31 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 50 แถว
17:05:31 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:31 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:31 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:31 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:31 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:31 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:31 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:31 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:31 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
17:05:31 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
17:05:32 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
17:05:32 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:32 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
17:05:32 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
17:05:32 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
17:05:32 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
17:05:32 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
17:05:32 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
17:05:32 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
17:05:32 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
17:05:32 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
17:05:32 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
17:05:32 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
17:05:32 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
17:05:32 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
17:05:32 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
17:05:32 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 50 values...
17:05:32 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 50. Remaining: 0
17:05:32 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
17:05:32 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
17:05:33 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
17:05:33 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
17:05:33 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
17:05:33 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (50, 32)
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.01}
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:33 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:33 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
17:05:33 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:33 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:33 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:33 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:33 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:33 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:33 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
17:05:33 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.56+] Extra kwargs ignored in calculate_metrics: ['side']
17:05:33 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 'exit_reason'
17:05:33 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'e2e': {'fold_tag': 'e2e', 'num_trades': 0, 'num_tp': 0, 'num_sl': 0, 'num_be': 0, 'net_profit': 0}
17:05:33 [WARNING] [GoldAI_Export] [Patch AI Studio v4.9.58+] trade_log is empty or has no columns, exporting header only (or skipping export).
PASSED
test_gold_ai.py::test_run_wfv_multi_fold 
-------------------------------- live log call ---------------------------------
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.01}
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:33 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
17:05:33 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.30) for 2 folds.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 20, Test size: 20) ---
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
17:05:33 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
17:05:33 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (20, 15)
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:33 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
17:05:33 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
17:05:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:33 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
17:05:33 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
17:05:33 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
17:05:33 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250520_170533.json
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:34 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:34 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
17:05:34 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
17:05:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:34 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
17:05:34 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
17:05:34 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
17:05:34 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250520_170534.json
17:05:34 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 40, Test size: 20) ---
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
17:05:35 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
17:05:35 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (20, 15)
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
17:05:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
17:05:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:35 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
17:05:35 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
17:05:35 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
17:05:35 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250520_170535.json
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
17:05:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
17:05:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:36 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
17:05:36 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
17:05:36 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
17:05:36 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250520_170536.json
17:05:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:37 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
17:05:37 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
17:05:37 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250520_170537.json
17:05:37 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
FAILED
test_gold_ai.py::test_risk_trade_manager_forced_entry_spike 
-------------------------------- live log call ---------------------------------
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:39 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:39 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:39 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:39 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:39 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:39 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
17:05:40 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
17:05:40 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
17:05:40 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:40 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
17:05:40 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
17:05:40 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
17:05:40 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
17:05:40 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
17:05:40 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
17:05:40 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
17:05:40 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
17:05:40 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
17:05:40 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
17:05:40 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
17:05:40 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
17:05:40 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
17:05:40 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
17:05:41 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
17:05:41 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
17:05:41 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
17:05:42 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
17:05:42 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
17:05:42 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:42 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:42 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:42 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
17:05:42 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] Export trade_log shape: (0, 1)
FAILED
test_gold_ai.py::test_forced_entry_audit_logic 17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:42 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:42 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:42 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:42 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:42 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:42 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:42 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:42 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:42 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:42 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:42 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:42 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:42 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_multi_order_audit 17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:42 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:42 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:42 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:42 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:42 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:42 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:42 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:42 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:42 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:42 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:42 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=2 trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:02:00') trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 2]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 2]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 2]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_audit_short 17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1005, PNL:0.0
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:SELL, Entry:995.0, Exit:1000, PNL:0.0
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_reason_audit 17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_buy_flag_and_reason 17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:43 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:43 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:43 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:43 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:43 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:43 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_sell_flag_and_reason 17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:43 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:43 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:43 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:43 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:43 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:44 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1002, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1002, PNL:0.0
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1002, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_multi_order_flags 17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:44 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=2 trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:02:00') trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 1]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 1]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 1]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_fallback_dummy_pd_np 17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_annotate 17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:44 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 1795.0, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 1795.0, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_in_trade_log 17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:44 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
17:05:44 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
FAILED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_warning PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_multi_case 17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:45 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:45 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:45 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:45 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:45 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:45 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:45 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:45 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:45 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:45 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:45 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:45 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=0 trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:00:00') trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=1 trade={'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA] Forced entry detected and mapped: idx=Timestamp('2023-01-01 00:01:00') trade={'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 996, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 1, 'exit_time': Timestamp('2023-01-01 00:01:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:996, PNL:0.0
17:05:45 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 1]
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 1]
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 1]
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 1]
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.90] simulate_trades: All forced_entry trades patched with exit_reason='FORCED_ENTRY'.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][QA v4.9.85] Forced Entry Audit: Patched 0 forced entries with exit_reason='FORCED_ENTRY'.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 996, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 1, 'exit_time': Timestamp('2023-01-01 00:01:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
17:05:45 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_ml_inference_path 17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.90_FULL_PASS - Logger Initialized (Import Phase).
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Importing core libraries (with robust fallbacks)...

-------------------------------- live log call ---------------------------------
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
17:05:45 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
17:05:45 - ERROR - [GoldAI_Enterprise_v4.9] -    (Error) Could not get CatBoost components from module: module 'catboost' has no attribute 'CatBoostClassifier'
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
17:05:45 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
17:05:45 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
17:05:45 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.90_FULL_PASS
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:45 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
17:05:45 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
17:05:45 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
17:05:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
17:05:45 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:45 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:45 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:45 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
FAILED

=================================== FAILURES ===================================
__________________ TestGoldAI2025.test_load_data_and_plotting __________________
test_gold_ai.py:691: in test_load_data_and_plotting
    self.gold_ai.plot_equity_curve([100, 110, 120], "unit_test")
E   TypeError: plot_equity_curve() missing 3 required positional arguments: 'title', 'output_dir_plot', and 'filename_suffix_plot'
------------------------------ Captured log call -------------------------------
17:05:04 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /content/drive/MyDrive/new/testdata.csv
17:05:04 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /content/drive/MyDrive/new/testdata.csv
17:05:04 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
17:05:04 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
17:05:04 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
17:05:04 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
17:05:04 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
17:05:04 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
17:05:04 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
17:05:04 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
17:05:04 [DEBUG] [gold_ai2025.load_data]       ข้ามการตรวจสอบ Price Jumps (ไม่มีข้อมูล Close หรือมีน้อยกว่า 2 แถว).
17:05:04 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 1 แถว
__________ TestGoldAI2025.test_risk_trade_manager_forced_entry_spike ___________
test_gold_ai.py:698: in test_risk_trade_manager_forced_entry_spike
    df = self.gold_ai.pd.DataFrame({
E   TypeError: DummyDataFrame() takes no arguments
_________ TestEdgeCases.test_engineer_m1_features_atr_missing_fallback _________
test_gold_ai.py:765: in test_engineer_m1_features_atr_missing_fallback
    self.assertTrue(df2["ATR_14"].isna().all())
E   AssertionError: np.False_ is not true
------------------------------ Captured log call -------------------------------
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:04 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:04 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:04 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:05 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
17:05:05 [ERROR] [gold_ai2025.engineer_m1_features] [Patch][QA v4.9.86] ATR import failed
17:05:05 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:05 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Not enough valid features/samples for clustering. Setting cluster to 0.
17:05:05 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
17:05:05 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
17:05:05 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
17:05:05 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
___________ TestWFVandLotSizing.test_run_wfv_multi_fold_plot_backend ___________
test_gold_ai.py:1218: in test_run_wfv_multi_fold_plot_backend
    ga.plot_equity_curve([100, 110, 120], "demo")
E   TypeError: plot_equity_curve() missing 3 required positional arguments: 'title', 'output_dir_plot', and 'filename_suffix_plot'
------------------------------ Captured log call -------------------------------
17:05:07 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
17:05:07 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
17:05:07 [DEBUG] [matplotlib] interactive is False
17:05:07 [DEBUG] [matplotlib] platform is linux
________ TestATRFallback.test_engineer_m1_features_atr_missing_fallback ________
test_gold_ai.py:1854: in test_engineer_m1_features_atr_missing_fallback
    self.assertTrue("ATR_14" not in res.columns or res["ATR_14"].isna().all())
E   AssertionError: np.False_ is not true
------------------------------ Captured log call -------------------------------
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:12 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:12 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:12 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:12 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:12 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:12 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:12 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:12 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:12 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:12 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:12 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:12 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
17:05:12 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:12 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
___________________________ test_run_wfv_multi_fold ____________________________
test_gold_ai.py:2329: in test_run_wfv_multi_fold
    result = run_all_folds_with_threshold(df, config, l1_threshold=thresh, fund_name=f"TEST_{splits}")
gold_ai2025.py:6260: in run_all_folds_with_threshold
    plot_equity_curve(config_obj, eq_buy_series_final, f"Overall Equity Curve - BUY ({fund_name_for_wfv_log})", output_dir_for_wfv, f"buy_{fund_name_for_wfv_log}_overall_wf", fold_boundaries=fold_end_timestamps)
gold_ai2025.py:5795: in plot_equity_curve
    fig, ax = plt.subplots(figsize=(14, 8))
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:1775: in subplots
    fig = figure(**fig_kw)
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:1042: in figure
    manager = new_figure_manager(
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:551: in new_figure_manager
    _warn_if_gui_out_of_main_thread()
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:528: in _warn_if_gui_out_of_main_thread
    canvas_class = cast(type[FigureCanvasBase], _get_backend_mod().FigureCanvas)
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:369: in _get_backend_mod
    switch_backend(rcParams._get("backend"))
/usr/local/lib/python3.11/dist-packages/matplotlib/pyplot.py:433: in switch_backend
    raise ImportError(
E   ImportError: Cannot load backend 'Agg' which requires the <MagicMock name='matplotlib.backends.backend_agg.FigureCanvas.required_interactive_framework' id='137818052530576'> interactive framework, as 'headless' is currently running
------------------------------ Captured log call -------------------------------
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.01}
17:05:33 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:33 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
17:05:33 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
17:05:33 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.30) for 2 folds.
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 20, Test size: 20) ---
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
17:05:33 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
17:05:33 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (20, 15)
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:33 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
17:05:33 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:33 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:33 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
17:05:33 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:33 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
17:05:33 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
17:05:33 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
17:05:33 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250520_170533.json
17:05:33 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:34 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:34 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
17:05:34 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:34 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:34 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
17:05:34 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:34 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
17:05:34 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
17:05:34 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
17:05:34 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250520_170534.json
17:05:34 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 40, Test size: 20) ---
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
17:05:35 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
17:05:35 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (20, 15)
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
17:05:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
17:05:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:35 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
17:05:35 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
17:05:35 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
17:05:35 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250520_170535.json
17:05:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
17:05:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
17:05:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
17:05:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
17:05:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
17:05:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
17:05:36 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
17:05:36 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
17:05:36 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
17:05:36 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250520_170536.json
17:05:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
17:05:37 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
17:05:37 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
17:05:37 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
17:05:37 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250520_170537.json
17:05:37 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
__________________ test_risk_trade_manager_forced_entry_spike __________________
test_gold_ai.py:2373: in test_risk_trade_manager_forced_entry_spike
    assert any(
E   AssertionError: Trade log must contain exit_reason='FORCED_ENTRY' if forced entry was triggered
E   assert False
E    +  where False = any(<generator object test_risk_trade_manager_forced_entry_spike.<locals>.<genexpr> at 0x7d57624f26c0>)
------------------------------ Captured log call -------------------------------
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:39 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:39 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:39 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
17:05:39 [ERROR] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
17:05:39 [INFO] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
17:05:39 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
17:05:40 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
17:05:40 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
17:05:40 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
17:05:40 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
17:05:40 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
17:05:40 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
17:05:40 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
17:05:40 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
17:05:40 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
17:05:40 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
17:05:40 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
17:05:40 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
17:05:40 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
17:05:40 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
17:05:40 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
17:05:40 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
17:05:40 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
17:05:40 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
17:05:41 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
17:05:41 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
17:05:41 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
17:05:42 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
17:05:42 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
17:05:42 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
17:05:42 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:42 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:42 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
17:05:42 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
17:05:42 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
17:05:42 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
17:05:42 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
17:05:42 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] Export trade_log shape: (0, 1)
__________ TestForcedEntryAudit.test_forced_entry_audit_in_trade_log ___________
test_gold_ai.py:2653: in test_forced_entry_audit_in_trade_log
    self.assertGreaterEqual(len(forced), 1, "[Patch][QA] Forced entry audit failed")
E   AssertionError: 0 not greater than or equal to 1 : [Patch][QA] Forced entry audit failed
------------------------------ Captured log call -------------------------------
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:44 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:44 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:44 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:44 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:44 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:44 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:44 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
17:05:44 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
17:05:44 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
17:05:44 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
17:05:44 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
____________________________ test_ml_inference_path ____________________________
test_gold_ai.py:2691: in test_ml_inference_path
    df = gen_random_m1_df(20, trend="up")
test_gold_ai.py:2184: in gen_random_m1_df
    np.random.seed(seed)
/usr/local/lib/python3.11/dist-packages/numpy/__init__.py:337: in __getattr__
    import numpy.random as random
/usr/local/lib/python3.11/dist-packages/numpy/__init__.py:337: in __getattr__
    import numpy.random as random
E   RecursionError: maximum recursion depth exceeded in comparison
!!! Recursion detected (same locals & position)
------------------------------ Captured log call -------------------------------
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
17:05:45 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
17:05:45 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
17:05:45 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
17:05:45 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
17:05:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
17:05:45 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
17:05:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
17:05:45 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
17:05:45 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
17:05:45 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
17:05:45 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
17:05:45 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
17:05:45 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
=============================== warnings summary ===============================
test_gold_ai.py::TestForcedEntryAudit::test_fallback_dummy_pd_np
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_annotate
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_in_trade_log
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_multi_case
  /usr/local/lib/python3.11/dist-packages/pandas/__init__.py:14: UserWarning: The NumPy module was reloaded (imported a second time). This can in some cases result in small but subtle issues and is discouraged.
    __import__(_dependency)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.12-final-0 _______________

Name             Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------
gold_ai2025.py    3996   1960   1068    214    47%   71, 114-115, 118-122, 125-132, 137-140, 159, 162, 164-166, 189-192, 208-213, 221, 224-226, 228, 240->243, 242, 244-256, 261-270, 283, 286, 289, 292, 302, 306, 310, 314, 327, 330, 333, 336, 339, 348, 351, 354, 357, 361, 364, 367, 381-382, 402->404, 416->418, 418->422, 441->451, 442->451, 444->451, 446-447, 486-487, 494-495, 502-503, 509->512, 514->516, 516->537, 520-523, 525-529, 534-535, 543->558, 546-549, 560->563, 566, 570->573, 604, 628-650, 867, 1069, 1072, 1077->1078, 1081-1082, 1086, 1090, 1095, 1097->1098, 1109, 1135->1138, 1138->1141, 1144->exit, 1148-1150, 1153-1159, 1166-1167, 1169-1170, 1173-1183, 1189-1190, 1192, 1196-1213, 1222-1223, 1226-1229, 1240->1241, 1242, 1278-1281, 1288, 1303-1306, 1316-1317, 1321, 1330-1334, 1338-1354, 1358, 1368, 1372, 1375-1408, 1414-1415, 1417-1420, 1428, 1430->1434, 1432, 1435->1439, 1437, 1440->1447, 1445, 1454-1455, 1459-1460, 1467, 1473->1472, 1474->1472, 1488->exit, 1489->1493, 1490->exit, 1491->1492, 1491->exit, 1493->exit, 1494->exit, 1495->exit, 1496->exit, 1498->1501, 1503-1511, 1523, 1527->1529, 1533-1535, 1542-1593, 1625, 1631-1635, 1643, 1648->1647, 1655, 1660, 1667, 1673, 1680-1682, 1686, 1698, 1704-1706, 1709, 1716, 1724, 1740-1741, 1749, 1752-1753, 1765->1794, 1776->1782, 1784-1792, 1802-1804, 1807-1809, 1845, 1848, 1851, 1854-1855, 1859-1860, 1867-1868, 1882->1937, 1889-1892, 1895->1894, 1897->1899, 1899->1894, 1904-1906, 1911-1933, 1946, 1951-1965, 1975, 1979-1980, 1988, 1994-1997, 2006-2013, 2043->2044, 2043->2045, 2048-2049, 2061, 2070-2072, 2108, 2112->2117, 2119->2129, 2133-2145, 2147-2150, 2154, 2158-2174, 2182-2183, 2190, 2217->2226, 2220, 2226->2247, 2232->2236, 2234->2236, 2264, 2275, 2279->2284, 2286-2290, 2296->2302, 2313-2315, 2318, 2322, 2331-2332, 2337, 2381->2383, 2392, 2400, 2408-2412, 2441, 2453, 2466->2471, 2510, 2512-2514, 2549, 2551->2555, 2557-2560, 2567->2584, 2668-2669, 2675-2741, 2782->2785, 2797->2800, 2830, 2860-2928, 2935-2999, 3007-3028, 3035-3187, 3197-3217, 3235-3287, 3321, 3345-3346, 3378-3745, 3808-3863, 3866-3868, 3929, 3931->3934, 3942, 3947-3951, 3956, 3961-3964, 3966-3967, 3970-3976, 3980-3982, 3987-3990, 3993, 4002-4041, 4050-4080, 4090-4091, 4093-4094, 4099-4101, 4106-4107, 4110-4111, 4113->4116, 4117, 4133-4137, 4141-4148, 4156->4164, 4165, 4178-4196, 4238-4239, 4244-4245, 4292-4318, 4333-4403, 4424-4483, 4508-4509, 4516-4520, 4526-4616, 4625-4705, 4714-4823, 4887, 4992-5071, 5075->5193, 5092, 5099-5180, 5190, 5194, 5209, 5214, 5242->5285, 5249->5285, 5254->5274, 5267-5272, 5311-5349, 5355, 5358, 5369-5370, 5410-5413, 5416-5484, 5487-5493, 5496-5526, 5533-5543, 5592, 5597, 5605->5607, 5609, 5611->5658, 5648, 5652, 5656, 5670->5671, 5672->5673, 5674->5693, 5693->5729, 5701->5729, 5704-5726, 5744-5748, 5796-5869, 5889-5893, 5906-5937, 5962-5966, 5968, 5988->5990, 5993->5999, 5999->6007, 6007->6019, 6011-6017, 6020, 6022->6028, 6339-6493, 6498-6861, 6896-6926, 6933-6940, 6952-6977, 6994-7036, 7044-7100, 7124-7261, 7299->7302, 7311-7315, 7349, 7365-7386, 7388->7390, 7394-7395, 7399->7404, 7422->7430, 7433, 7436->7442, 7440, 7445, 7450, 7453->7461, 7454->7455, 7454->7456, 7458-7459, 7462, 7464->7495, 7470, 7478->7488, 7480->7482, 7495->7524, 7503, 7511-7515, 7524->7430, 7532, 7540-7544, 7553, 7559-7563, 7566->7555, 7571, 7574, 7578->7609, 7579->7609, 7597-7601, 7607, 7623->7616, 7624-7625, 7627-7628, 7635, 7644, 7650->7655, 7665, 7678->7683, 7689->7694, 7695, 7726-7755, 7788->7789, 7790
------------------------------------------------------------
TOTAL             3996   1960   1068    214    47%
============================= slowest 10 durations =============================
16.72s call     test_gold_ai.py::test_full_e2e_backtest_and_export
4.14s call     test_gold_ai.py::test_run_wfv_multi_fold
2.73s call     test_gold_ai.py::test_risk_trade_manager_forced_entry_spike
0.75s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat
0.70s call     test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked
0.54s call     test_gold_ai.py::TestGoldAIPart1SetupAndEnv::test_environment_is_colab_drive_mount_succeeds
0.36s call     test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback
0.34s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_duplicate_index
0.33s call     test_gold_ai.py::test_forced_entry_multi_order_audit
0.30s call     test_gold_ai.py::test_forced_entry_audit_short
=========================== short test summary info ============================
FAILED test_gold_ai.py::TestGoldAI2025::test_load_data_and_plotting - TypeError: plot_equity_curve() missing 3 required positional arguments: 'ti...
FAILED test_gold_ai.py::TestGoldAI2025::test_risk_trade_manager_forced_entry_spike - TypeError: DummyDataFrame() takes no arguments
FAILED test_gold_ai.py::TestEdgeCases::test_engineer_m1_features_atr_missing_fallback - AssertionError: np.False_ is not true
FAILED test_gold_ai.py::TestWFVandLotSizing::test_run_wfv_multi_fold_plot_backend - TypeError: plot_equity_curve() missing 3 required positional arguments: 'ti...
FAILED test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback - AssertionError: np.False_ is not true
FAILED test_gold_ai.py::test_run_wfv_multi_fold - ImportError: Cannot load backend 'Agg' which requires the <MagicMock name='...
FAILED test_gold_ai.py::test_risk_trade_manager_forced_entry_spike - AssertionError: Trade log must contain exit_reason='FORCED_ENTRY' if forced...
FAILED test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_in_trade_log - AssertionError: 0 not greater than or equal to 1 : [Patch][QA] Forced entry...
FAILED test_gold_ai.py::test_ml_inference_path - RecursionError: maximum recursion depth exceeded in comparison
================== 9 failed, 126 passed, 4 warnings in 45.71s ==================

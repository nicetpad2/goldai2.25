เอาต์พุตของการสตรีมมีการตัดเหลือเพียง 5000 บรรทัดสุดท้าย
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:21 [DEBUG] [gold_ai2025.spike_guard_blocked] Spike Guard (London Active): Score=0.60 (Thresh=0.50), Pattern='Breakout', AllowedPatterns=['Breakout']
12:40:21 [INFO] [gold_ai2025.spike_guard_blocked]    [Spike Guard BLOCKED] Conditions met: SpikeScore (0.60) > Threshold (0.50) AND Pattern ('Breakout') in ['Breakout'].
12:40:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Asia'). No blocking by this rule.
12:40:21 [DEBUG] [gold_ai2025.is_reentry_allowed.BUY] Re-entry blocked: Cooldown active. Bars since last trade (1) < Cooldown (3).
12:40:21 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2021-01-01 00:15:00.
PASSED
test_gold_ai.py::TestGoldAI2025::test_strategy_config_defaults 
-------------------------------- live log call ---------------------------------
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:21 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:21 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestGoldAI2025::test_try_import_with_install_success 
-------------------------------- live log call ---------------------------------
12:40:21 [INFO] [gold_ai2025.log_library_version] (Info) Using FOO version: 0.1
PASSED
test_gold_ai.py::TestEdgeCases::test_calculate_metrics_basic 12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:21 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:21 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:21 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:21 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:21 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:21 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:21 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:21 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:21 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:21 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:21 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:21 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:21 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
12:40:21 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'test': {'fold_tag': 'test', 'num_trades': 3, 'num_tp': 1, 'num_sl': 1, 'num_be': 1, 'net_profit': 10.0}
PASSED
test_gold_ai.py::TestEdgeCases::test_dummy_module_behavior PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_missing_columns 
-------------------------------- live log call ---------------------------------
12:40:21 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/tmpzmfm1wf2/invalid.csv
12:40:21 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /tmp/tmpzmfm1wf2/invalid.csv
12:40:21 [CRITICAL] [gold_ai2025.load_data] (Error) ขาดคอลัมน์ที่จำเป็น: ['Close', 'Low', 'Timestamp']
12:40:21 [CRITICAL] [gold_ai2025.load_data] (Error) ไม่สามารถโหลดข้อมูล : ขาดคอลัมน์ที่จำเป็น
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1524, in load_data
    load_data_logger.critical(f"(Error) ขาดคอลัมน์ที่จำเป็น: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ขาดคอลัมน์ที่จำเป็น
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1524, in load_data
    load_data_logger.critical(f"(Error) ขาดคอลัมน์ที่จำเป็น: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ขาดคอลัมน์ที่จำเป็น
PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_missing_file 
-------------------------------- live log call ---------------------------------
12:40:21 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/tmpff8zg7il/no_such_file.csv
12:40:21 [CRITICAL] [gold_ai2025.load_data] (Error) ไม่พบไฟล์ข้อมูล
PASSED
test_gold_ai.py::TestEdgeCases::test_load_data_valid 
-------------------------------- live log call ---------------------------------
12:40:21 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/tmpc7nkvs_n/valid.csv
12:40:21 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /tmp/tmpc7nkvs_n/valid.csv
12:40:21 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
12:40:21 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
12:40:21 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
12:40:21 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
12:40:21 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
12:40:21 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
12:40:21 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
12:40:21 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
12:40:21 [WARNING] [gold_ai2025.load_data]    (Warning) พบ 1 แท่งที่มีการเปลี่ยนแปลงราคา Close เกิน 10.0%:
12:40:21 [WARNING] [gold_ai2025.load_data]       ตัวอย่าง Index และ % Change:
2    0.25
12:40:21 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 3 แถว
PASSED
test_gold_ai.py::TestEdgeCases::test_log_library_version_none_and_missing 
-------------------------------- live log call ---------------------------------
12:40:21 [WARNING] [gold_ai2025.log_library_version] Library DUMMY_NONE is None (likely not imported or import failed).
12:40:21 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library DUMMY_MISSING is 'N/A' or None.
PASSED
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat 
-------------------------------- live log call ---------------------------------
12:40:21 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index (ALL_NAT_TEST)...
12:40:21 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:40:21 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:40:21 [INFO] [gold_ai2025.preview_datetime_format] 
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
12:40:22 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:40:22 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:40:22 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:40:22 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d%H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y-%m-%d %H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y/%m/%d %H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y.%m.%d %H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%d/%m/%Y %H:%M:%S' for 5 values...
12:40:22 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%m/%d/%Y %H:%M:%S' for 5 values...
12:40:22 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Trying general parser for 5 remaining values...
12:40:22 [WARNING] [gold_ai2025.parse_datetime_safely]       [Parser] Could not parse 5 date/time strings.
12:40:22 [WARNING] [gold_ai2025.parse_datetime_safely]          Example failed strings:
0    0000 99:99:99
1    0000 99:99:99
2    0000 99:99:99
3    0000 99:99:99
4    0000 99:99:99
12:40:22 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:40:23 [WARNING] [gold_ai2025.prepare_datetime]    (Warning) พบค่า NaT 5 (100.0%) ใน ALL_NAT_TEST หลังการ parse.
12:40:23 [CRITICAL] [gold_ai2025.prepare_datetime]    (Error) พบค่า NaT 100% ใน ALL_NAT_TEST. ไม่สามารถดำเนินการต่อได้. ตัวอย่าง: 0000 99:99:99
PASSED
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_duplicate_index 
-------------------------------- live log call ---------------------------------
12:40:23 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index (DUP)...
12:40:23 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:40:23 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:40:23 [INFO] [gold_ai2025.preview_datetime_format] 
20240101 00:00:00
20240101 00:00:00
12:40:23 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:40:23 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:40:23 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:40:23 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:40:23 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 2 values...
12:40:23 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 2. Remaining: 0
12:40:23 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
12:40:23 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:40:23 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน DUP หลังการ parse.
12:40:23 [WARNING] [gold_ai2025.prepare_datetime]    (Warning) พบ Index ซ้ำ 1 รายการ. กำลังลบรายการซ้ำ (เก็บรายการแรก)...
12:40:23 [INFO] [gold_ai2025.prepare_datetime]    แก้ไข index ซ้ำ: ลบ 1 แถว.
12:40:23 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
12:40:23 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
12:40:23 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index (DUP) สำเร็จ. Shape: (1, 7)
PASSED
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_minimal 
-------------------------------- live log call ---------------------------------
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:23 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
12:40:23 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
12:40:23 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:23 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
12:40:23 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
12:40:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
12:40:23 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
PASSED
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_return_tuple 
-------------------------------- live log call ---------------------------------
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:23 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:23 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
12:40:23 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
12:40:23 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:23 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
12:40:23 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
12:40:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
12:40:23 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_empty_file 
-------------------------------- live log call ---------------------------------
12:40:24 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: empty.csv
12:40:24 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
12:40:24 [WARNING] [gold_ai2025.safe_load_csv_auto]          (Warning) File is empty: empty.csv
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_gz_corrupt 
-------------------------------- live log call ---------------------------------
12:40:24 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: corrupt.csv.gz
12:40:24 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> Detected .gz extension, using gzip.
12:40:24 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'corrupt.csv.gz': gzip error
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1351, in safe_load_csv_auto
    load_logger.debug("         -> Detected .gz extension, using gzip.")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
OSError: gzip error
PASSED
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_invalid_path_type 
-------------------------------- live log call ---------------------------------
12:40:24 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Invalid file path provided to safe_load_csv_auto.
12:40:24 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Invalid file path provided to safe_load_csv_auto.
PASSED
test_gold_ai.py::TestEdgeCases::test_set_thai_font_fallback_no_match 
-------------------------------- live log call ---------------------------------
12:40:24 [INFO] [gold_ai2025.set_thai_font]    [Font Check] Searching for preferred fonts: ['NoFont', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman', 'Loma']
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'NoFont' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'TH Sarabun New' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'THSarabunNew' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Garuda' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Norasi' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Kinnari' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Waree' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Laksaman' not found by findfont.
12:40:24 [DEBUG] [gold_ai2025.set_thai_font]       -> Font 'Loma' not found by findfont.
12:40:24 [WARNING] [gold_ai2025.set_thai_font]    (Warning) Could not find any suitable Thai fonts (['NoFont', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman', 'Loma']) using findfont.
PASSED
test_gold_ai.py::TestEdgeCases::test_setup_output_directory_permission_error 
-------------------------------- live log call ---------------------------------
12:40:24 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /root/unwritable
12:40:24 [ERROR] [gold_ai2025.setup_output_directory]    (Error) ไม่สามารถสร้างหรือเข้าถึง Output Directory '/root/unwritable': Read-only file system
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1205, in setup_output_directory
    try:
        ^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Read-only file system
PASSED
test_gold_ai.py::TestEdgeCases::test_simple_converter_edge_cases 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.simple_converter] Type <class 'set'> not directly serializable. Converting to string: '{1, 2}...'
12:40:24 [DEBUG] [gold_ai2025.simple_converter] Type <class 'complex'> not directly serializable. Converting to string: '(2+3j)...'
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_minimal 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:24 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:24 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tp1_sl 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:24 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:24 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999.0, PNL:0.0
PASSED
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tsl_behavior 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:24 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:24 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
PASSED
test_gold_ai.py::TestEdgeCases::test_strategy_config_custom_values 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.02, 'max_lot': 10.0, 'kill_switch_dd': 0.25, 'enable_spike_guard': False}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 25.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestEdgeCases::test_try_import_install_success_no_version 
-------------------------------- live log call ---------------------------------
12:40:24 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: NOVERS. กำลังพยายามติดตั้ง...
12:40:24 [INFO] [gold_ai2025.try_import_with_install]    ติดตั้ง NOVERS สำเร็จ (pip stdout): <MagicMock name='run().stdout.__getitem__()' id='132160624129872'>...
12:40:24 [INFO] [gold_ai2025.try_import_with_install] [Patch] Successfully installed and imported NOVERS.
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_calculate_lot_by_fund_mode_bounds 12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:24 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:24 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:24 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:24 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:24 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:24 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:24 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:24 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:24 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:24 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:24 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:24 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:24 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'min_lot': 0.01, 'max_lot': 0.1, 'point_value': 0.1}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$50000.00, ATR=1.00000, SL Delta Price=1.00000
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Risk USD for trade: $1000.00
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Total risk in USD for one min_lot (0.01) with SL $1.00: $0.10000
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Raw lot size calculated (num_min_lots * min_lot): 100.0000
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Adjusted lot (balanced, no change from raw): 100.0000
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after rounding down to min_lot multiple: 100.0000
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after min/max capping: 0.1000
12:40:24 [INFO] [gold_ai2025.calculate_lot_by_fund_mode]    [LotCalc] Final Lot Size: 0.10 (MM Mode: 'balanced', Risk: 2.00%, Equity: $50000)
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$0.00, ATR=1.00000, SL Delta Price=1.00000
12:40:24 [WARNING] [gold_ai2025.calculate_lot_by_fund_mode] Equity is zero or negative. Returning min_lot.
12:40:24 [DEBUG] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$1000.00, ATR=1.00000, SL Delta Price=0.00000
12:40:24 [WARNING] [gold_ai2025.calculate_lot_by_fund_mode] SL delta price is near zero (0.00000). Returning min_lot.
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked 
-------------------------------- live log call ---------------------------------
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'n_walk_forward_splits': 2, 'initial_capital': 100.0}
12:40:24 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:24 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:24 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:24 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.55) for 2 folds.
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 2, Test size: 1) ---
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
12:40:24 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (1, 13)
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 3, Test size: 1) ---
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
12:40:24 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (1, 13)
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
12:40:24 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
12:40:24 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
12:40:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
12:40:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
12:40:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
12:40:25 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
PASSED
test_gold_ai.py::TestWFVandLotSizing::test_simulate_trades_multi_order_with_reentry 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
12:40:25 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2023-01-01 00:01:00.
PASSED
test_gold_ai.py::TestTP2AndBESL::test_besl_trigger 12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:25 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:25 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:25 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:25 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:25 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:25 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'base_tp_multiplier': 1.5, 'base_be_sl_r_threshold': 1.0, 'default_sl_multiplier': 1.0, 'enable_be_sl': True, 'enable_partial_tp': False}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:995, PNL:0.0
=== trade_log for BE-SL debug ===
{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000, 'stop_loss': 999.0, 'take_profit': 1001.5, 'side': 'BUY', 'exit_price': 995, 'exit_reason': 'BE-SL', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0}
PASSED
test_gold_ai.py::TestTP2AndBESL::test_partial_tp2_trigger 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.8, 'close_pct': 0.5}, {'r_multiple': 1.2, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': False, 'base_tp_multiplier': 2.0, 'default_sl_multiplier': 1.0}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
PASSED
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_tsl_tp_be_sl 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5, 'base_tp_multiplier': 1.5, 'default_sl_multiplier': 1.0, 'base_be_sl_r_threshold': 1.0, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.5, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': True}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
PASSED
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_with_kill_switch_activation 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.5, 'initial_capital': 10.0, 'kill_switch_dd': 0.1, 'kill_switch_consecutive_losses': 1, 'recovery_mode_consecutive_losses': 1}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.500, Max Hold: 24 bars, Kill DD: 10.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Triggered SL: {'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'exit_price': 998.5, 'exit_reason': 'SL', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': -1.5}
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Kill switch activated at bar 0
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_multi_order_reentry_succeeds 12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:25 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:25 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:25 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:25 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:25 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:25 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999.0, PNL:0.0
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1003.0, Exit:1000.0, PNL:0.0
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_BE_SL_multi 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1002, Exit:1001, PNL:0.0
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004, Exit:1003, PNL:0.0
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_strict 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001, Exit:1000, PNL:0.0
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_with_reentry_fixed 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
12:40:25 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2023-01-01 00:01:00.
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_reentry_strict 
-------------------------------- live log call ---------------------------------
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
12:40:25 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:25 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:25 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000, Exit:999, PNL:0.0
12:40:25 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004, Exit:1003, PNL:0.0
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_corrupt_encoding 12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:25 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:25 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:25 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:25 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:25 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:25 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:25 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
12:40:25 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bad_encoding.csv
12:40:25 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
12:40:25 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'bad_encoding.csv': 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1355, in safe_load_csv_auto
    load_logger.debug("         -> No .gz extension, using standard pd.read_csv.")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_gz_with_corrupt_content 
-------------------------------- live log call ---------------------------------
12:40:25 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bad_file.csv.gz
12:40:25 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> Detected .gz extension, using gzip.
12:40:25 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'bad_file.csv.gz': corrupt gzip
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1351, in safe_load_csv_auto
    load_logger.debug("         -> Detected .gz extension, using gzip.")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
OSError: corrupt gzip
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_denied 
-------------------------------- live log call ---------------------------------
12:40:25 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /root/denied
12:40:25 [INFO] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
12:40:25 [ERROR] [gold_ai2025.setup_output_directory]    (Error) ไม่สามารถสร้างหรือเข้าถึง Output Directory '/root/denied': Permission denied
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1208, in setup_output_directory
    test_file_path = os.path.join(output_path, ".write_test")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Permission denied
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_utf8_bom_file 
-------------------------------- live log call ---------------------------------
12:40:25 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bom_file.csv
12:40:25 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_set_thai_font_without_matplotlib 
-------------------------------- live log call ---------------------------------
12:40:25 [INFO] [gold_ai2025.set_thai_font]    [Font Check] Searching for preferred fonts: ['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Loma': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'TH Sarabun New': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'THSarabunNew': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Garuda': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Norasi': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Kinnari': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Waree': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Laksaman': matplotlib not available
12:40:25 [WARNING] [gold_ai2025.set_thai_font]    (Warning) Could not find any suitable Thai fonts (['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']) using findfont.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_normal 12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:25 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:25 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:25 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:26 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:26 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:26 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:26 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:26 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:26 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_empty 12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:26 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:26 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:26 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:26 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:26 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:26 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:26 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:26 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:26 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:26 [DEBUG] [gold_ai2025.ema] [Patch AI Studio v4.9.26] Empty input detected in ema, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_normal 12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:26 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:26 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:26 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:26 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:26 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:26 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:26 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:26 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:26 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:26 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:26 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:26 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_invalid_period 12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:27 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:27 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:27 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:27 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:27 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:27 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:27 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:27 [ERROR] [gold_ai2025.sma] Invalid period (0). Must be a positive integer.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_normal 12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:27 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:27 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:27 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:27 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:27 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:27 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:27 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_empty 12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:27 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:27 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:27 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:27 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:27 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:27 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:27 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:27 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:27 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:27 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:27 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:27 [DEBUG] [gold_ai2025.rsi] [Patch AI Studio v4.9.26] Empty input detected in rsi, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_valid 12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:28 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:28 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:28 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:28 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:28 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:28 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:28 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:28 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_missing_cols 12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:28 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:28 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:28 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:28 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:28 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:28 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:28 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:28 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:28 [WARNING] [gold_ai2025.atr]    (Warning) ATR calculation skipped: Missing columns ['High', 'Low', 'Close'].
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_normal 12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:28 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:28 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:28 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:28 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:28 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:29 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:29 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:29 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:29 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:29 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:29 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (5 < 26).
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_empty 12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:29 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:29 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:29 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:29 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:29 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:29 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:29 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:29 [DEBUG] [gold_ai2025.macd] Input series is None or empty, returning empty series for MACD components.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rolling_zscore_short_series 12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:29 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:29 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:29 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:29 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:29 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:29 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:29 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:29 [DEBUG] [gold_ai2025.rolling_zscore] Input series too short (< 2), returning zeros.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_tag_price_structure_patterns_missing_col 12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:29 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:29 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:29 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:29 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:29 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:29 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:29 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:29 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:29 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:29 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:29 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_calculate_m15_trend_zone_minimal 12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:30 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:30 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:30 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:30 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:30 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:30 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:30 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:30 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:30 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:30 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:30 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_na 12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:30 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:30 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:30 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:30 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:30 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:30 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:30 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:30 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:30 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:31 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_zones 12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:31 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:31 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:31 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:31 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:31 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:31 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:31 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_engineer_m1_features_empty 12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:31 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:31 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:31 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:31 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:31 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:31 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:31 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:31 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
12:40:31 [WARNING] [gold_ai2025.engineer_m1_features]    (Warning) ข้ามการสร้าง Features M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_clean_m1_data_empty 12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:31 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:31 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:31 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:31 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:31 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:31 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:31 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:31 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
12:40:31 [INFO] [gold_ai2025.clean_m1_data] (Processing) กำหนด Features M1 สำหรับ Drift และแปลงประเภท (using StrategyConfig)...
12:40:31 [WARNING] [gold_ai2025.clean_m1_data]    (Warning) ข้ามการทำความสะอาดข้อมูล M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_ema_negative_period 12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:31 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:31 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:31 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:31 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:31 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:31 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:31 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:31 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_sma_not_series 12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:31 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:32 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:32 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:32 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:32 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:32 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:32 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:32 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock, returning False.
12:40:32 [ERROR] [gold_ai2025.sma] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rsi_not_series 12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:32 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:32 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:32 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:32 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:32 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:32 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:32 [ERROR] [gold_ai2025.rsi] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_atr_invalid_type 12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:32 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:32 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:32 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:32 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:32 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:32 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:32 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock, returning False.
12:40:32 [ERROR] [gold_ai2025.atr] Input must be a pandas DataFrame, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_macd_invalid_type 12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:32 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:32 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:32 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:32 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:32 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:32 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:32 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:32 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:32 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:32 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock, returning False.
12:40:32 [ERROR] [gold_ai2025.macd] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rolling_zscore_nan 12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:33 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:33 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:33 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:33 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:33 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:33 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty 12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:33 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:33 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:33 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:33 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:33 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:33 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:33 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:33 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty 12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:33 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:33 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:33 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:33 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:33 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:33 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:33 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:33 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:33 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty_df 12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:33 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:33 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:33 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:33 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:33 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:34 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:34 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:34 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:34 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:34 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_df 12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:34 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:34 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:34 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:34 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:34 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:34 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:34 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_type_guard 12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:34 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:34 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:34 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:34 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:34 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:34 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:34 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_expected_type_guard 12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:34 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:34 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:34 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:34 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:34 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:34 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:34 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_guard 12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:34 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:34 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:34 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:34 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:34 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:34 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:34 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:34 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:34 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:34 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:34 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:34 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_expected_type_guard 12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:35 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:35 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:35 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:35 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:35 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:35 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:35 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:35 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::test_trade_manager_update_methods 12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:35 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:35 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:35 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:35 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:35 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:35 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:35 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:35 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:35 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:35 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:35 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
12:40:35 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
12:40:35 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): NaT
12:40:35 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
12:40:35 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
PASSED
test_gold_ai.py::test_run_backtest_simulation_minimal 12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:35 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:35 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:35 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:35 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:35 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:36 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:36 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:36 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:36 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:36 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:36 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:36 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:36 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:36 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Test', Side='BUY', Fold=N/A ---
12:40:36 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] RiskManager (risk_manager_obj) not provided. Initializing new one.
12:40:36 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:36 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] TradeManager (trade_manager_obj) not provided. Initializing new one.
12:40:36 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Test
12:40:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 36 columns for _Test.
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initial KillSwitchState=False, InitialConsecLosses=0
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Simulation loop finished for Test. Finalizing remaining orders...
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Created trade log DataFrame for Test with 0 entries.
12:40:36 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY]   (Finished) Test (BUY) simulation complete. Final Equity: $1000.00
PASSED
test_gold_ai.py::test_calculate_metrics_minimal 12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:36 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:36 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:36 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:36 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:36 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:36 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:36 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:36 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:36 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'minimal_test': {'fold_tag': 'minimal_test', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 10.0}
PASSED
test_gold_ai.py::test_safe_load_csv_auto_nonexistent 12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:36 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:36 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:36 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:36 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:36 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:36 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:36 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:36 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:36 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:36 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:36 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) ไม่พบไฟล์: file_that_does_not_exist.csv
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_float_fmt_cases 12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:37 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:37 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:37 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:37 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:37 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:37 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe 12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:37 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:37 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:37 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:37 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:37 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:37 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:37 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 'str', returning False.
12:40:37 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock, returning False.
12:40:37 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: (123, 'bad'), returning False.
12:40:37 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: <test_gold_ai.TestRobustFormatAndTypeGuard.test_isinstance_safe.<locals>.DummyType object at 0x7833068912d0>, returning False.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_trade_manager_update_last_trade_time 12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:37 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:37 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:37 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:37 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:37 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:37 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:37 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:37 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:37 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:37 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:37 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:37 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:37 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:37 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:37 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:40:37 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
12:40:37 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
12:40:37 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
12:40:37 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
12:40:37 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
12:40:37 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
12:40:37 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
12:40:37 [WARNING] [root] [Patch AI Studio v4.9.40] Could not parse trade_time: not-a-date
PASSED
test_gold_ai.py::test_full_e2e_backtest_and_export 12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.54_FULL_PASS - Logger Initialized (Import Phase).
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
12:40:37 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Importing core libraries (with robust fallbacks)...

-------------------------------- live log call ---------------------------------
12:40:37 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
12:40:37 - CRITICAL - [GoldAI_Enterprise_v4.9] - [CRITICAL IMPORT FAIL] Pandas library could not be imported or installed. Many functionalities will fail.
12:40:37 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
12:40:37 - CRITICAL - [GoldAI_Enterprise_v4.9] - [CRITICAL IMPORT FAIL] NumPy library could not be imported or installed. Many functionalities will fail.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
12:40:38 - WARNING - [GoldAI_Enterprise_v4.9] -    (Fallback) Using dummy tqdm as tqdm.notebook import failed.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
12:40:40 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
12:40:40 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
12:40:40 [DEBUG] [matplotlib] interactive is False
12:40:40 [DEBUG] [matplotlib] platform is linux
12:40:40 [DEBUG] [matplotlib] CACHEDIR=/root/.cache/matplotlib
12:40:40 [DEBUG] [matplotlib.font_manager] Using fontManager instance from /root/.cache/matplotlib/fontlist-v390.json
12:40:41 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
12:40:41 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
12:40:41 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
12:40:41 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
12:40:41 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
12:40:43 [DEBUG] [pydot] pydot initializing
12:40:43 [DEBUG] [pydot] pydot 3.0.4
12:40:43 [DEBUG] [pydot.dot_parser] pydot dot_parser module initializing
12:40:43 [DEBUG] [pydot.core] pydot core module initializing
12:40:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.54_FULL_PASS
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
12:40:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:45 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
12:40:45 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
12:40:45 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
12:40:45 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
12:40:45 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:45 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:45 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:45 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:45 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/pytest-of-root/pytest-1/test_full_e2e_backtest_and_exp0/random_gold.csv
12:40:45 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /tmp/pytest-of-root/pytest-1/test_full_e2e_backtest_and_exp0/random_gold.csv
12:40:45 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
12:40:45 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
12:40:45 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
12:40:45 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
12:40:45 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
12:40:45 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Price Jumps ที่ผิดปกติ.
12:40:46 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 50 แถว
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:46 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
12:40:46 [ERROR] [gold_ai2025.macd]    (Error) MACD calculation error: module 'ta' has no attribute 'trend'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 2107, in macd
    macd_indicator = ta.trend.MACD(close=series_numeric, window_slow=window_slow, window_fast=window_fast, window_sign=window_sign, fillna=False)  # type: ignore
                     ^^^^^^^^
AttributeError: module 'ta' has no attribute 'trend'
12:40:46 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
12:40:46 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
12:40:47 [ERROR] [gold_ai2025.rsi]    (Error) RSI calculation error for period 14: module 'ta' has no attribute 'momentum'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1996, in rsi
    rsi_indicator = ta.momentum.RSIIndicator(close=series_numeric, window=period, fillna=False)  # type: ignore
                    ^^^^^^^^^^^
AttributeError: module 'ta' has no attribute 'momentum'
12:40:47 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) ไม่สามารถคำนวณ ADX: module 'ta' has no attribute 'trend'. Setting to 25.0.
12:40:47 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
12:40:47 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
12:40:47 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
12:40:47 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
12:40:47 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
12:40:47 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:40:47 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:40:47 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
12:40:48 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:40:48 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:40:48 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:40:48 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 50 values...
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 50. Remaining: 0
12:40:48 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
12:40:49 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (50, 32)
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.01}
12:40:49 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:49 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
12:40:49 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
FAILED
test_gold_ai.py::test_run_wfv_multi_fold 
-------------------------------- live log call ---------------------------------
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.01}
12:40:49 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
12:40:49 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
12:40:49 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:49 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
12:40:49 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.30) for 2 folds.
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 20, Test size: 20) ---
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
12:40:49 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:40:49 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (20, 15)
12:40:49 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
12:40:49 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
12:40:49 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:49 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:49 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
12:40:49 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:49 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:40:50 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
12:40:50 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
12:40:50 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
12:40:50 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250519_124050.json
12:40:50 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:50 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
12:40:50 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
12:40:50 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:50 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:50 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
12:40:50 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:50 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:40:50 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
12:40:50 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
12:40:50 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
12:40:50 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250519_124050.json
12:40:50 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:51 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 40, Test size: 20) ---
12:40:51 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
12:40:51 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
12:40:51 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:40:51 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (20, 15)
12:40:51 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
12:40:51 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
12:40:51 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:51 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:51 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
12:40:51 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:51 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:40:51 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
12:40:51 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
12:40:51 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
12:40:51 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250519_124051.json
12:40:51 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:52 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
12:40:52 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
12:40:52 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:52 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:52 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
12:40:52 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:52 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:40:52 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
12:40:52 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
12:40:52 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
12:40:52 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250519_124052.json
12:40:52 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:53 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
12:40:53 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
12:40:53 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
12:40:53 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
12:40:53 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
12:40:53 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
12:40:53 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
12:40:53 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'FALLBACK_FUND_WFV_ALL_SUMMARY' exported to: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250519_124053.json
12:40:53 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
12:40:53 [DEBUG] [matplotlib.pyplot] Loaded backend module://matplotlib_inline.backend_inline version unknown.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=16.0.
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.33499999999999996
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.25
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.535
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
12:40:53 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=16.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf') with score of 0.050000.
12:40:54 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
12:40:54 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
12:40:55 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
12:40:55 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 3, 'risk_per_trade': 0.01}
12:40:55 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:55 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:55 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:55 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
12:40:55 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
12:40:55 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:40:55 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
12:40:55 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.50) for 3 folds.
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 19, Test size: 17) ---
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
12:40:55 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:40:55 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (17, 15)
12:40:55 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
12:40:55 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
12:40:55 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:55 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:55 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
12:40:55 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:55 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:40:56 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
12:40:56 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
12:40:56 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
12:40:56 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250519_124056.json
12:40:56 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:56 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
12:40:56 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
12:40:56 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:56 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:56 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
12:40:56 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:56 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:40:57 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
12:40:57 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
12:40:57 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
12:40:57 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250519_124057.json
12:40:57 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:58 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 36, Test size: 17) ---
12:40:58 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
12:40:58 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
12:40:58 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:40:58 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (17, 15)
12:40:58 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
12:40:58 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
12:40:58 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:58 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:58 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
12:40:58 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:58 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:40:58 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
12:40:58 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
12:40:58 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
12:40:58 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250519_124058.json
12:40:58 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:40:59 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
12:40:59 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
12:40:59 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:40:59 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:40:59 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
12:40:59 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:40:59 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:40:59 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
12:40:59 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
12:40:59 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
12:40:59 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250519_124059.json
12:40:59 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:00 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_3_FALLBACK_FUND (Train size: 53, Test size: 17) ---
12:41:00 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_3_FALLBACK_FUND: 0.300
12:41:00 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_3_FALLBACK_FUND using its specific fold_config...
12:41:00 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:00 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_3_FALLBACK_FUND after signal calculation: (17, 15)
12:41:00 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_3_FALLBACK_FUND...
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_BUY', Side='BUY', Fold=2 ---
12:41:00 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_BUY
12:41:00 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_BUY.
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:00 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:00 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_3_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_3_FALLBACK_FUND_BUY with 0 entries.
12:41:00 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:00 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_3_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:41:01 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'...
12:41:01 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]     No trades logged for 'Fold_3_FALLBACK_FUND BUY'.
12:41:01 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'.
12:41:01 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_3_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_3_FALLBACK_FUND_BUY_metrics_20250519_124101.json
12:41:01 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:01 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_3_FALLBACK_FUND...
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_SELL', Side='SELL', Fold=2 ---
12:41:01 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_SELL
12:41:01 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_SELL.
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:01 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:01 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_3_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_3_FALLBACK_FUND_SELL with 0 entries.
12:41:01 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:01 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_3_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:41:01 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'...
12:41:01 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]     No trades logged for 'Fold_3_FALLBACK_FUND SELL'.
12:41:01 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'.
12:41:01 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_3_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_3_FALLBACK_FUND_SELL_metrics_20250519_124101.json
12:41:01 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:02 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 3 Folds for Fund: FALLBACK_FUND ---
12:41:02 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
12:41:02 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
12:41:02 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
12:41:02 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
12:41:02 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
12:41:02 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
12:41:02 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'FALLBACK_FUND_WFV_ALL_SUMMARY' exported to: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250519_124102.json
12:41:02 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
12:41:03 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
12:41:03 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
12:41:04 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
12:41:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 4, 'risk_per_trade': 0.01}
12:41:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:41:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
12:41:04 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
12:41:04 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:41:04 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
12:41:04 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.70) for 4 folds.
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 16, Test size: 16) ---
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
12:41:04 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:04 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (16, 15)
12:41:04 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
12:41:04 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
12:41:04 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000016) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000017) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000018) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:04 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:04 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
12:41:04 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:04 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:41:05 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
12:41:05 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
12:41:05 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
12:41:05 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250519_124105.json
12:41:05 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:05 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
12:41:05 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
12:41:05 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000016) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000017) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000018) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:05 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:05 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
12:41:05 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:05 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:41:06 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
12:41:06 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
12:41:06 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
12:41:06 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250519_124106.json
12:41:06 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:06 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 32, Test size: 16) ---
12:41:06 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
12:41:06 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
12:41:06 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:06 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (16, 15)
12:41:06 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
12:41:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
12:41:06 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:06 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:06 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
12:41:06 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:06 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:41:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
12:41:07 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
12:41:07 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
12:41:07 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250519_124107.json
12:41:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:07 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
12:41:07 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
12:41:07 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:07 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:07 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
12:41:07 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:07 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:41:08 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
12:41:08 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
12:41:08 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
12:41:08 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250519_124108.json
12:41:08 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:09 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_3_FALLBACK_FUND (Train size: 48, Test size: 16) ---
12:41:09 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_3_FALLBACK_FUND: 0.300
12:41:09 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_3_FALLBACK_FUND using its specific fold_config...
12:41:09 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:09 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_3_FALLBACK_FUND after signal calculation: (16, 15)
12:41:09 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_3_FALLBACK_FUND...
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_BUY', Side='BUY', Fold=2 ---
12:41:09 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_BUY
12:41:09 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_BUY.
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:09 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:09 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_3_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_3_FALLBACK_FUND_BUY with 0 entries.
12:41:09 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:09 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_3_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:41:09 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'...
12:41:09 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]     No trades logged for 'Fold_3_FALLBACK_FUND BUY'.
12:41:09 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'.
12:41:09 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_3_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_3_FALLBACK_FUND_BUY_metrics_20250519_124109.json
12:41:09 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:10 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_3_FALLBACK_FUND...
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_SELL', Side='SELL', Fold=2 ---
12:41:10 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_SELL
12:41:10 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_SELL.
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:10 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:10 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_3_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_3_FALLBACK_FUND_SELL with 0 entries.
12:41:10 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:10 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_3_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:41:11 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'...
12:41:11 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]     No trades logged for 'Fold_3_FALLBACK_FUND SELL'.
12:41:11 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'.
12:41:11 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_3_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_3_FALLBACK_FUND_SELL_metrics_20250519_124111.json
12:41:11 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:11 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_4_FALLBACK_FUND (Train size: 64, Test size: 16) ---
12:41:11 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_4_FALLBACK_FUND: 0.300
12:41:11 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_4_FALLBACK_FUND using its specific fold_config...
12:41:11 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:12 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_4_FALLBACK_FUND after signal calculation: (16, 15)
12:41:12 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_4_FALLBACK_FUND...
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_4_FALLBACK_FUND_BUY', Side='BUY', Fold=3 ---
12:41:12 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_4_FALLBACK_FUND_BUY
12:41:12 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_4_FALLBACK_FUND_BUY.
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_4_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000070) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000070: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000071) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000071: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000072) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000072: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000073) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000073: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000074) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000074: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000075) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000075: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000076) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000076: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000077) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000077: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000078) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000078: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000079) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:12 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000079: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:12 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_4_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_4_FALLBACK_FUND_BUY with 0 entries.
12:41:12 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:12 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_4_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
12:41:12 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_4_FALLBACK_FUND BUY'...
12:41:12 [WARNING] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]     No trades logged for 'Fold_4_FALLBACK_FUND BUY'.
12:41:12 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_4_FALLBACK_FUND BUY'.
12:41:12 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_4_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_4_FALLBACK_FUND_BUY_metrics_20250519_124112.json
12:41:12 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_4_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:13 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_4_FALLBACK_FUND...
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_4_FALLBACK_FUND_SELL', Side='SELL', Fold=3 ---
12:41:13 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_4_FALLBACK_FUND_SELL
12:41:13 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_4_FALLBACK_FUND_SELL.
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_4_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000070) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000070: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000071) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000071: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000072) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000072: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000073) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000073: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000074) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000074: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000075) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000075: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000076) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000076: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000077) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000077: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000078) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000078: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000079) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:13 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=1000.00, Peak=1000.00, DD=0.0000
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000079: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:13 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_4_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_4_FALLBACK_FUND_SELL with 0 entries.
12:41:13 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:13 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_4_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
12:41:13 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_4_FALLBACK_FUND SELL'...
12:41:13 [WARNING] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]     No trades logged for 'Fold_4_FALLBACK_FUND SELL'.
12:41:13 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_4_FALLBACK_FUND SELL'.
12:41:13 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_4_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_4_FALLBACK_FUND_SELL_metrics_20250519_124113.json
12:41:13 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_4_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
12:41:14 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 4 Folds for Fund: FALLBACK_FUND ---
12:41:14 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
12:41:14 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
12:41:14 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
12:41:14 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
12:41:14 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
12:41:14 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
12:41:14 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'FALLBACK_FUND_WFV_ALL_SUMMARY' exported to: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250519_124114.json
12:41:14 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
12:41:15 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
12:41:15 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
12:41:16 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
12:41:16 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
PASSED
test_gold_ai.py::test_risk_trade_manager_forced_entry_spike 
-------------------------------- live log call ---------------------------------
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:41:16 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:16 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
12:41:16 [ERROR] [gold_ai2025.macd]    (Error) MACD calculation error: module 'ta' has no attribute 'trend'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 2107, in macd
    macd_indicator = ta.trend.MACD(close=series_numeric, window_slow=window_slow, window_fast=window_fast, window_sign=window_sign, fillna=False)  # type: ignore
                     ^^^^^^^^
AttributeError: module 'ta' has no attribute 'trend'
12:41:16 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
12:41:16 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
12:41:17 [ERROR] [gold_ai2025.rsi]    (Error) RSI calculation error for period 14: module 'ta' has no attribute 'momentum'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1996, in rsi
    rsi_indicator = ta.momentum.RSIIndicator(close=series_numeric, window=period, fillna=False)  # type: ignore
                    ^^^^^^^^^^^
AttributeError: module 'ta' has no attribute 'momentum'
12:41:17 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) ไม่สามารถคำนวณ ADX: ข้อมูลไม่เพียงพอ. Setting to 25.0.
12:41:17 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
12:41:17 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
12:41:17 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
12:41:17 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
12:41:17 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
12:41:17 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:41:17 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:41:17 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
12:41:17 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:41:17 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:41:17 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:41:17 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:41:17 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
12:41:17 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
12:41:18 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
12:41:18 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:41:18 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
12:41:19 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
12:41:19 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
12:41:19 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
12:41:19 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:19 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:41:19 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:41:19 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
12:41:19 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
FAILED
test_gold_ai.py::test_ml_inference_path 
-------------------------------- live log call ---------------------------------
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 500, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.02, 'use_catboost': True, 'use_shap': True}
12:41:19 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 20.00%
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
12:41:19 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
12:41:19 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:41:19 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
12:41:19 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.33) for 2 folds.
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 8, Test size: 6) ---
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
12:41:19 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:19 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (6, 15)
12:41:19 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
12:41:19 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
12:41:19 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $500.00, Risk: 2.000%, MM Mode: balanced
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/6 [00:00<?, ?it/s]
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000008) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000008: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000009) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000009: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000010) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000010: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000011) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000011: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000012) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000012: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000013) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:19 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000013: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:19 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
12:41:19 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:19 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $500.00
12:41:20 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
12:41:20 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
12:41:20 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
12:41:20 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250519_124120.json
12:41:20 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $500.00, Trades: 0
12:41:20 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
12:41:20 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
12:41:20 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $500.00, Risk: 2.000%, MM Mode: balanced
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/6 [00:00<?, ?it/s]
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000008) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000008: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000009) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000009: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000010) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000010: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000011) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000011: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000012) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000012: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000013) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:20 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000013: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:20 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
12:41:20 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:20 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $500.00
12:41:21 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
12:41:21 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
12:41:21 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
12:41:21 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_1_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250519_124121.json
12:41:21 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $500.00, Trades: 0
12:41:21 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 14, Test size: 6) ---
12:41:21 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
12:41:21 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
12:41:21 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
12:41:21 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (6, 15)
12:41:21 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
12:41:21 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
12:41:21 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $500.00, Risk: 2.000%, MM Mode: balanced
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/6 [00:00<?, ?it/s]
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000014) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000014: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000015) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000015: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000016) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000017) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000018) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000019) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:21 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:21 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
12:41:21 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:21 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $500.00
12:41:22 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
12:41:22 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
12:41:22 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
12:41:22 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_BUY_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250519_124122.json
12:41:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $500.00, Trades: 0
12:41:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
12:41:22 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
12:41:22 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $500.00, Risk: 2.000%, MM Mode: balanced
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/6 [00:00<?, ?it/s]
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000014) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000014: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000015) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000015: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000016) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000017) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000018) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000019) --- Equity: 500.00, Active: 0, ConsLoss: 0, KS_Active: False ---
12:41:22 [DEBUG] [gold_ai2025.RiskManager] Drawdown updated. Equity=500.00, Peak=500.00, DD=0.0000
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=500.00, Peak=500.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
12:41:22 [DEBUG] [gold_ai2025.spike_guard_blocked]    Spike Guard: Not London session ('Other'). No blocking by this rule.
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
12:41:22 [ERROR] [root] [Patch AI Studio v4.9.41] Error updating equity_tracker['history']: 'dict' object has no attribute 'append'
12:41:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $500.00
12:41:22 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
12:41:22 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
12:41:22 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
12:41:22 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'Fold_2_FALLBACK_FUND_SELL_metrics' exported to: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250519_124122.json
12:41:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $500.00, Trades: 0
12:41:23 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
12:41:23 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
12:41:23 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
12:41:23 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
12:41:23 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
12:41:23 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
12:41:23 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
12:41:23 [INFO] [gold_ai2025.export_run_summary_to_json] [Export] Run summary for 'FALLBACK_FUND_WFV_ALL_SUMMARY' exported to: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250519_124123.json
12:41:23 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
12:41:25 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
12:41:25 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
12:41:26 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
12:41:26 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
PASSED

=================================== FAILURES ===================================
______________________ test_full_e2e_backtest_and_export _______________________
test_gold_ai.py:1905: in test_full_e2e_backtest_and_export
    trade_log = res["trade_log"]
E   TypeError: tuple indices must be integers or slices, not str
------------------------------ Captured log call -------------------------------
12:40:37 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
12:40:37 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
12:40:38 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
12:40:40 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
12:40:40 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
12:40:40 [DEBUG] [matplotlib] interactive is False
12:40:40 [DEBUG] [matplotlib] platform is linux
12:40:40 [DEBUG] [matplotlib] CACHEDIR=/root/.cache/matplotlib
12:40:40 [DEBUG] [matplotlib.font_manager] Using fontManager instance from /root/.cache/matplotlib/fontlist-v390.json
12:40:41 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
12:40:41 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
12:40:41 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
12:40:41 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
12:40:41 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
12:40:43 [DEBUG] [pydot] pydot initializing
12:40:43 [DEBUG] [pydot] pydot 3.0.4
12:40:43 [DEBUG] [pydot.dot_parser] pydot dot_parser module initializing
12:40:43 [DEBUG] [pydot.core] pydot core module initializing
12:40:45 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
12:40:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
12:40:45 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
12:40:45 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
12:40:45 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
12:40:45 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
12:40:45 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
12:40:45 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
12:40:45 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
12:40:45 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
12:40:45 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/pytest-of-root/pytest-1/test_full_e2e_backtest_and_exp0/random_gold.csv
12:40:45 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /tmp/pytest-of-root/pytest-1/test_full_e2e_backtest_and_exp0/random_gold.csv
12:40:45 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
12:40:45 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
12:40:45 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
12:40:45 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
12:40:45 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
12:40:45 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
12:40:45 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Price Jumps ที่ผิดปกติ.
12:40:46 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 50 แถว
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:40:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:46 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
12:40:46 [ERROR] [gold_ai2025.macd]    (Error) MACD calculation error: module 'ta' has no attribute 'trend'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 2107, in macd
    macd_indicator = ta.trend.MACD(close=series_numeric, window_slow=window_slow, window_fast=window_fast, window_sign=window_sign, fillna=False)  # type: ignore
                     ^^^^^^^^
AttributeError: module 'ta' has no attribute 'trend'
12:40:46 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
12:40:46 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
12:40:47 [ERROR] [gold_ai2025.rsi]    (Error) RSI calculation error for period 14: module 'ta' has no attribute 'momentum'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1996, in rsi
    rsi_indicator = ta.momentum.RSIIndicator(close=series_numeric, window=period, fillna=False)  # type: ignore
                    ^^^^^^^^^^^
AttributeError: module 'ta' has no attribute 'momentum'
12:40:47 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) ไม่สามารถคำนวณ ADX: module 'ta' has no attribute 'trend'. Setting to 25.0.
12:40:47 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
12:40:47 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
12:40:47 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
12:40:47 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
12:40:47 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
12:40:47 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:40:47 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:40:47 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
12:40:48 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:40:48 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:40:48 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:40:48 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 50 values...
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 50. Remaining: 0
12:40:48 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
12:40:48 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
12:40:49 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
12:40:49 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (50, 32)
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.01}
12:40:49 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:40:49 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:40:49 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
12:40:49 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
__________________ test_risk_trade_manager_forced_entry_spike __________________
test_gold_ai.py:1982: in test_risk_trade_manager_forced_entry_spike
    log = result["trade_log"]
E   TypeError: tuple indices must be integers or slices, not str
------------------------------ Captured log call -------------------------------
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
12:41:16 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:16 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:16 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
12:41:16 [ERROR] [gold_ai2025.macd]    (Error) MACD calculation error: module 'ta' has no attribute 'trend'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 2107, in macd
    macd_indicator = ta.trend.MACD(close=series_numeric, window_slow=window_slow, window_fast=window_fast, window_sign=window_sign, fillna=False)  # type: ignore
                     ^^^^^^^^
AttributeError: module 'ta' has no attribute 'trend'
12:41:16 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
12:41:16 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
12:41:17 [ERROR] [gold_ai2025.rsi]    (Error) RSI calculation error for period 14: module 'ta' has no attribute 'momentum'.
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1996, in rsi
    rsi_indicator = ta.momentum.RSIIndicator(close=series_numeric, window=period, fillna=False)  # type: ignore
                    ^^^^^^^^^^^
AttributeError: module 'ta' has no attribute 'momentum'
12:41:17 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) ไม่สามารถคำนวณ ADX: ข้อมูลไม่เพียงพอ. Setting to 25.0.
12:41:17 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
12:41:17 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
12:41:17 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
12:41:17 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
12:41:17 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
12:41:17 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
12:41:17 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
12:41:17 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
12:41:17 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
12:41:17 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
12:41:17 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
12:41:17 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
12:41:17 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
12:41:17 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
12:41:18 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
12:41:18 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
12:41:18 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
12:41:19 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
12:41:19 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
12:41:19 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
12:41:19 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
12:41:19 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
12:41:19 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
12:41:19 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
12:41:19 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
12:41:19 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
=============================== warnings summary ===============================
test_gold_ai.py::test_run_backtest_simulation_minimal
  /content/drive/MyDrive/new/gold_ai2025.py:4998: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
    if equity_col_final_df_sim_val in df_sim.columns:

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.12-final-0 _______________

Name             Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------
gold_ai2025.py    3598   1807    886    160    45%   100-103, 106-110, 113-120, 139, 142, 144-146, 165, 169-172, 188-193, 201, 204-206, 208, 214-223, 236, 239, 242, 245, 255, 259, 263, 267, 280, 283, 286, 289, 292, 301, 304, 307, 310, 314, 317, 320, 334-335, 355->357, 369->371, 371->375, 394->404, 395->404, 397->404, 399-400, 437->441, 442->446, 451, 457-475, 483-495, 532, 556-578, 795, 991, 994-995, 1000-1001, 1010, 1012->1013, 1025, 1051->1054, 1054->1057, 1060->exit, 1064-1066, 1069-1075, 1080-1126, 1135-1136, 1139-1142, 1153->1154, 1155, 1191-1194, 1201, 1216-1219, 1232, 1234->1248, 1237->1234, 1246, 1248->1267, 1257-1265, 1268, 1278, 1282, 1285-1325, 1327->exit, 1328-1330, 1338, 1340->1344, 1342, 1345->1349, 1347, 1350->1355, 1353, 1362, 1370->exit, 1371->1375, 1372->exit, 1373->1374, 1373->exit, 1375->exit, 1376->exit, 1377->exit, 1378->exit, 1380->1383, 1385-1393, 1405, 1409->1411, 1415-1417, 1424-1475, 1507, 1513-1517, 1525, 1530->1529, 1537, 1542, 1549, 1555, 1562-1564, 1568, 1580, 1586-1588, 1591, 1598, 1606, 1622-1623, 1631, 1634-1635, 1647->1676, 1658->1664, 1666-1674, 1684-1686, 1689-1691, 1727, 1730, 1733, 1736-1737, 1741-1742, 1749-1750, 1764->1819, 1771-1774, 1777->1776, 1779->1781, 1781->1776, 1786-1788, 1793-1815, 1828, 1833-1847, 1857, 1861-1862, 1870, 1876-1879, 1888-1895, 1925->1926, 1925->1927, 1930-1931, 1943, 1952-1954, 2001, 2012-2013, 2020, 2047->2056, 2050, 2056->2077, 2062->2066, 2064->2066, 2094, 2108-2113, 2122-2124, 2127, 2131, 2140-2141, 2146, 2188, 2190->2192, 2201, 2209, 2217-2221, 2250, 2262, 2302, 2340, 2430-2431, 2437-2503, 2544->2547, 2559->2562, 2592, 2622-2690, 2697-2761, 2769-2790, 2797-2949, 2959-2979, 2997-3049, 3083, 3107-3108, 3140-3507, 3570-3625, 3628-3630, 3691, 3693->3696, 3704, 3709-3713, 3718, 3723-3726, 3728-3729, 3732-3738, 3742-3744, 3749-3752, 3755, 3764-3803, 3812-3842, 3858, 3866-3868, 3876, 3898-3902, 3906-3913, 3921->3929, 3930, 3943-3961, 4003-4004, 4009-4010, 4057-4083, 4098-4168, 4189-4248, 4273-4274, 4277-4278, 4288-4378, 4387-4467, 4476-4584, 4646, 4751-4830, 4834->4952, 4851, 4858-4939, 4949, 4953, 4971, 4998->5036, 5000->5036, 5005->5025, 5013->5020, 5016-5018, 5056-5080, 5136-5139, 5142-5210, 5213-5219, 5222-5252, 5259-5269, 5318, 5323, 5331->5333, 5335, 5337->5384, 5374, 5378, 5382, 5396->5397, 5398->5417, 5417->5453, 5425->5453, 5428-5450, 5524->5562, 5568->5570, 5604-5608, 5621-5652, 5677-5681, 5683, 5703->5705, 5708->5714, 5714->5722, 5722->5734, 5726-5732, 5735, 5737->5742, 6050-6204, 6209-6558, 6593-6623, 6630-6637, 6649-6674, 6691-6733, 6741-6797, 6821-6958, 6981->6984, 6992, 7009->7022, 7025, 7032-7037, 7042, 7045->7053, 7047-7048, 7050-7051, 7054, 7069-7078, 7080->7022, 7091, 7097-7101, 7104->7093, 7109, 7112, 7116->7127, 7117->7127, 7139, 7158-7187, 7220->7221, 7222
------------------------------------------------------------
TOTAL             3598   1807    886    160    45%
============================= slowest 10 durations =============================
26.77s call     test_gold_ai.py::test_run_wfv_multi_fold
11.84s call     test_gold_ai.py::test_full_e2e_backtest_and_export
6.90s call     test_gold_ai.py::test_ml_inference_path
3.11s call     test_gold_ai.py::test_risk_trade_manager_forced_entry_spike
1.31s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat
0.76s call     test_gold_ai.py::test_run_backtest_simulation_minimal
0.74s call     test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked
0.64s setup    test_gold_ai.py::TestFeatureEngineeringCoverage::test_calculate_m15_trend_zone_minimal
0.59s call     test_gold_ai.py::test_trade_manager_update_methods
0.57s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_duplicate_index
=========================== short test summary info ============================
FAILED test_gold_ai.py::test_full_e2e_backtest_and_export - TypeError: tuple indices must be integers or slices, not str
FAILED test_gold_ai.py::test_risk_trade_manager_forced_entry_spike - TypeError: tuple indices must be integers or slices, not str
============= 2 failed, 103 passed, 1 warning in 67.87s (0:01:07) ==============

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.11.12, pytest-8.3.5, pluggy-1.5.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /content/drive/MyDrive/new
configfile: pytest.ini
plugins: cov-6.1.1, langsmith-0.3.42, anyio-4.9.0, typeguard-4.4.2
[1mcollecting ... [0m
[1m----------------------------- live log collection ------------------------------[0m
10:54:58 [[32mINFO[0m] [numexpr.utils] NumExpr defaulting to 2 threads.
collected 213 items

test_gold_ai.py::TestGoldAIPart1SetupAndEnv::test_environment_is_colab_drive_mount_succeeds 
[1m-------------------------------- live log call ---------------------------------[0m
10:54:59 [[35mDEBUG[0m] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
10:54:59 [[35mDEBUG[0m] [matplotlib] CONFIGDIR=/root/.config/matplotlib
10:54:59 [[35mDEBUG[0m] [matplotlib] interactive is False
10:54:59 [[35mDEBUG[0m] [matplotlib] platform is linux
10:55:00 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:00 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:00 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:00 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:00 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:00 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:00 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [  0%][0m
test_gold_ai.py::TestGoldAI2025::test_all_module_functions_present 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:00 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:00 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:00 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:00 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:00 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:00 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:00 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [  0%][0m
test_gold_ai.py::TestGoldAI2025::test_check_kill_switch_logic 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Checking Kill Switch at 2021-01-01 00:00:00: Equity=80.00, Peak=100.00, DDThresh=10.00%, ConsLossThresh=5, CurrentConsLoss=0, ActiveStatus=False
10:55:00 [[31mCRITICAL[0m] [test_kill._check_kill_switch] [KILL SWITCH - DD] Triggered at 2021-01-01 00:00:00. DD=20.00% >= Threshold=10.00%. Equity=80.00, Peak=100.00
10:55:00 [[32mINFO[0m] [test_kill._check_kill_switch] Kill Switch newly activated at 2021-01-01 00:00:00 (DD: True, ConsLoss: False).
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Kill Switch check result: TriggeredNow=True, NewActiveStatus=True
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Checking Kill Switch at 2021-01-01 00:00:00: Equity=100.00, Peak=100.00, DDThresh=50.00%, ConsLossThresh=3, CurrentConsLoss=4, ActiveStatus=False
10:55:00 [[31mCRITICAL[0m] [test_kill._check_kill_switch] [KILL SWITCH - CONSECUTIVE LOSS] Triggered at 2021-01-01 00:00:00. Losses=4 >= Threshold=3.
10:55:00 [[32mINFO[0m] [test_kill._check_kill_switch] Kill Switch newly activated at 2021-01-01 00:00:00 (DD: False, ConsLoss: True).
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Kill Switch check result: TriggeredNow=True, NewActiveStatus=True
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Checking Kill Switch at 2021-01-01 00:00:00: Equity=90.00, Peak=100.00, DDThresh=50.00%, ConsLossThresh=5, CurrentConsLoss=1, ActiveStatus=False
10:55:00 [[35mDEBUG[0m] [test_kill._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
[32mPASSED[0m[32m                                                                   [  1%][0m
test_gold_ai.py::TestGoldAI2025::test_check_margin_call 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.check_margin_call] [MARGIN CALL] Current equity (-1.00) is at or below margin call level (0.00).
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.check_margin_call] [MARGIN CALL] Current equity (5.00) is at or below margin call level (5.00).
[32mPASSED[0m[32m                                                                   [  1%][0m
test_gold_ai.py::TestGoldAI2025::test_forced_entry_audit_in_trade_log [32mPASSED[0m[32m [  2%][0m
test_gold_ai.py::TestGoldAI2025::test_library_already_imported 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.log_library_version] (Info) Using BAZ version: 1.0
[32mPASSED[0m[32m                                                                   [  2%][0m
test_gold_ai.py::TestGoldAI2025::test_library_import_fails_install_succeeds 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[33mWARNING[0m] [gold_ai2025.try_import_with_install] ‡πÑ‡∏°‡πà‡∏û‡∏ö Library: BAR. ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á...
10:55:00 [[32mINFO[0m] [gold_ai2025.try_import_with_install]    ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á BAR ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (pip stdout): <MagicMock name='run().stdout.__getitem__()' id='136309409478800'>...
10:55:00 [[32mINFO[0m] [gold_ai2025.try_import_with_install] [Patch] Successfully installed and imported BAR version: 0.2
[32mPASSED[0m[32m                                                                   [  3%][0m
test_gold_ai.py::TestGoldAI2025::test_load_app_config_not_found 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[33mWARNING[0m] [gold_ai2025.load_app_config] Function 'load_app_config' is DEPRECATED. Use 'load_config_from_yaml' with StrategyConfig instead.
10:55:00 [[31m[1mERROR[0m] [gold_ai2025.load_app_config]    (Config Error) Configuration file 'nofile.json' not found. Using default script values.
[32mPASSED[0m[32m                                                                   [  3%][0m
test_gold_ai.py::TestGoldAI2025::test_load_app_config_success 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[33mWARNING[0m] [gold_ai2025.load_app_config] Function 'load_app_config' is DEPRECATED. Use 'load_config_from_yaml' with StrategyConfig instead.
10:55:00 [[32mINFO[0m] [gold_ai2025.load_app_config]    (Config) Successfully loaded configuration from: /content/drive/MyDrive/new/cfg.json
[32mPASSED[0m[32m                                                                   [  4%][0m
test_gold_ai.py::TestGoldAI2025::test_load_config_from_yaml 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.load_config_from_yaml] Successfully loaded configuration from: dummy.yaml
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.02, 'max_lot': 2.0}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [  4%][0m
test_gold_ai.py::TestGoldAI2025::test_load_data_and_plotting 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data] (Loading) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏à‡∏≤‡∏Å: /content/drive/MyDrive/new/testdata.csv
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data]    ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: /content/drive/MyDrive/new/testdata.csv
10:55:00 [[35mDEBUG[0m] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
10:55:00 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
10:55:00 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö % NaN ‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏£‡∏≤‡∏Ñ‡∏≤...
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Duplicates (Date & Timestamp)...
10:55:00 [[35mDEBUG[0m] [gold_ai2025.load_data]       ‡πÑ‡∏°‡πà‡∏û‡∏ö Duplicates (Date & Timestamp).
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Price Jumps (Threshold > 10.0%)...
10:55:00 [[35mDEBUG[0m] [gold_ai2025.load_data]       ‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Price Jumps (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Close ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 2 ‡πÅ‡∏ñ‡∏ß).
10:55:00 [[32mINFO[0m] [gold_ai2025.load_data] (Success) ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: 1 ‡πÅ‡∏ñ‡∏ß
10:55:00 [[32mINFO[0m] [gold_ai2025.plot_equity_curve.demo] 
--- (Plotting) Plotting Equity Curve: Unit Test ---
[32mPASSED[0m[32m                                                                   [  5%][0m
test_gold_ai.py::TestGoldAI2025::test_log_library_version_info [32mPASSED[0m[32m    [  5%][0m
test_gold_ai.py::TestGoldAI2025::test_log_library_version_none [32mPASSED[0m[32m    [  6%][0m
test_gold_ai.py::TestGoldAI2025::test_minimal_test_function [32mPASSED[0m[32m       [  6%][0m
test_gold_ai.py::TestGoldAI2025::test_print_gpu_utilization_and_show_system_status [32mPASSED[0m[32m [  7%][0m
test_gold_ai.py::TestGoldAI2025::test_risk_manager_consecutive_loss_and_trading_allowed 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [RISK - KILL SWITCH] Consecutive Losses Threshold Hit. Losses=7 >= Threshold=7
10:55:00 [[35mDEBUG[0m] [gold_ai2025.RiskManager] [RISK] Trading blocked: Soft Kill Switch is active.
[32mPASSED[0m[32m                                                                   [  7%][0m
test_gold_ai.py::TestGoldAI2025::test_risk_manager_drawdown_and_kill_switch 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 100.00
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=100.00, Peak=100.00, DD=0.0000
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=90.00, Peak=100.00, DD=0.1000
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=85.00, Peak=100.00, DD=0.1500
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.1500 >= 0.1500
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=79.00, Peak=100.00, DD=0.2100
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=79.00, Peak=100.00, DD=0.2100 >= 0.2000
[32mPASSED[0m[32m                                                                   [  7%][0m
test_gold_ai.py::TestGoldAI2025::test_risk_manager_soft_kill_active 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=80.00, Peak=100.00, DD=0.2000
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2000 >= 0.1500
[32mPASSED[0m[32m                                                                   [  8%][0m
test_gold_ai.py::TestGoldAI2025::test_risk_manager_update_and_soft_kill 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 100.00
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=100.00, Peak=100.00, DD=0.0000
10:55:00 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=80.00, Peak=100.00, DD=0.2000
10:55:00 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2000 >= 0.1500
[32mPASSED[0m[32m                                                                   [  8%][0m
test_gold_ai.py::TestGoldAI2025::test_risk_trade_manager_forced_entry_spike [32mPASSED[0m[32m [  9%][0m
test_gold_ai.py::TestGoldAI2025::test_safe_get_global [32mPASSED[0m[32m             [  9%][0m
test_gold_ai.py::TestGoldAI2025::test_safe_load_csv_auto 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: missing.csv
10:55:00 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] Could not create directory for CSV: FileNotFoundError(2, 'No such file or directory')
10:55:00 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: data.csv
10:55:00 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:00 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded csv with default encoding.
10:55:00 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: data.csv.gz
10:55:00 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'data.csv.gz'
10:55:00 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded gzipped file with utf-8 encoding.
[32mPASSED[0m[32m                                                                   [ 10%][0m
test_gold_ai.py::TestGoldAI2025::test_set_thai_font_and_setup_fonts 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Loma') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'TH Sarabun New') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'THSarabunNew') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Garuda') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Norasi') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Kinnari') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Waree') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Laksaman') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to 'Loma'.
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Loma' set and tested successfully.
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
(Processing) Setting up Thai font for plots...
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_fonts]    Attempting to set font directly using findfont...
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'TH Sarabun New') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'THSarabunNew') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Garuda') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Norasi') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Kinnari') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Waree') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Laksaman') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: 'Loma' (requested: 'Loma') at /content/drive/MyDrive/new/font.ttf
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to 'Loma'.
10:55:00 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Loma' set and tested successfully.
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
   (Info) Font setup process complete.
[32mPASSED[0m[32m                                                                   [ 10%][0m
test_gold_ai.py::TestGoldAI2025::test_setup_output_directory 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_output_directory]    (Setup) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡∏™‡∏£‡πâ‡∏≤‡∏á Output Directory: /content/drive/MyDrive/new/outdir
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
10:55:00 [[32mINFO[0m] [gold_ai2025.setup_output_directory]       -> ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à.
[32mPASSED[0m[32m                                                                   [ 11%][0m
test_gold_ai.py::TestGoldAI2025::test_should_exit_due_to_holding [32mPASSED[0m[32m  [ 11%][0m
test_gold_ai.py::TestGoldAI2025::test_simple_converter 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'object'> not directly serializable. Converting to string: '<object object at 0x7bf90284c970>...'
[32mPASSED[0m[32m                                                                   [ 12%][0m
test_gold_ai.py::TestGoldAI2025::test_spike_guard_and_reentry 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:00 [[32mINFO[0m] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked INPUT: session=London, row={'spike_score': 0.6, 'Pattern_Label': 'Breakout'}, cfg.threshold=0.50, allowed=['Breakout']
10:55:00 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=London, score=0.6, threshold=0.5, pattern=Breakout, allowed_patterns=['Breakout']
10:55:00 [[33mWARNING[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard blocked! session=London, score=0.6, pattern=Breakout
10:55:00 [[32mINFO[0m] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked OUTPUT: True
10:55:00 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=Asia, score=0.6, threshold=0.5, pattern=Breakout, allowed_patterns=['Breakout']
10:55:00 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard allowed: session=Asia, score=0.6, pattern=Breakout
10:55:00 [[32mINFO[0m] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] spike_guard_blocked (Asia) OUTPUT: False
10:55:00 [[35mDEBUG[0m] [gold_ai2025.is_reentry_allowed.BUY] Re-entry blocked: Cooldown active. Bars since last trade (1) < Cooldown (3).
10:55:00 [[32mINFO[0m] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2021-01-01 00:15:00.
[32mPASSED[0m[32m                                                                   [ 12%][0m
test_gold_ai.py::TestGoldAI2025::test_strategy_config_defaults 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:00 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:00 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 13%][0m
test_gold_ai.py::TestGoldAI2025::test_try_import_with_install_success 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:00 [[32mINFO[0m] [gold_ai2025.log_library_version] (Info) Using FOO version: 0.1
[32mPASSED[0m[32m                                                                   [ 13%][0m
test_gold_ai.py::TestEdgeCases::test_calculate_metrics_basic 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:01 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:01 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:01 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:01 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:01 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:01 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:01 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:01 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:01 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:01 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:01 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:01 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.56+] Extra kwargs ignored in calculate_metrics: ['side']
10:55:01 [[35mDEBUG[0m] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'test': {'fold_tag': 'test', 'num_trades': 3, 'num_tp': 1, 'num_sl': 1, 'num_be': 1, 'net_profit': 10.0}
[32mPASSED[0m[32m                                                                   [ 14%][0m
test_gold_ai.py::TestEdgeCases::test_dummy_module_behavior [32mPASSED[0m[32m        [ 14%][0m
test_gold_ai.py::TestEdgeCases::test_engineer_m1_features_atr_missing_fallback 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:01 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:01 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:01 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:01 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:01 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig)...
10:55:01 [[31m[1mERROR[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
10:55:01 [[32mINFO[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
10:55:01 [[33mWARNING[0m] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]       (Warning) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì MACD_hist_smooth.
10:55:01 [[33mWARNING[0m] [gold_ai2025.atr]    (Warning) ATR calculation skipped: Not enough valid data after dropna (need >= 14).
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]       (Warning) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ATR_14_Rolling_Avg.
10:55:01 [[33mWARNING[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
10:55:01 [[32mINFO[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]          (Warning) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Volatility_Index. Setting to 1.0.
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]          (Warning) Not enough valid features/samples for clustering. Setting cluster to 0.
10:55:01 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
10:55:01 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
10:55:01 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
10:55:01 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Success) ‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig) ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô.
[32mPASSED[0m[32m                                                                   [ 15%][0m
test_gold_ai.py::TestEdgeCases::test_gen_random_m1_df_no_recursion [32mPASSED[0m[32m [ 15%][0m
test_gold_ai.py::TestEdgeCases::test_load_data_missing_columns 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data] (Loading) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏à‡∏≤‡∏Å: /content/drive/MyDrive/new/invalid.csv
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]    ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: /content/drive/MyDrive/new/invalid.csv
10:55:01 [[31mCRITICAL[0m] [gold_ai2025.load_data] (Error) ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô: ['Close', 'Low', 'Timestamp']
10:55:01 [[31mCRITICAL[0m] [gold_ai2025.load_data] (Error) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• : ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1678, in load_data
    load_data_logger.critical(f"(Error) ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1678, in load_data
    load_data_logger.critical(f"(Error) ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô: {missing_req}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
gold_ai2025.DataLoadError: ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
[32mPASSED[0m[32m                                                                   [ 15%][0m
test_gold_ai.py::TestEdgeCases::test_load_data_missing_file 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data] (Loading) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏à‡∏≤‡∏Å: /content/drive/MyDrive/new/no_such_file.csv
10:55:01 [[31mCRITICAL[0m] [gold_ai2025.load_data] (Error) ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
[32mPASSED[0m[32m                                                                   [ 16%][0m
test_gold_ai.py::TestEdgeCases::test_load_data_valid 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data] (Loading) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏à‡∏≤‡∏Å: /content/drive/MyDrive/new/valid.csv
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]    ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: /content/drive/MyDrive/new/valid.csv
10:55:01 [[35mDEBUG[0m] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö % NaN ‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏£‡∏≤‡∏Ñ‡∏≤...
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Duplicates (Date & Timestamp)...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.load_data]       ‡πÑ‡∏°‡πà‡∏û‡∏ö Duplicates (Date & Timestamp).
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Price Jumps (Threshold > 10.0%)...
10:55:01 [[33mWARNING[0m] [gold_ai2025.load_data]    (Warning) ‡∏û‡∏ö 1 ‡πÅ‡∏ó‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ Close ‡πÄ‡∏Å‡∏¥‡∏ô 10.0%:
10:55:01 [[33mWARNING[0m] [gold_ai2025.load_data]       ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Index ‡πÅ‡∏•‡∏∞ % Change:
2    0.25
10:55:01 [[32mINFO[0m] [gold_ai2025.load_data] (Success) ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: 3 ‡πÅ‡∏ñ‡∏ß
[32mPASSED[0m[32m                                                                   [ 16%][0m
test_gold_ai.py::TestEdgeCases::test_log_library_version_none_and_missing 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[33mWARNING[0m] [gold_ai2025.log_library_version] Library DUMMY_NONE is None (likely not imported or import failed).
10:55:01 [[35mDEBUG[0m] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library DUMMY_MISSING is 'N/A' or None.
[32mPASSED[0m[32m                                                                   [ 17%][0m
test_gold_ai.py::TestEdgeCases::test_macd_manual_fallback [32mPASSED[0m[32m         [ 17%][0m
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:01 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index (ALL_NAT_TEST)...
10:55:01 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:01 [[32mINFO[0m] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
10:55:01 [[32mINFO[0m] [gold_ai2025.preview_datetime_format] 
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
0000 99:99:99
10:55:01 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®. (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)...
10:55:01 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®. (‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ).
10:55:01 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
10:55:01 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 5 values...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d%H:%M:%S' for 5 values...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y-%m-%d %H:%M:%S' for 5 values...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y/%m/%d %H:%M:%S' for 5 values...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y.%m.%d %H:%M:%S' for 5 values...
10:55:01 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%d/%m/%Y %H:%M:%S' for 5 values...
10:55:02 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%m/%d/%Y %H:%M:%S' for 5 values...
10:55:02 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying general parser for 5 remaining values...
10:55:02 [[33mWARNING[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Could not parse 5 date/time strings.
10:55:02 [[33mWARNING[0m] [gold_ai2025.parse_datetime_safely]          Example failed strings:
0    0000 99:99:99
1    0000 99:99:99
2    0000 99:99:99
3    0000 99:99:99
4    0000 99:99:99
10:55:02 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
10:55:02 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    (Warning) ‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT 5 (100.0%) ‡πÉ‡∏ô ALL_NAT_TEST ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ parse.
10:55:02 [[31mCRITICAL[0m] [gold_ai2025.prepare_datetime]    (Error) ‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT 100% ‡πÉ‡∏ô ALL_NAT_TEST. ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 0000 99:99:99
[32mPASSED[0m[32m                                                                   [ 18%][0m
test_gold_ai.py::TestEdgeCases::test_prepare_datetime_duplicate_index 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index (DUP)...
10:55:02 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:02 [[32mINFO[0m] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
10:55:02 [[32mINFO[0m] [gold_ai2025.preview_datetime_format] 
20240101 00:00:00
20240101 00:00:00
10:55:02 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®. (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)...
10:55:02 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®. (‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ).
10:55:02 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
10:55:02 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:02 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 2 values...
10:55:02 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 2. Remaining: 0
10:55:02 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
10:55:02 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT ‡πÉ‡∏ô DUP ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ parse.
10:55:02 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    (Warning) ‡∏û‡∏ö Index ‡∏ã‡πâ‡∏≥ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£. ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥ (‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏£‡∏Å)...
10:55:02 [[32mINFO[0m] [gold_ai2025.prepare_datetime]    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç index ‡∏ã‡πâ‡∏≥: ‡∏•‡∏ö 1 ‡πÅ‡∏ñ‡∏ß.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
10:55:02 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
10:55:02 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Success) ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime index (DUP) ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à. Shape: (1, 7)
[32mPASSED[0m[32m                                                                   [ 18%][0m
test_gold_ai.py::TestEdgeCases::test_rsi_fallback_short_series [32mPASSED[0m[32m    [ 19%][0m
test_gold_ai.py::TestEdgeCases::test_rsi_manual_fallback [32mPASSED[0m[32m          [ 19%][0m
test_gold_ai.py::TestEdgeCases::test_rsi_manual_fallback_coverage 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[33mWARNING[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
10:55:02 [[33mWARNING[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
10:55:02 [[32mINFO[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
[32mPASSED[0m[32m                                                                   [ 20%][0m
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_minimal 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
10:55:02 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
10:55:02 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:02 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
10:55:02 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
10:55:02 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
10:55:02 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=2, trade_log=0
[32mPASSED[0m[32m                                                                   [ 20%][0m
test_gold_ai.py::TestEdgeCases::test_run_backtest_simulation_v34_return_tuple 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Minimal', Side='BUY', Fold=N/A ---
10:55:02 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] RiskManager (risk_manager_obj) not provided. Initializing new one.
10:55:02 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:02 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] TradeManager (trade_manager_obj) not provided. Initializing new one.
10:55:02 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
10:55:02 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Minimal
10:55:02 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Minimal.
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Minimal] Initial KillSwitchState=False, InitialConsecLosses=0
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Simulation loop finished for Minimal. Finalizing remaining orders...
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] Created trade log DataFrame for Minimal with 0 entries.
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY]   (Finished) Minimal (BUY) simulation complete. Final Equity: $1000.00
10:55:02 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Minimal.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=1, trade_log=0
[32mPASSED[0m[32m                                                                   [ 21%][0m
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_empty_file 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: empty.csv
10:55:02 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:02 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Warning) File is empty: empty.csv
[32mPASSED[0m[32m                                                                   [ 21%][0m
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_gz_corrupt 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: corrupt.csv.gz
10:55:02 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'corrupt.csv.gz'
10:55:02 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'corrupt.csv.gz': OSError('gzip error')
[32mPASSED[0m[32m                                                                   [ 22%][0m
test_gold_ai.py::TestEdgeCases::test_safe_load_csv_auto_invalid_path_type 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] (Error) Invalid file path provided to safe_load_csv_auto.
10:55:02 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] (Error) Invalid file path provided to safe_load_csv_auto.
[32mPASSED[0m[32m                                                                   [ 22%][0m
test_gold_ai.py::TestEdgeCases::test_set_thai_font_fallback_no_match 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'NoFont' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'TH Sarabun New' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'THSarabunNew' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Garuda' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Norasi' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Kinnari' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Waree' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Laksaman' not found: no font
10:55:02 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Loma' not found: no font
10:55:02 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] No Thai fonts found in: ['NoFont', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman', 'Loma']. Fallback to DejaVu Sans.
[32mPASSED[0m[32m                                                                   [ 23%][0m
test_gold_ai.py::TestEdgeCases::test_setup_output_directory_permission_error 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[32mINFO[0m] [gold_ai2025.setup_output_directory]    (Setup) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡∏™‡∏£‡πâ‡∏≤‡∏á Output Directory: /content/drive/MyDrive/new/unwritable
10:55:02 [[31m[1mERROR[0m] [gold_ai2025.setup_output_directory]    (Error) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Output Directory '/content/drive/MyDrive/new/unwritable': Read-only file system
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1281, in setup_output_directory
    try:
        ^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Read-only file system
[32mPASSED[0m[32m                                                                   [ 23%][0m
test_gold_ai.py::TestEdgeCases::test_simple_converter_edge_cases 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'set'> not directly serializable. Converting to string: '{1, 2}...'
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'complex'> not directly serializable. Converting to string: '(2+3j)...'
[32mPASSED[0m[32m                                                                   [ 23%][0m
test_gold_ai.py::TestEdgeCases::test_simulate_trades_indicator_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 24%][0m
test_gold_ai.py::TestEdgeCases::test_simulate_trades_minimal 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 24%][0m
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tp1_sl 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999.0, PNL:0.0
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 25%][0m
test_gold_ai.py::TestEdgeCases::test_simulate_trades_tsl_behavior 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:02 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:02 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 25%][0m
test_gold_ai.py::TestEdgeCases::test_strategy_config_custom_values 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.02, 'max_lot': 10.0, 'kill_switch_dd': 0.25, 'enable_spike_guard': False}
10:55:02 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 25.00%
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:02 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 26%][0m
test_gold_ai.py::TestEdgeCases::test_try_import_install_success_no_version 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:02 [[33mWARNING[0m] [gold_ai2025.try_import_with_install] ‡πÑ‡∏°‡πà‡∏û‡∏ö Library: NOVERS. ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á...
10:55:02 [[32mINFO[0m] [gold_ai2025.try_import_with_install]    ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á NOVERS ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (pip stdout): <MagicMock name='run().stdout.__getitem__()' id='136309432701072'>...
10:55:02 [[32mINFO[0m] [gold_ai2025.try_import_with_install] [Patch] Successfully installed and imported NOVERS.
[32mPASSED[0m[32m                                                                   [ 26%][0m
test_gold_ai.py::TestWFVandLotSizing::test_calculate_lot_by_fund_mode_bounds 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:03 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'min_lot': 0.01, 'max_lot': 0.1, 'point_value': 0.1}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$50000.00, ATR=1.00000, SL Delta Price=1.00000
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Risk USD for trade: $1000.00
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Total risk in USD for one min_lot (0.01) with SL $1.00: $0.10000
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Raw lot size calculated (num_min_lots * min_lot): 100.0000
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Adjusted lot (balanced, no change from raw): 100.0000
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after rounding down to min_lot multiple: 100.0000
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode]    Lot after min/max capping: 0.1000
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_lot_by_fund_mode]    [LotCalc] Final Lot Size: 0.10 (MM Mode: 'balanced', Risk: 2.00%, Equity: $50000)
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$0.00, ATR=1.00000, SL Delta Price=1.00000
10:55:03 [[33mWARNING[0m] [gold_ai2025.calculate_lot_by_fund_mode] Equity is zero or negative. Returning min_lot.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.calculate_lot_by_fund_mode] Calculating lot: MM Mode='balanced', Risk%=0.0200, Equity=$1000.00, ATR=1.00000, SL Delta Price=0.00000
10:55:03 [[33mWARNING[0m] [gold_ai2025.calculate_lot_by_fund_mode] SL delta price is near zero (0.00000). Returning min_lot.
[32mPASSED[0m[32m                                                                   [ 27%][0m
test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'n_walk_forward_splits': 2, 'initial_capital': 100.0}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:03 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.55) for 2 folds.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 2, Test size: 1) ---
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
10:55:03 [[35mDEBUG[0m] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (1, 13)
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $101.00, Trades: 1
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 3, Test size: 1) ---
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
10:55:03 [[35mDEBUG[0m] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (1, 13)
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $102.00, Trades: 1
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:03 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:03 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
[32mPASSED[0m[32m                                                                   [ 27%][0m
test_gold_ai.py::TestWFVandLotSizing::test_run_wfv_multi_fold_plot_backend 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.plot_equity_curve.demo] 
--- (Plotting) Plotting Equity Curve: Unit Test ---
[32mPASSED[0m[32m                                                                   [ 28%][0m
test_gold_ai.py::TestWFVandLotSizing::test_simulate_trades_multi_order_with_reentry 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 28%][0m
test_gold_ai.py::TestTP2AndBESL::test_besl_trigger 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:03 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'base_tp_multiplier': 1.5, 'base_be_sl_r_threshold': 1.0, 'default_sl_multiplier': 1.0, 'enable_be_sl': True, 'enable_partial_tp': False}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 29%][0m
test_gold_ai.py::TestTP2AndBESL::test_load_trade_log_success_and_missing 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[32mINFO[0m] [gold_ai2025.load_trade_log]    (Log Analysis) Attempting to load trade log: /tmp/tl.csv
10:55:03 [[32mINFO[0m] [gold_ai2025.load_trade_log]       Successfully loaded trade log with 2 entries.
10:55:03 [[32mINFO[0m] [gold_ai2025.load_trade_log]    (Log Analysis) Attempting to load trade log: /tmp/tl.csv
10:55:03 [[33mWARNING[0m] [gold_ai2025.load_trade_log]       Trade log file not found.
[32mPASSED[0m[32m                                                                   [ 29%][0m
test_gold_ai.py::TestTP2AndBESL::test_partial_tp2_trigger 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.8, 'close_pct': 0.5}, {'r_multiple': 1.2, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': False, 'base_tp_multiplier': 2.0, 'default_sl_multiplier': 1.0}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 30%][0m
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_tsl_tp_be_sl 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.01, 'use_tsl': True, 'trailing_sl_distance': 1.5, 'base_tp_multiplier': 1.5, 'default_sl_multiplier': 1.0, 'base_be_sl_r_threshold': 1.0, 'enable_partial_tp': True, 'partial_tp_levels': [{'r_multiple': 0.5, 'close_pct': 0.5}], 'partial_tp_move_sl_to_entry': True}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 30%][0m
test_gold_ai.py::TestTP2AndBESL::test_simulate_trades_with_kill_switch_activation 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'risk_per_trade': 0.5, 'initial_capital': 10.0, 'kill_switch_dd': 0.1, 'kill_switch_consecutive_losses': 1, 'recovery_mode_consecutive_losses': 1}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.500, Max Hold: 24 bars, Kill DD: 10.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Triggered SL: {'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'test', '_forced_entry_flag': False, 'exit_price': 998.5, 'exit_reason': 'SL', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': -1.5}
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] Kill switch activated at bar 0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 30%][0m
test_gold_ai.py::TestWFVandLotSizingFix::test_multi_order_reentry_succeeds 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:03 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:03 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:03 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999.0, PNL:0.0
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1003.0, Exit:1000.0, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 31%][0m
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_BE_SL_multi 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
10:55:03 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:03 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1002.0, Exit:1001, PNL:0.0
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004.0, Exit:1003, PNL:0.0
10:55:03 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:03 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 31%][0m
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_strict 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:1000, PNL:0.0
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 32%][0m
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_with_reentry_fixed 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
10:55:04 [[32mINFO[0m] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2023-01-01 00:01:00.
[32mPASSED[0m[32m                                                                   [ 32%][0m
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_reentry_strict 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004.0, Exit:1003, PNL:0.0
10:55:04 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:04 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 33%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_corrupt_encoding 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:04 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bad_encoding.csv
10:55:04 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:04 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] UTF-8 decode failed, trying latin1 for file 'bad_encoding.csv' (UnicodeDecodeError('utf-8', b'\xff', 0, 1, 'invalid start byte'))
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'bad_encoding.csv': UnicodeDecodeError('utf-8', b'\xff', 0, 1, 'invalid start byte')
[32mPASSED[0m[32m                                                                   [ 33%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_generic_failure 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: broken.csv
10:55:04 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'broken.csv': OSError('broken')
[32mPASSED[0m[32m                                                                   [ 34%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_gz_with_corrupt_content 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bad_file.csv.gz
10:55:04 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Detected .gz extension, using gzip for file 'bad_file.csv.gz'
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'bad_file.csv.gz': OSError('corrupt gzip')
[32mPASSED[0m[32m                                                                   [ 34%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_denied 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.setup_output_directory]    (Setup) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡∏™‡∏£‡πâ‡∏≤‡∏á Output Directory: /content/drive/MyDrive/new/denied
10:55:04 [[32mINFO[0m] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.setup_output_directory]    (Error) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Output Directory '/content/drive/MyDrive/new/denied': Permission denied
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1284, in setup_output_directory
    test_file_path = os.path.join(output_path, ".write_test")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Permission denied
[32mPASSED[0m[32m                                                                   [ 35%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_error_read 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: denied.csv
10:55:04 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (Error) Failed to load file 'denied.csv': PermissionError('denied')
[32mPASSED[0m[32m                                                                   [ 35%][0m
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_utf8_bom_file 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: bom_file.csv
10:55:04 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:04 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded csv with default encoding.
[32mPASSED[0m[32m                                                                   [ 36%][0m
test_gold_ai.py::TestWarningEdgeCases::test_set_thai_font_without_matplotlib 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Loma' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'TH Sarabun New' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'THSarabunNew' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Garuda' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Norasi' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Kinnari' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Waree' not found: matplotlib not available
10:55:04 [[35mDEBUG[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font 'Laksaman' not found: matplotlib not available
10:55:04 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] No Thai fonts found in: ['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']. Fallback to DejaVu Sans.
[32mPASSED[0m[32m                                                                   [ 36%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_normal 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:04 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 37%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_empty 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:04 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[35mDEBUG[0m] [gold_ai2025.ema] [Patch AI Studio v4.9.26] Empty input detected in ema, returning empty pd.Series
[32mPASSED[0m[32m                                                                   [ 37%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_normal 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:04 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 38%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_invalid_period 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:04 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:04 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:04 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:04 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:04 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:04 [[31m[1mERROR[0m] [gold_ai2025.sma] [Patch][QA] Invalid period (0). Must be a positive integer.
[32mPASSED[0m[32m                                                                   [ 38%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_normal 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:05 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:05 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 38%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_empty 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:05 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:05 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:05 [[35mDEBUG[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.26] Empty input detected in rsi, returning empty pd.Series
[32mPASSED[0m[32m                                                                   [ 39%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_valid 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:05 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:05 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:05 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:05 [[33mWARNING[0m] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
[32mPASSED[0m[32m                                                                   [ 39%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_missing_cols 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:05 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:05 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:05 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:06 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:06 [[33mWARNING[0m] [gold_ai2025.atr]    (Warning) ATR calculation skipped: Missing columns ['High', 'Low', 'Close'].
[32mPASSED[0m[32m                                                                   [ 40%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_normal 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:06 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:06 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:06 [[33mWARNING[0m] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (5 < 26).
[32mPASSED[0m[32m                                                                   [ 40%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_empty 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:06 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:06 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:06 [[35mDEBUG[0m] [gold_ai2025.macd] Input series is None or empty, returning empty series for MACD components.
[32mPASSED[0m[32m                                                                   [ 41%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rolling_zscore_short_series 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:06 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:06 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:06 [[35mDEBUG[0m] [gold_ai2025.rolling_zscore] Input series too short (< 2), returning zeros.
[32mPASSED[0m[32m                                                                   [ 41%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_tag_price_structure_patterns_missing_col 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:06 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:06 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:06 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:06 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:06 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 42%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_calculate_m15_trend_zone_minimal 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:07 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:07 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 42%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_na 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:07 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:07 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 43%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_zones 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:07 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:07 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[32mPASSED[0m[32m                                                                   [ 43%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_engineer_m1_features_empty 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:07 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:07 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig)...
10:55:07 [[31m[1mERROR[0m] [gold_ai2025.engineer_m1_features]    (Error) [Patch] ‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1: DataFrame ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤.
[32mPASSED[0m[32m                                                                   [ 44%][0m
test_gold_ai.py::TestFeatureEngineeringCoverage::test_clean_m1_data_empty 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:07 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:07 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:07 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:07 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:07 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:07 [[32mINFO[0m] [gold_ai2025.clean_m1_data] (Processing) ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Features M1 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Drift ‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (using StrategyConfig)...
10:55:07 [[33mWARNING[0m] [gold_ai2025.clean_m1_data]    (Warning) ‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• M1: DataFrame ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤.
[32mPASSED[0m[32m                                                                   [ 44%][0m
test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:08 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:08 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:08 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:08 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:08 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:08 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:08 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:08 [[31m[1mERROR[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
10:55:08 [[32mINFO[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
10:55:08 [[33mWARNING[0m] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
10:55:08 [[33mWARNING[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
10:55:08 [[32mINFO[0m] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
[32mPASSED[0m[32m                                                                   [ 45%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_ema_negative_period 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:08 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:08 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 45%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_sma_not_series 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:08 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:08 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:08 [[31m[1mERROR[0m] [gold_ai2025.sma] Input must be a pandas Series, got <class 'list'>
[32mPASSED[0m[32m                                                                   [ 46%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rsi_not_series 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:08 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:08 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:08 [[31m[1mERROR[0m] [gold_ai2025.rsi] Input must be a pandas Series, got <class 'list'>
[32mPASSED[0m[32m                                                                   [ 46%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_atr_invalid_type 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:08 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:08 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:08 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[31m[1mERROR[0m] [gold_ai2025.atr] Input must be a pandas DataFrame, got <class 'list'>
[32mPASSED[0m[32m                                                                   [ 46%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_macd_invalid_type 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[31m[1mERROR[0m] [gold_ai2025.macd] Input must be a pandas Series, got <class 'list'>
[32mPASSED[0m[32m                                                                   [ 47%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rolling_zscore_nan 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 47%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:09 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:09 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 48%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:09 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:09 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 48%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty_df 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:09 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:09 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 49%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_df 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:09 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:09 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:09 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:09 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:09 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:09 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 49%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_type_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 50%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_expected_type_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
10:55:10 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 50%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 51%][0m
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_expected_type_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
[32mPASSED[0m[32m                                                                   [ 51%][0m
test_gold_ai.py::test_trade_manager_update_methods 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:10 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:10 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
10:55:10 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
10:55:10 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): NaT
10:55:10 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
10:55:10 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
[32mPASSED[0m[32m                                                                   [ 52%][0m
test_gold_ai.py::test_run_backtest_simulation_minimal 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:10 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:10 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Test', Side='BUY', Fold=N/A ---
10:55:10 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] RiskManager (risk_manager_obj) not provided. Initializing new one.
10:55:10 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:10 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] TradeManager (trade_manager_obj) not provided. Initializing new one.
10:55:10 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
10:55:10 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Test
10:55:10 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Test.
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initial KillSwitchState=False, InitialConsecLosses=0
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Simulation loop finished for Test. Finalizing remaining orders...
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Created trade log DataFrame for Test with 0 entries.
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY]   (Finished) Test (BUY) simulation complete. Final Equity: $1000.00
10:55:10 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=2, trade_log=0
[32mPASSED[0m[32m                                                                   [ 52%][0m
test_gold_ai.py::test_calculate_metrics_minimal 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:10 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:10 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:10 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:10 [[35mDEBUG[0m] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'minimal_test': {'fold_tag': 'minimal_test', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 10.0}
[32mPASSED[0m[32m                                                                   [ 53%][0m
test_gold_ai.py::test_calculate_metrics_with_string_entries 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:11 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:11 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: 'invalid_entry'
10:55:11 [[35mDEBUG[0m] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'mixed': {'fold_tag': 'mixed', 'num_trades': 2, 'num_tp': 1, 'num_sl': 1, 'num_be': 0, 'net_profit': 10}
[32mPASSED[0m[32m                                                                   [ 53%][0m
test_gold_ai.py::test_calculate_metrics_with_invalid_items 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:11 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:11 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 123
10:55:11 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: <object object at 0x7bf90284e730>
10:55:11 [[35mDEBUG[0m] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'invalid': {'fold_tag': 'invalid', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 5}
[32mPASSED[0m[32m                                                                   [ 53%][0m
test_gold_ai.py::test_safe_load_csv_auto_nonexistent 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:11 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:11 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: file_that_does_not_exist.csv
10:55:11 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] Could not create directory for CSV: FileNotFoundError(2, 'No such file or directory')
[32mPASSED[0m[32m                                                                   [ 54%][0m
test_gold_ai.py::test_parse_datetime_safely_invalid_and_empty 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:11 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:11 [[31m[1mERROR[0m] [gold_ai2025.parse_datetime_safely] Input must be a pandas Series.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Input series is empty, returning empty series.
[32mPASSED[0m[32m                                                                   [ 54%][0m
test_gold_ai.py::test_parse_datetime_safely_unknown_format 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:11 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:11 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:11 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:11 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:11 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:11 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 2 values...
10:55:11 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d%H:%M:%S' for 2 values...
10:55:11 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y-%m-%d %H:%M:%S' for 2 values...
10:55:12 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y/%m/%d %H:%M:%S' for 2 values...
10:55:12 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y/%m/%d %H:%M:%S' matched: 1. Remaining: 1
10:55:12 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y.%m.%d %H:%M:%S' for 1 values...
10:55:12 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%d/%m/%Y %H:%M:%S' for 1 values...
10:55:12 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%m/%d/%Y %H:%M:%S' for 1 values...
10:55:12 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying general parser for 1 remaining values...
10:55:12 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]          -> (Success) General parser matched: 1. Remaining: 0
10:55:12 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
[32mPASSED[0m[32m                                                                   [ 55%][0m
test_gold_ai.py::test_risk_manager_update_drawdown_edge_cases 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:12 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:12 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:12 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:12 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:12 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:12 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:12 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:12 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:12 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:12 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:12 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:12 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:12 [[33mWARNING[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] current_equity is None/NaN in update_drawdown, forcing 0.0
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 1.00
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=1.00, DD=1.0000
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=1.0000 >= 0.1500
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=0.00, Peak=1.00, DD=1.0000 >= 0.2000
10:55:12 [[33mWARNING[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] current_equity is None/NaN in update_drawdown, forcing 0.0
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=100.00, DD=1.0000
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=0.00, Peak=100.00, DD=1.0000 >= 0.2000
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=900.00, Peak=1000.00, DD=0.1000
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill DEACTIVATED: DD=0.1000 < 0.1500
10:55:12 [[33mWARNING[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] current_equity is negative! Forcing to 0.0
10:55:12 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=1000.00, DD=1.0000
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=1.0000 >= 0.1500
10:55:12 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=0.00, Peak=1000.00, DD=1.0000 >= 0.2000
[32mPASSED[0m[32m                                                                   [ 55%][0m
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_float_fmt_cases 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:12 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:12 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:12 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:12 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:12 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:12 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:12 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:12 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 56%][0m
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:13 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:13 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 'str', returning False.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: (123, 'bad'), returning False.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: <test_gold_ai.TestRobustFormatAndTypeGuard.test_isinstance_safe.<locals>.DummyType object at 0x7bf900c6fc10>, returning False.
[32mPASSED[0m[32m                                                                   [ 56%][0m
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe_additional_types 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:13 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:13 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: [<class 'int'>, <class 'str'>], returning False.
10:55:13 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 3.14, returning False.
[32mPASSED[0m[32m                                                                   [ 57%][0m
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_trade_manager_update_last_trade_time 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:13 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:13 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:13 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:13 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:13 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:13 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
10:55:13 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
10:55:13 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
10:55:13 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
10:55:13 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
10:55:13 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
10:55:13 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
10:55:13 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.40] Could not parse trade_time: not-a-date
[32mPASSED[0m[32m                                                                   [ 57%][0m
test_gold_ai.py::test_full_e2e_backtest_and_export 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:13 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:13 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:13 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:13 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data] (Loading) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏à‡∏≤‡∏Å: /content/drive/MyDrive/new/random_gold.csv
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data]    ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: /content/drive/MyDrive/new/random_gold.csv
10:55:13 [[35mDEBUG[0m] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
10:55:13 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
10:55:13 [[35mDEBUG[0m] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö % NaN ‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏£‡∏≤‡∏Ñ‡∏≤...
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Duplicates (Date & Timestamp)...
10:55:13 [[35mDEBUG[0m] [gold_ai2025.load_data]       ‡πÑ‡∏°‡πà‡∏û‡∏ö Duplicates (Date & Timestamp).
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data]    [Data Quality] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Price Jumps (Threshold > 10.0%)...
10:55:13 [[35mDEBUG[0m] [gold_ai2025.load_data]       ‡πÑ‡∏°‡πà‡∏û‡∏ö Price Jumps ‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥.
10:55:13 [[32mINFO[0m] [gold_ai2025.load_data] (Success) ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: 50 ‡πÅ‡∏ñ‡∏ß
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:13 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:13 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:13 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig)...
10:55:13 [[31m[1mERROR[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
10:55:13 [[32mINFO[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
10:55:13 [[33mWARNING[0m] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
10:55:14 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
10:55:14 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
10:55:14 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
10:55:14 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
10:55:14 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Success) ‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig) ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô.
10:55:14 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index ()...
10:55:14 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:14 [[32mINFO[0m] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
10:55:14 [[32mINFO[0m] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
10:55:14 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®. (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)...
10:55:14 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®. (‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ).
10:55:14 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
10:55:14 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:14 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 50 values...
10:55:14 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 50. Remaining: 0
10:55:14 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
10:55:14 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
10:55:14 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT ‡πÉ‡∏ô  ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ parse.
10:55:14 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
10:55:14 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
10:55:14 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Success) ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime index () ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à. Shape: (50, 32)
10:55:14 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.01}
10:55:14 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:14 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:14 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:14 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:14 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
10:55:14 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:14 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:14 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:14 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:14 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:14 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
10:55:14 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
10:55:14 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.56+] Extra kwargs ignored in calculate_metrics: ['side']
10:55:14 [[33mWARNING[0m] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 'exit_reason'
10:55:14 [[35mDEBUG[0m] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'e2e': {'fold_tag': 'e2e', 'num_trades': 0, 'num_tp': 0, 'num_sl': 0, 'num_be': 0, 'net_profit': 0}
10:55:14 [[33mWARNING[0m] [GoldAI_Export] [Patch AI Studio v4.9.58+] trade_log is empty or has no columns, exporting header only (or skipping export).
[32mPASSED[0m[32m                                                                   [ 58%][0m
test_gold_ai.py::test_run_wfv_multi_fold 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:15 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:15 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:15 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:15 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:15 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:15 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:15 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.01}
10:55:15 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
10:55:15 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.30) for 2 folds.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250521_105515.json
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 3, 'risk_per_trade': 0.01}
10:55:15 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
10:55:15 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.50) for 3 folds.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 3 Folds for Fund: FALLBACK_FUND ---
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250521_105515.json
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 4, 'risk_per_trade': 0.01}
10:55:15 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
10:55:15 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
10:55:15 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.70) for 4 folds.
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 4 Folds for Fund: FALLBACK_FUND ---
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:15 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:15 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250521_105515.json
10:55:15 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
[32mPASSED[0m[32m                                                                   [ 58%][0m
test_gold_ai.py::test_risk_trade_manager_forced_entry_spike 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:15 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:15 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:15 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:15 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:15 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:15 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:15 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:15 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:15 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:15 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:15 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig)...
10:55:15 [[31m[1mERROR[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: ATR_14 missing or all NaN, fallback to pd.Series([np.nan]*len(df)).
10:55:15 [[32mINFO[0m] [root] [Patch][QA v4.9.90] engineer_m1_features: Fallback applied, ATR_14 is all NaN as expected for missing.
10:55:15 [[33mWARNING[0m] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
10:55:15 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
10:55:16 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
10:55:16 [[33mWARNING[0m] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
10:55:16 [[32mINFO[0m] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
10:55:16 [[32mINFO[0m] [gold_ai2025.engineer_m1_features] (Success) ‡∏™‡∏£‡πâ‡∏≤‡∏á Features M1 (using StrategyConfig) ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô.
10:55:16 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index ()...
10:55:16 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:16 [[32mINFO[0m] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
10:55:16 [[32mINFO[0m] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
10:55:16 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®. (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)...
10:55:16 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®. (‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ).
10:55:16 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
10:55:16 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:16 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
10:55:16 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
10:55:16 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT ‡πÉ‡∏ô  ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ parse.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
10:55:16 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
10:55:16 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Success) ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime index () ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à. Shape: (30, 32)
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
10:55:16 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:16 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:16 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:16 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
10:55:16 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
10:55:16 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
10:55:16 [[32mINFO[0m] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] Export trade_log shape: (0, 1)
10:55:16 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=London, score=0.6, threshold=0.75, pattern=Breakout, allowed_patterns=['Breakout', 'StrongTrend']
10:55:16 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard allowed: session=London, score=0.6, pattern=Breakout
[32mPASSED[0m[32m                                                                   [ 59%][0m
test_gold_ai.py::test_forced_entry_audit_logic 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:16 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:16 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:16 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:16 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:16 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:16 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:16 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:16 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:16 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:16 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:16 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:16 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:16 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:16 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:16 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:16 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
10:55:16 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:16 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 59%][0m
test_gold_ai.py::test_forced_entry_multi_order_audit 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:17 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 60%][0m
test_gold_ai.py::test_forced_entry_audit_short 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:17 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1005, PNL:0.0
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:SELL, Entry:995.0, Exit:1000, PNL:0.0
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 60%][0m
test_gold_ai.py::test_forced_entry_reason_audit 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:17 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:17 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:17 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:17 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 61%][0m
test_gold_ai.py::test_forced_entry_buy_flag_and_reason 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:17 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:17 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:17 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:17 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:18 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 61%][0m
test_gold_ai.py::test_forced_entry_sell_flag_and_reason 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:18 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1002, PNL:0.0
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 61%][0m
test_gold_ai.py::test_forced_entry_multi_order_flags 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:18 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 62%][0m
test_gold_ai.py::TestForcedEntryAudit::test_fallback_dummy_pd_np 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 62%][0m
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_annotate 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:18 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:18 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:18 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:18 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:18 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:18 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
10:55:18 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 63%][0m
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_in_trade_log 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:19 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:19 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:19 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:19 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 63%][0m
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_warning [32mPASSED[0m[32m [ 64%][0m
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_multi_case 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:19 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:19 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:19 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:996, PNL:0.0
10:55:19 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 1]
10:55:19 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 64%][0m
test_gold_ai.py::test_ml_inference_path 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:19 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 500, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.02, 'use_catboost': True, 'use_shap': True}
10:55:19 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.020, Max Hold: 24 bars, Kill DD: 20.00%
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:19 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
10:55:19 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
10:55:19 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:19 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
10:55:19 [[33mWARNING[0m] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/content/drive/MyDrive/new'.
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] [Patch][QA v4.9.87] Using /content/drive/MyDrive/new as the only valid test path.
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.33) for 2 folds.
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
10:55:19 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:19 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
10:55:19 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:19 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:19 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
10:55:19 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:19 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /content/drive/MyDrive/new/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250521_105519.json
10:55:19 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
[32mPASSED[0m[32m                                                                   [ 65%][0m
test_gold_ai.py::test_safe_load_csv_auto_permission_denied 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:19 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:19 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:19 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:19 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:19 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: file.csv
10:55:19 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] Could not create directory for CSV: PermissionError('permission denied')
[32mPASSED[0m[32m                                                                   [ 65%][0m
test_gold_ai.py::test_safe_load_csv_auto_unicode_decode_nested 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:20 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:20 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:20 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] (safe_load) Attempting to load: nested.csv
10:55:20 [[35mDEBUG[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] No .gz extension, using standard pd.read_csv.
10:55:20 [[33mWARNING[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] UTF-8 decode failed, trying latin1 for file 'nested.csv' (UnicodeDecodeError('utf-8', b'', 0, 1, 'fail'))
10:55:20 [[32mINFO[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.85] Loaded csv with latin1 encoding as fallback.
[32mPASSED[0m[32m                                                                   [ 66%][0m
test_gold_ai.py::test_setup_output_directory_oserror_exit 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:20 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:20 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:20 [[32mINFO[0m] [gold_ai2025.setup_output_directory]    (Setup) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡∏™‡∏£‡πâ‡∏≤‡∏á Output Directory: /disk/full/dir
10:55:20 [[31m[1mERROR[0m] [gold_ai2025.setup_output_directory]    (Error) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Output Directory '/disk/full/dir': disk full
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1281, in setup_output_directory
    try:
        ^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
OSError: disk full
[32mPASSED[0m[32m                                                                   [ 66%][0m
test_gold_ai.py::test_prepare_datetime_missing_columns 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:20 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:20 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:20 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index ()...
10:55:20 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:20 [[31mCRITICAL[0m] [gold_ai2025.prepare_datetime] (Error) ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Date/Timestamp ‡πÉ‡∏ô .
[32mPASSED[0m[32m                                                                   [ 67%][0m
test_gold_ai.py::test_prepare_datetime_nat_ratio_all 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:20 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:20 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:20 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:20 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:20 [[32mINFO[0m] [gold_ai2025.prepare_datetime] (Processing) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Datetime Index (ALL_NAT_TEST)...
10:55:20 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
10:55:20 [[32mINFO[0m] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
10:55:20 [[32mINFO[0m] [gold_ai2025.preview_datetime_format] 
0000 99:99:99
0000 99:99:99
0000 99:99:99
10:55:21 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®. (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)...
10:55:21 [[32mINFO[0m] [gold_ai2025.prepare_datetime]       [Converter] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®. (‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ).
10:55:21 [[35mDEBUG[0m] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
10:55:21 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
10:55:21 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 3 values...
10:55:21 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d%H:%M:%S' for 3 values...
10:55:21 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y-%m-%d %H:%M:%S' for 3 values...
10:55:21 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y/%m/%d %H:%M:%S' for 3 values...
10:55:21 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y.%m.%d %H:%M:%S' for 3 values...
10:55:22 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%d/%m/%Y %H:%M:%S' for 3 values...
10:55:22 [[35mDEBUG[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%m/%d/%Y %H:%M:%S' for 3 values...
10:55:22 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Trying general parser for 3 remaining values...
10:55:22 [[33mWARNING[0m] [gold_ai2025.parse_datetime_safely]       [Parser] Could not parse 3 date/time strings.
10:55:22 [[33mWARNING[0m] [gold_ai2025.parse_datetime_safely]          Example failed strings:
0    0000 99:99:99
1    0000 99:99:99
2    0000 99:99:99
10:55:22 [[32mINFO[0m] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
10:55:22 [[33mWARNING[0m] [gold_ai2025.prepare_datetime]    (Warning) ‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT 3 (100.0%) ‡πÉ‡∏ô ALL_NAT_TEST ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ parse.
10:55:22 [[31mCRITICAL[0m] [gold_ai2025.prepare_datetime]    (Error) ‡∏û‡∏ö‡∏Ñ‡πà‡∏≤ NaT 100% ‡πÉ‡∏ô ALL_NAT_TEST. ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 0000 99:99:99
[32mPASSED[0m[32m                                                                   [ 67%][0m
test_gold_ai.py::test_RiskManager_update_drawdown_edge_cases 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:22 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:22 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:22 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:22 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:22 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:22 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:22 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:22 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:23 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 200.00%, Soft Kill DD: 150.00%
10:55:23 [[33mWARNING[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] current_equity is None/NaN in update_drawdown, forcing 0.0
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 1.00
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=1.00, DD=1.0000
10:55:23 [[33mWARNING[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] current_equity is negative! Forcing to 0.0
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=1.00, DD=1.0000
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 200.00%, Soft Kill DD: 150.00%
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown peak initialized to 5.00
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=5.00, Peak=5.00, DD=0.0000
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 200.00%, Soft Kill DD: 150.00%
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=0.00, Peak=1.00, DD=1.0000
[32mPASSED[0m[32m                                                                   [ 68%][0m
test_gold_ai.py::test_RiskManager_update_drawdown_kill_switch 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:23 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=79.00, Peak=100.00, DD=0.2100
10:55:23 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2100 >= 0.1500
10:55:23 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=79.00, Peak=100.00, DD=0.2100 >= 0.2000
[32mPASSED[0m[32m                                                                   [ 68%][0m
test_gold_ai.py::test_TradeManager_should_force_entry_block_paths 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:23 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry disabled by config.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.RiskManager] [RISK] Trading blocked: Soft Kill Switch is active.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry blocked: Soft Kill is active.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry check: Cooldown 10.0 min < 240 min.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.5 < min 1.0
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry blocked: Max consecutive forced losses 2 >= 2
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: NaN in market data, skipping ATR/gain_z/pattern checks.
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry ALLOWED: Œît=inf min, Score=2.00
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: ATR ratio (10.00) > max 2.5
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: Abs Gain_Z 0.10 < min 1.0
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: pattern 'Unknown' not in allowed ['Normal', 'Breakout', 'StrongTrend']
[32mPASSED[0m[32m                                                                   [ 69%][0m
test_gold_ai.py::test_TradeManager_should_force_entry_success 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:23 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:23 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:23 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
10:55:23 [[32mINFO[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry ALLOWED: Œît=inf min, Score=2.00
[32mPASSED[0m[32m                                                                   [ 69%][0m
test_gold_ai.py::test_try_import_with_install_importerror 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[33mWARNING[0m] [gold_ai2025.try_import_with_install] ‡πÑ‡∏°‡πà‡∏û‡∏ö Library: NOTFOUNDLIB. ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á...
10:55:23 [[31m[1mERROR[0m] [gold_ai2025.try_import_with_install]    (Error) ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á notfoundlib: pip fail
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 388, in try_import_with_install
    imported_module = importlib.import_module(module_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
ImportError: fail

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 399, in try_import_with_install
    install_result = subprocess.run(
                     ^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
Exception: pip fail
10:55:23 [[32mINFO[0m] [gold_ai2025.try_import_with_install]    Assigned None for missing 'notfoundlib'.
[32mPASSED[0m[32m                                                                   [ 69%][0m
test_gold_ai.py::test_try_import_with_install_no_version 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library NOVERSION is 'N/A' or None.
[32mPASSED[0m[32m                                                                   [ 70%][0m
test_gold_ai.py::test_plot_equity_curve_importerror 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:23 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:23 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:23 [[32mINFO[0m] [gold_ai2025.plot_equity_curve.demo] 
--- (Plotting) Plotting Equity Curve: ImportError Test ---
[32mPASSED[0m[32m                                                                   [ 70%][0m
test_gold_ai.py::test_set_thai_font_no_matplotlib 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:23 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:23 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:23 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:23 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:23 [[33mWARNING[0m] [root] [Patch][Font][QA v4.9.91+] matplotlib not available for font setting.
[32mPASSED[0m[32m                                                                   [ 71%][0m
test_gold_ai.py::test_simple_converter_complex_types 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'set'> not directly serializable. Converting to string: '{1, 2}...'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'complex'> not directly serializable. Converting to string: '(2+3j)...'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'test_gold_ai.test_simple_converter_complex_types.<locals>.Custom'> not directly serializable. Converting to string: '<test_gold_ai.test_simple_converter_complex_types.<locals>.Custom object at 0x7bf8fef7b150>...'
[32mPASSED[0m[32m                                                                   [ 71%][0m
test_gold_ai.py::test__isinstance_safe_magicmock 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:24 [[33mWARNING[0m] [root] [Patch AI Studio v4.9.41] _isinstance_safe: fallback DataFrame attribute match for <MagicMock id='136309372265104'>
[32mPASSED[0m[32m                                                                   [ 72%][0m
test_gold_ai.py::test__isinstance_safe_magicmock_negative 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 72%][0m
test_gold_ai.py::test__isinstance_safe_pandas_strings 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 73%][0m
test_gold_ai.py::test__isinstance_safe_classname_match_dataframe 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:24 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: namespace(__name__='DataFrame'), returning False.
[32mPASSED[0m[32m                                                                   [ 73%][0m
test_gold_ai.py::TestUtilityCoverageQA::test_ensure_dataframe_all_cases 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 74%][0m
test_gold_ai.py::TestUtilityCoverageQA::test_ensure_datetimeindex_conversion [32mPASSED[0m[32m [ 74%][0m
test_gold_ai.py::TestUtilityCoverageQA::test_safe_float_fmt_variants [32mPASSED[0m[32m [ 75%][0m
test_gold_ai.py::TestUtilityCoverageQA::test_simple_converter_all_paths 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'set'> not directly serializable. Converting to string: '{1, 2}...'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'complex'> not directly serializable. Converting to string: '(2+3j)...'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simple_converter] Type <class 'test_gold_ai.TestUtilityCoverageQA.test_simple_converter_all_paths.<locals>.DummyObj'> not directly serializable. Converting to string: '<test_gold_ai.TestUtilityCoverageQA.test_simple_converter_all_paths.<locals>.DummyObj object at 0x7b...'
[32mPASSED[0m[32m                                                                   [ 75%][0m
test_gold_ai.py::TestCoverageBooster::test_export_run_summary_to_json_edge 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:24 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:24 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:24 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:24 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:24 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:24 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:24 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/gold_ai_test_export/run_summary_test_20250521_105524.json
10:55:24 [[33mWARNING[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary dict is empty ‚Äî exporting empty json with header only: /tmp/gold_ai_test_export
10:55:24 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/gold_ai_test_export/run_summary_empty_20250521_105524.json
10:55:24 [[31m[1mERROR[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] Invalid output dir for summary 'denied'.
[32mPASSED[0m[32m                                                                   [ 76%][0m
test_gold_ai.py::TestCoverageBooster::test_export_trade_log_to_csv_edge 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.export_trade_log_to_csv] [Patch AI Studio v4.9.59+] [Patch] trade_log exported successfully: /tmp/gold_ai_test_export/trade_log_log_20250521_105524.csv
10:55:24 [[33mWARNING[0m] [gold_ai2025.export_trade_log_to_csv] [Patch AI Studio v4.9.59+] [Patch] No trades in list for 'emptylog'
10:55:24 [[31m[1mERROR[0m] [gold_ai2025.export_trade_log_to_csv] [Export] Invalid output directory: /no_such_dir. Cannot export trade log for 'denied'.
[32mPASSED[0m[32m                                                                   [ 76%][0m
test_gold_ai.py::TestCoverageBooster::test_plot_equity_curve_edge_importerror 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.plot_equity_curve.test] 
--- (Plotting) Plotting Equity Curve: Test ---
[32mPASSED[0m[32m                                                                   [ 76%][0m
test_gold_ai.py::TestCoverageBooster::test_risk_trade_manager_edge 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:24 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:24 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=90.00, Peak=100.00, DD=0.1000
10:55:24 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=10.00, Peak=100.00, DD=0.9000
10:55:24 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.9000 >= 0.1500
10:55:24 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=10.00, Peak=100.00, DD=0.9000 >= 0.2000
10:55:24 [[32mINFO[0m] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2024-01-01 00:00:00
10:55:24 [[32mINFO[0m] [gold_ai2025.TradeManager] [TRADE_MGR] Forced entry resulted in a loss. Consecutive forced losses: 1
10:55:24 [[32mINFO[0m] [gold_ai2025.TradeManager] [TRADE_MGR] Forced entry was not a loss. Resetting consecutive forced losses from 1 to 0.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.RiskManager] [RISK] Trading blocked: Soft Kill Switch is active.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry blocked: Soft Kill is active.
[32mPASSED[0m[32m                                                                   [ 77%][0m
test_gold_ai.py::TestCoverageBooster::test_run_all_folds_with_threshold_empty_fold 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:24 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:24 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.55) for 5 folds.
10:55:24 [[31m[1mERROR[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] M1 Data (df_m1_final_for_wfv) is empty or None. Cannot proceed.
[32mPASSED[0m[32m                                                                   [ 77%][0m
test_gold_ai.py::TestCoverageBooster::test_run_log_analysis_pipeline 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.run_log_analysis_pipeline]    (Log Analysis) Running analysis pipeline for: /tmp/tl.csv (Suffix: x, ConsecLossThresh: 4)
10:55:24 [[33mWARNING[0m] [gold_ai2025.run_log_analysis_pipeline]    (Log Analysis) 'run_log_analysis_pipeline' is a placeholder. No detailed analysis performed.
[32mPASSED[0m[32m                                                                   [ 78%][0m
test_gold_ai.py::TestCoverageBooster::test_safe_set_datetime_various 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]    [safe_set_datetime] Input val='2023-01-01', Original dt_value='2023-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>, tz: None) for col='d', idx='0'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       dt_value is already timezone-naive or not a Timestamp: '2023-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>)
10:55:24 [[32mINFO[0m] [gold_ai2025.safe_set_datetime]    [safe_set_datetime] Column 'd' not found. Creating with dtype 'datetime64[ns]'.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       Column 'd' created. Dtype after creation: datetime64[ns]
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       Assigning (naive) '2023-01-01 00:00:00' to 'd' at index 0. Dtype of cell before assign: N/A (Scalar or New). Dtype of column 'd': datetime64[ns]
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       Assigned. Dtype of cell after assign: <class 'pandas._libs.tslibs.timestamps.Timestamp'>. Dtype of column 'd' after assign: datetime64[ns]
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]    [safe_set_datetime] Input val='2024-01-01', Original dt_value='2024-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>, tz: None) for col='d', idx='1'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       dt_value is already timezone-naive or not a Timestamp: '2024-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>)
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       Assigning (naive) '2024-01-01 00:00:00' to 'd' at index 1. Dtype of cell before assign: N/A (Scalar or New). Dtype of column 'd': datetime64[ns]
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       Assigned. Dtype of cell after assign: <class 'pandas._libs.tslibs.timestamps.Timestamp'>. Dtype of column 'd' after assign: datetime64[ns]
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]    [safe_set_datetime] Input val='2024-01-01', Original dt_value='2024-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>, tz: None) for col='d', idx='99'
10:55:24 [[35mDEBUG[0m] [gold_ai2025.safe_set_datetime]       dt_value is already timezone-naive or not a Timestamp: '2024-01-01 00:00:00' (type: <class 'pandas._libs.tslibs.timestamps.Timestamp'>)
10:55:24 [[33mWARNING[0m] [gold_ai2025.safe_set_datetime]    [safe_set_datetime] Index '99' not found in DataFrame. Cannot set value for column 'd'.
[32mPASSED[0m[32m                                                                   [ 78%][0m
test_gold_ai.py::TestCoverageBooster::test_simulate_trades_all_exit_reason 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:24 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:24 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 79%][0m
test_gold_ai.py::TestCoverageBooster::test_simulate_trades_edge_empty_invalid 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:24 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:24 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:24 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
[32mPASSED[0m[32m                                                                   [ 79%][0m
test_gold_ai.py::TestCoverageBooster::test_train_meta_classifier_ml_fallback [32mPASSED[0m[32m [ 80%][0m
test_gold_ai.py::TestCoverageEnterprise::test_branch_rare_exit 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:25 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:25 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:25 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:25 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:25 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:25 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 80%][0m
test_gold_ai.py::TestCoverageEnterprise::test_calculate_metrics_full_simple 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.T]   (Metrics) Calculating full metrics for: 'T'...
10:55:25 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.T]     No trades logged for 'T'.
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.T]   (Metrics) Finished calculating full metrics for: 'T'.
[32mPASSED[0m[32m                                                                   [ 81%][0m
test_gold_ai.py::TestCoverageEnterprise::test_calculate_metrics_full_with_data 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.D]   (Metrics) Calculating full metrics for: 'D'...
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.D]   (Metrics) Finished calculating full metrics for: 'D'.
[32mPASSED[0m[32m                                                                   [ 81%][0m
test_gold_ai.py::TestCoverageEnterprise::test_export_run_summary_to_json_export_fail [32mPASSED[0m[32m [ 82%][0m
test_gold_ai.py::TestCoverageEnterprise::test_export_trade_log_to_csv_export_fail [32mPASSED[0m[32m [ 82%][0m
test_gold_ai.py::TestCoverageEnterprise::test_plot_equity_curve_file_fail 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.plot_equity_curve.plotfail] 
--- (Plotting) Plotting Equity Curve: Test ---
[32mPASSED[0m[32m                                                                   [ 83%][0m
test_gold_ai.py::TestCoverageEnterprise::test_risk_manager_soft_hard_kill_branch 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=80.00, Peak=100.00, DD=0.2000
10:55:25 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+][RISK] Soft Kill ACTIVATED: DD=0.2000 >= 0.1500
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=60.00, Peak=100.00, DD=0.4000
10:55:25 [[31mCRITICAL[0m] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.59+][Patch] [RISK - KILL SWITCH] Max Drawdown Triggered! EQ=60.00, Peak=100.00, DD=0.4000 >= 0.2000
[32mPASSED[0m[32m                                                                   [ 83%][0m
test_gold_ai.py::TestCoverageEnterprise::test_run_backtest_simulation_v34_all_flags 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='QA', Side='BUY', Fold=N/A ---
10:55:25 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [QA] RiskManager (risk_manager_obj) not provided. Initializing new one.
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:25 [[33mWARNING[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [QA] TradeManager (trade_manager_obj) not provided. Initializing new one.
10:55:25 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
10:55:25 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _QA
10:55:25 [[35mDEBUG[0m] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _QA.
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [QA] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [QA] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [QA] Initial KillSwitchState=False, InitialConsecLosses=0
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] Simulation loop finished for QA. Finalizing remaining orders...
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] Created trade log DataFrame for QA with 0 entries.
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY]   (Finished) QA (BUY) simulation complete. Final Equity: $1000.00
10:55:25 [[32mINFO[0m] [gold_ai2025.run_backtest_simulation_v34.QA.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=1, trade_log=0
[32mPASSED[0m[32m                                                                   [ 84%][0m
test_gold_ai.py::TestCoverageEnterprise::test_simulate_trades_all_exit_and_forced 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
[32mPASSED[0m[32m                                                                   [ 84%][0m
test_gold_ai.py::TestCoverageEnterprise::test_simulate_trades_rare_edge_cases 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
10:55:25 [[35mDEBUG[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
10:55:25 [[32mINFO[0m] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
[32mPASSED[0m[32m                                                                   [ 84%][0m
test_gold_ai.py::TestCoverageEnterprise::test_trade_manager_spike_guard_session 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:25 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:25 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=London, score=1.0, threshold=0.75, pattern=Breakout, allowed_patterns=['Breakout', 'StrongTrend']
10:55:25 [[33mWARNING[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard blocked! session=London, score=1.0, pattern=Breakout
10:55:25 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Checking spike guard: session=Asia, score=1.0, threshold=0.75, pattern=Breakout, allowed_patterns=['Breakout', 'StrongTrend']
10:55:25 [[32mINFO[0m] [GoldAI.SpikeGuard] [Patch AI Studio v4.9.58+] Spike guard allowed: session=Asia, score=1.0, pattern=Breakout
[32mPASSED[0m[32m                                                                   [ 85%][0m
test_gold_ai.py::TestCoverageEnterprise::test_wfv_fold_edge_case 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:25 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:25 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.55) for 5 folds.
10:55:25 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
10:55:25 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 5 Folds for Fund: FALLBACK_FUND ---
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
10:55:25 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
10:55:25 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
10:55:25 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
10:55:25 [[32mINFO[0m] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250521_105525.json
10:55:25 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
[32mPASSED[0m[32m                                                                   [ 85%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_raise_or_warn_raise 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:25 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 86%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_raise_or_warn_warning 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:25 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 86%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_robust_kwargs_guard 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:25 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 87%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_isinstance_various 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:25 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 87%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_numeric_exception 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:25 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:25 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:25 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:25 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
10:55:25 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.43+] _safe_numeric: Failed in t: boom
[32mPASSED[0m[32m                                                                   [ 88%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_numeric_none 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 88%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_numeric_pd_na 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 89%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_numeric_string_invalid 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 89%][0m
test_gold_ai.py::TestHelperFunctionsSmall::test_safe_numeric_string_number 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 90%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test__isinstance_safe_class_name_match_but_not_pandas 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 90%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test__isinstance_safe_expected_type_none [32mPASSED[0m[32m [ 91%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test__isinstance_safe_expected_type_tuple_invalid 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: (123, 'abc'), returning False.
[32mPASSED[0m[32m                                                                   [ 91%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test_isinstance_safe_invalid_expected_type [32mPASSED[0m[32m [ 92%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test_isinstance_safe_magicmock_no_columns_index 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: namespace(__class__=namespace(__name__='MagicMock')), returning False.
[32mPASSED[0m[32m                                                                   [ 92%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test_raise_or_warn_normal 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[33mWARNING[0m] [test_raise_or_warn] [Patch v4.9.52][TestMode] TEST WARNING
[32mPASSED[0m[32m                                                                   [ 92%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test_safe_load_csv_auto_auto_empty_str 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] (Error) Invalid file path provided to safe_load_csv_auto.
[32mPASSED[0m[32m                                                                   [ 93%][0m
test_gold_ai.py::TestBranchCoverageBoosterV2::test_safe_load_csv_auto_path_not_str 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[31m[1mERROR[0m] [gold_ai2025.safe_load_csv_auto] [Patch][QA v4.9.100] (Error) Invalid file path provided to safe_load_csv_auto.
[32mPASSED[0m[32m                                                                   [ 93%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test__raise_or_warn_real_raise 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[32mPASSED[0m[32m                                                                   [ 94%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_dummy_pandas_api_types [32mPASSED[0m[32m [ 94%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_dummy_pandas_errors [32mPASSED[0m[32m [ 95%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_ensure_dataframe_other [32mPASSED[0m[32m [ 95%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_float_fmt_is_wrapper [32mPASSED[0m[32m [ 96%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_robust_kwargs_guard [32mPASSED[0m[32m [ 96%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_safe_float_fmt_invalid_type [32mPASSED[0m[32m [ 97%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_safe_float_fmt_list [32mPASSED[0m[32m [ 97%][0m
test_gold_ai.py::TestBranchCoverageBoosterV3::test_safe_float_fmt_non_float [32mPASSED[0m[32m [ 98%][0m
test_gold_ai.py::TestMainFunction::test_main_full_run_basic 
[1m-------------------------------- live log setup --------------------------------[0m
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
10:55:26 [[33mWARNING[0m] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
10:55:26 [[32mINFO[0m] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
10:55:26 [[35mDEBUG[0m] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
10:55:26 [[32mINFO[0m] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
[1m-------------------------------- live log call ---------------------------------[0m
10:55:26 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:26 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:26 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:26 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:26 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:26 [[32mINFO[0m] [gold_ai2025.main] 
(Starting) Gold AI Main Execution (Mode: FULL_RUN, Config: dummy)...
10:55:26 [[32mINFO[0m] [gold_ai2025.main] StrategyConfig loaded. Initial Capital: $100.00, Risk/Trade: 0.010
10:55:26 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
10:55:26 [[32mINFO[0m] [gold_ai2025.main] [Patch - IMPORT ERROR FIX - Step MainFunc] FileHandler configured. Logging to: /tmp/gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:26 [[32mINFO[0m] [gold_ai2025.main] Global OUTPUT_DIR has been set to: /tmp
10:55:26 [[32mINFO[0m] [gold_ai2025.main] Global LOG_FILENAME has been set to: gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:26 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:26 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:26 [[32mINFO[0m] [gold_ai2025.main]   Configured USE_GPU_ACCELERATION (initial from config): True
10:55:26 [[32mINFO[0m] [gold_ai2025.main]   Configured TRAIN_META_MODEL_BEFORE_RUN: True
10:55:26 [[32mINFO[0m] [gold_ai2025.main]   Data M15 Path: /content/drive/MyDrive/new/XAUUSD_M15.csv
10:55:26 [[32mINFO[0m] [gold_ai2025.main]   Data M1 Path: /content/drive/MyDrive/new/XAUUSD_M1.csv
10:55:26 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
(Processing) Setting up Thai font for plots...
10:55:26 [[32mINFO[0m] [gold_ai2025.setup_fonts]    Attempting to set font directly using findfont...
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:26 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
   Trying fallbacks (Loma, Garuda, Norasi, Kinnari, Waree, THSarabunNew)...
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:26 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:26 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:27 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:27 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:27 [[33mWARNING[0m] [gold_ai2025.setup_fonts] [Patch][QA v4.9.91+] Could not set any Thai font. Defaulting to 'DejaVu Sans'. Plots may not render Thai characters correctly.
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Run Mode Selected: FULL_RUN
10:55:27 [[32mINFO[0m] [gold_ai2025.main] 
--- (FULL_RUN) Starting Data Preparation ---
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Loading M15 data from: /content/drive/MyDrive/new/XAUUSD_M15.csv
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    M15 data prepared and Trend Zone calculated. Trend Zone Shape: (1, 7)
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Loading M1 data from: /content/drive/MyDrive/new/XAUUSD_M1.csv
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    M1 data prepared. Shape: (1, 6)
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Merging M15 Trend Zone into M1 data...
10:55:27 [[35mDEBUG[0m] [gold_ai2025.main]    [Patch AI Studio v4.9.1] Applying fillna for Trend_Zone without inplace=True.
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    M1 data after Trend Zone merge: (1, 13)
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Engineering M1 features...
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    M1 data after feature engineering: (1, 6)
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    Cleaning M1 data...
10:55:27 [[32mINFO[0m] [gold_ai2025.main]    M1 data after cleaning: (1, 6). Features for drift: 0
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    (Success) Data Preparation complete. Final M1 (features only) shape for WFV: (1, 6)
10:55:28 [[32mINFO[0m] [gold_ai2025.main] 
--- (FULL_RUN) Ensuring models are trained/exist (called from main) ---
10:55:28 [[32mINFO[0m] [gold_ai2025.main] 
--- Loading Models and Features for FULL_RUN (from main) ---
10:55:28 [[32mINFO[0m] [gold_ai2025.load_features_for_model]    (Feature Load) Attempting to load features for 'main' from: /tmp/features_main.json
10:55:28 [[33mWARNING[0m] [gold_ai2025.load_features_for_model]    (Warning) Feature file not found for model 'main': features_main.json
10:55:28 [[31m[1mERROR[0m] [gold_ai2025.load_features_for_model]       (Fallback Failed) Main feature file also not found or was requested ('features_main.json').
10:55:28 [[33mWARNING[0m] [gold_ai2025.main]    Model or features file for 'main' not found. Path: /tmp/meta_classifier.pkl, Features: Not Found
10:55:28 [[32mINFO[0m] [gold_ai2025.load_features_for_model]    (Feature Load) Attempting to load features for 'spike' from: /tmp/features_spike.json
10:55:28 [[33mWARNING[0m] [gold_ai2025.load_features_for_model]    (Warning) Feature file not found for model 'spike': features_spike.json
10:55:28 [[31m[1mERROR[0m] [gold_ai2025.load_features_for_model]       (Fallback Failed) Main feature file also not found or was requested ('features_main.json').
10:55:28 [[33mWARNING[0m] [gold_ai2025.main]    Model or features file for 'spike' not found. Path: /tmp/meta_classifier_spike.pkl, Features: Not Found
10:55:28 [[32mINFO[0m] [gold_ai2025.load_features_for_model]    (Feature Load) Attempting to load features for 'cluster' from: /tmp/features_cluster.json
10:55:28 [[33mWARNING[0m] [gold_ai2025.load_features_for_model]    (Warning) Feature file not found for model 'cluster': features_cluster.json
10:55:28 [[31m[1mERROR[0m] [gold_ai2025.load_features_for_model]       (Fallback Failed) Main feature file also not found or was requested ('features_main.json').
10:55:28 [[33mWARNING[0m] [gold_ai2025.main]    Model or features file for 'cluster' not found. Path: /tmp/meta_classifier_cluster.pkl, Features: Not Found
10:55:28 [[31mCRITICAL[0m] [gold_ai2025.main] CRITICAL: Main model or its features could not be loaded for FULL_RUN. Cannot proceed.
[32mPASSED[0m[32m                                                                   [ 98%][0m
test_gold_ai.py::TestMainFunction::test_main_prepare_train_data 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:28 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
10:55:28 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:28 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:28 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:28 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:28 [[32mINFO[0m] [gold_ai2025.main] 
(Starting) Gold AI Main Execution (Mode: PREPARE_TRAIN_DATA, Config: dummy)...
10:55:28 [[32mINFO[0m] [gold_ai2025.main] StrategyConfig loaded. Initial Capital: $100.00, Risk/Trade: 0.010
10:55:28 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
10:55:28 [[32mINFO[0m] [root] [Patch] _isinstance_safe: MagicMock with columns+index detected, treat as True for DataFrame in tests.
10:55:28 [[35mDEBUG[0m] [gold_ai2025.main] Removed existing FileHandler: <MagicMock name='mock.baseFilename' id='136309349509328'>
10:55:28 [[32mINFO[0m] [gold_ai2025.main] [Patch - IMPORT ERROR FIX - Step MainFunc] FileHandler configured. Logging to: /tmp/gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:28 [[32mINFO[0m] [gold_ai2025.main] Global OUTPUT_DIR has been set to: /tmp
10:55:28 [[32mINFO[0m] [gold_ai2025.main] Global LOG_FILENAME has been set to: gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:28 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:28 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:28 [[32mINFO[0m] [gold_ai2025.main]   Configured USE_GPU_ACCELERATION (initial from config): True
10:55:28 [[32mINFO[0m] [gold_ai2025.main]   Configured TRAIN_META_MODEL_BEFORE_RUN: True
10:55:28 [[32mINFO[0m] [gold_ai2025.main]   Data M15 Path: /content/drive/MyDrive/new/XAUUSD_M15.csv
10:55:28 [[32mINFO[0m] [gold_ai2025.main]   Data M1 Path: /content/drive/MyDrive/new/XAUUSD_M1.csv
10:55:28 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
(Processing) Setting up Thai font for plots...
10:55:28 [[32mINFO[0m] [gold_ai2025.setup_fonts]    Attempting to set font directly using findfont...
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
   Trying fallbacks (Loma, Garuda, Norasi, Kinnari, Waree, THSarabunNew)...
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:28 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:28 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:28 [[33mWARNING[0m] [gold_ai2025.setup_fonts] [Patch][QA v4.9.91+] Could not set any Thai font. Defaulting to 'DejaVu Sans'. Plots may not render Thai characters correctly.
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Run Mode Selected: PREPARE_TRAIN_DATA
10:55:28 [[32mINFO[0m] [gold_ai2025.main] 
--- (PREPARE_TRAIN_DATA) Starting Data Preparation ---
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Loading M15 data from: /content/drive/MyDrive/new/XAUUSD_M15.csv
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    M15 data prepared and Trend Zone calculated. Trend Zone Shape: (1, 7)
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Loading M1 data from: /content/drive/MyDrive/new/XAUUSD_M1.csv
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    M1 data prepared. Shape: (1, 6)
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Merging M15 Trend Zone into M1 data...
10:55:28 [[35mDEBUG[0m] [gold_ai2025.main]    [Patch AI Studio v4.9.1] Applying fillna for Trend_Zone without inplace=True.
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    M1 data after Trend Zone merge: (1, 13)
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Engineering M1 features...
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    M1 data after feature engineering: (1, 6)
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    Cleaning M1 data...
10:55:28 [[32mINFO[0m] [gold_ai2025.main]    M1 data after cleaning: (1, 6). Features for drift: 0
10:55:29 [[32mINFO[0m] [gold_ai2025.main]    (Success) Data Preparation complete. Final M1 (features only) shape for WFV: (1, 6)
10:55:29 [[33mWARNING[0m] [gold_ai2025.main] (Warning) No M1 features for drift observation.
10:55:29 [[32mINFO[0m] [gold_ai2025.main] 
--- Starting Walk-Forward Simulation for PREPARE_TRAIN_DATA (from main) ---
10:55:29 [[32mINFO[0m] [gold_ai2025.main] 
==================== STARTING FUND (main exec): DEFAULT_FUND ====================
10:55:29 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: UnnamedFund_WFV)] Starting Full WF Sim (L1_Th=0.55) for 5 folds.
10:55:29 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: UnnamedFund_WFV
10:55:29 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 5 Folds for Fund: UnnamedFund_WFV ---
10:55:29 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (UnnamedFund_WFV)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (UnnamedFund_WFV)'...
10:55:29 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (UnnamedFund_WFV)]     No trades logged for 'Overall WF Buy (UnnamedFund_WFV)'.
10:55:29 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Buy (UnnamedFund_WFV)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (UnnamedFund_WFV)'.
10:55:29 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (UnnamedFund_WFV)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (UnnamedFund_WFV)'...
10:55:29 [[33mWARNING[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (UnnamedFund_WFV)]     No trades logged for 'Overall WF Sell (UnnamedFund_WFV)'.
10:55:29 [[32mINFO[0m] [gold_ai2025.calculate_metrics.Overall WF Sell (UnnamedFund_WFV)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (UnnamedFund_WFV)'.
10:55:29 [[32mINFO[0m] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: UnnamedFund_WFV ---
10:55:29 [[33mWARNING[0m] [gold_ai2025.main] No trade log returned from WFV for PREPARE_TRAIN_DATA fund: DEFAULT_FUND
10:55:29 [[32mINFO[0m] [gold_ai2025.main] [Patch AI Studio v4.9.59+] [Patch] prep_data trade_log exported successfully: final_data_m1_v32_walkforward_prep_data_PREP_DEFAULT.csv.gz
10:55:29 [[33mWARNING[0m] [gold_ai2025.main]    (PREP_DATA) No trade log generated/returned from WFV to save for PREPARE_TRAIN_DATA mode.
[32mPASSED[0m[32m                                                                   [ 99%][0m
test_gold_ai.py::TestMainFunction::test_main_train_model_only 
[1m-------------------------------- live log call ---------------------------------[0m
10:55:29 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'train_meta_model_before_run': True}
10:55:29 [[32mINFO[0m] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
10:55:29 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
10:55:29 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
10:55:29 [[35mDEBUG[0m] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
10:55:29 [[32mINFO[0m] [gold_ai2025.main] 
(Starting) Gold AI Main Execution (Mode: TRAIN_MODEL_ONLY, Config: dummy)...
10:55:29 [[32mINFO[0m] [gold_ai2025.main] StrategyConfig loaded. Initial Capital: $100.00, Risk/Trade: 0.010
10:55:29 [[31m[1mERROR[0m] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
10:55:29 [[32mINFO[0m] [root] [Patch] _isinstance_safe: MagicMock with columns+index detected, treat as True for DataFrame in tests.
10:55:29 [[35mDEBUG[0m] [gold_ai2025.main] Removed existing FileHandler: <MagicMock name='mock.baseFilename' id='136309371242768'>
10:55:29 [[32mINFO[0m] [gold_ai2025.main] [Patch - IMPORT ERROR FIX - Step MainFunc] FileHandler configured. Logging to: /tmp/gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:29 [[32mINFO[0m] [gold_ai2025.main] Global OUTPUT_DIR has been set to: /tmp
10:55:29 [[32mINFO[0m] [gold_ai2025.main] Global LOG_FILENAME has been set to: gold_ai_v4.9.135_gold_ai_run_20250521.log
10:55:29 [[32mINFO[0m] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
10:55:29 [[32mINFO[0m] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
10:55:29 [[32mINFO[0m] [gold_ai2025.main]   Configured USE_GPU_ACCELERATION (initial from config): True
10:55:29 [[32mINFO[0m] [gold_ai2025.main]   Configured TRAIN_META_MODEL_BEFORE_RUN: True
10:55:29 [[32mINFO[0m] [gold_ai2025.main]   Data M15 Path: /content/drive/MyDrive/new/XAUUSD_M15.csv
10:55:29 [[32mINFO[0m] [gold_ai2025.main]   Data M1 Path: /content/drive/MyDrive/new/XAUUSD_M1.csv
10:55:29 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
(Processing) Setting up Thai font for plots...
10:55:29 [[32mINFO[0m] [gold_ai2025.setup_fonts]    Attempting to set font directly using findfont...
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.setup_fonts] 
   Trying fallbacks (Loma, Garuda, Norasi, Kinnari, Waree, THSarabunNew)...
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'THSarabunNew') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'TH Sarabun New') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Garuda') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Norasi') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Kinnari') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Waree') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Laksaman') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Found font: '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' (requested: 'Loma') at <MagicMock name='matplotlib.font_manager.findfont()' id='136309346613392'>
10:55:29 [[32mINFO[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Set default font to '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>'.
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Font '<MagicMock name='matplotlib.font_manager.FontProperties().get_name()' id='136309346764688'>' set, but test failed: not enough values to unpack (expected 2, got 0)
10:55:29 [[33mWARNING[0m] [gold_ai2025.set_thai_font] [Patch][QA v4.9.91+] Fallback: set font.family to 'DejaVu Sans'
10:55:29 [[33mWARNING[0m] [gold_ai2025.setup_fonts] [Patch][QA v4.9.91+] Could not set any Thai font. Defaulting to 'DejaVu Sans'. Plots may not render Thai characters correctly.
10:55:29 [[32mINFO[0m] [gold_ai2025.main]    Run Mode Selected: TRAIN_MODEL_ONLY
10:55:29 [[32mINFO[0m] [gold_ai2025.main] 
--- (TRAIN_MODEL_ONLY) Ensuring models are trained/exist (called from main) ---
10:55:29 [[32mINFO[0m] [gold_ai2025.main] Model training/check complete for TRAIN_MODEL_ONLY mode (called from main).
[32mPASSED[0m[32m                                                                   [ 99%][0m
test_gold_ai.py::TestCoverageADA::test_artificial_line_execution [32mPASSED[0m[32m  [100%][0m

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.12-final-0 _______________

Name             Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------
gold_ai2025.py    4070      0   1084    517    90%   121->124, 126->128, 128->131, 193->exit, 208->210, 247->249, 389->391, 391->393, 405->407, 407->411, 430->440, 431->440, 433->440, 474->478, 482->486, 490->494, 498->501, 503->505, 505->526, 508->513, 513->520, 532->547, 549->552, 554->557, 559->562, 681->691, 694->720, 720->726, 734->742, 743->758, 746->753, 747->760, 855->859, 1057->1060, 1060->1063, 1063->1066, 1066->1068, 1069->1073, 1074->1077, 1078->1081, 1081->1086, 1082->1084, 1086->1088, 1089->1092, 1095->1098, 1101->1104, 1124->1127, 1127->1130, 1130->1139, 1133->exit, 1142->1146, 1146->1148, 1154->1157, 1157->1160, 1161->1174, 1162->1165, 1167->1175, 1180->1182, 1182->1185, 1185->1188, 1188->1191, 1191->1194, 1194->1197, 1198->1201, 1211->1214, 1229->1231, 1313->1325, 1316->1313, 1325->1342, 1363->1396, 1368->1370, 1371->1390, 1379->1381, 1379->1396, 1396->1403, 1399->1403, 1400->1399, 1403->1408, 1420->1424, 1425->1446, 1447->1454, 1486->1498, 1487->1508, 1493->1487, 1498->1508, 1504->1498, 1519->exit, 1520->1524, 1521->exit, 1522->exit, 1524->1526, 1526->1528, 1528->1530, 1530->1532, 1532->exit, 1534->1537, 1563->1565, 1565->1569, 1583->1586, 1586->1589, 1589->1593, 1593->1603, 1603->1617, 1609->exit, 1621->1627, 1622->1624, 1659->1663, 1677->1681, 1683->1687, 1684->1683, 1688->1693, 1690->1688, 1695->1698, 1702->1705, 1708->1711, 1713->1722, 1715->1720, 1725->1742, 1728->1740, 1731->1736, 1744->1747, 1759->1762, 1784->1787, 1787->1791, 1801->1830, 1802->1805, 1812->1818, 1821->1826, 1830->1847, 1838->1842, 1848->1852, 1880->1883, 1886->1889, 1889->1893, 1894->1898, 1902->1906, 1918->1973, 1922->1925, 1930->1944, 1931->1930, 1933->1935, 1935->1930, 1939->1930, 1946->1971, 1949->1960, 1951->1960, 1955->1960, 1962->1969, 1980->2003, 1984->1988, 1988->1997, 1992->1995, 1999->2004, 2007->2015, 2010->2013, 2020->2026, 2029->2035, 2079->2081, 2081->2084, 2084->2087, 2105->2110, 2136->2139, 2139->2142, 2143->2148, 2148->2153, 2155->2165, 2166->2175, 2175->2183, 2185->2188, 2199->2203, 2209->exit, 2217->2224, 2224->2228, 2240->2242, 2253->2262, 2262->2283, 2268->2272, 2270->2272, 2292->2298, 2298->2302, 2310->2315, 2315->2320, 2321->2332, 2332->2338, 2348->2353, 2353->2356, 2356->2360, 2366->2370, 2370->2373, 2402->2407, 2409->2416, 2417->2419, 2431->2436, 2438->2445, 2446->2448, 2472->2479, 2473->2477, 2474->2472, 2477->2472, 2502->2507, 2517->2519, 2543->2548, 2548->2554, 2586->2589, 2589->2593, 2594->2605, 2605->2622, 2728->2730, 2736->2767, 2746->2750, 2756->2767, 2757->2759, 2759->2761, 2761->2756, 2768->2778, 2772->2768, 2820->2823, 2835->2838, 2912->2921, 2913->2916, 2945->2948, 3023->3028, 3026->3036, 3031->3036, 3112->3123, 3113->3112, 3118->3112, 3123->3132, 3165->3170, 3170->3172, 3174->3176, 3176->3178, 3281->3283, 3283->3287, 3293->3296, 3296->3300, 3311->3324, 3440->3442, 3442->3444, 3444->3449, 3453->3457, 3458->3460, 3462->3465, 3465->3474, 3474->3477, 3477->3481, 3483->3488, 3489->3495, 3490->exit, 3492->exit, 3495->3505, 3499->3504, 3500->exit, 3502->exit, 3508->3510, 3510->exit, 3516->exit, 3522->exit, 3526->3540, 3527->exit, 3529->exit, 3533->exit, 3534->exit, 3536->3539, 3545->3548, 3548->exit, 3550->exit, 3555->exit, 3558->exit, 3562->exit, 3564->3574, 3577->3628, 3583->3589, 3593->3595, 3603->3608, 3608->3612, 3624->3626, 3632->exit, 3634->3636, 3634->exit, 3643->3650, 3645->3650, 3656->3743, 3664->3712, 3685->3704, 3693->3696, 3696->3699, 3699->3702, 3720->3724, 3737->3740, 3747->3751, 3751->3767, 3752->3765, 3753->3757, 3754->3757, 3755->3757, 3969->3972, 3987->3992, 4001->4004, 4004->4007, 4013->4017, 4048->4052, 4054->4056, 4054->4059, 4056->4054, 4091->4096, 4106->4109, 4128->4131, 4131->4134, 4144->4147, 4148->4151, 4151->4154, 4173->4177, 4177->4181, 4181->4186, 4194->4202, 4275->4279, 4281->4285, 4333->4339, 4345->4348, 4373->4379, 4381->4386, 4387->4391, 4394->4416, 4410->4435, 4411->4414, 4416->4435, 4429->4435, 4430->4433, 4464->4471, 4471->4475, 4476->4480, 4481->4485, 4489->4493, 4491->4498, 4493->4498, 4495->4498, 4515->exit, 4516->4519, 4519->exit, 4545->4549, 4553->4560, 4555->4560, 4560->4562, 4562->4564, 4564->4567, 4571->4620, 4612->4622, 4664->4666, 4664->exit, 4686->4695, 4695->4699, 4699->4705, 4706->4710, 4723->4743, 4769->4771, 4769->4780, 4780->4783, 4818->4820, 4925->4928, 4969->5265, 5030->5111, 5031->5030, 5035->5071, 5038->5071, 5039->5071, 5040->5068, 5045->5047, 5047->5068, 5051->5053, 5053->5067, 5058->5067, 5059->5061, 5059->5067, 5067->5071, 5068->5039, 5068->5071, 5071->5090, 5074->5081, 5081->5090, 5090->5030, 5094->5110, 5099->5103, 5104->5106, 5114->5232, 5137->5228, 5228->5232, 5232->5235, 5247->5249, 5252->5255, 5281->5324, 5288->5324, 5293->5295, 5293->5313, 5301->5308, 5305->5313, 5355->5364, 5356->5359, 5364->5371, 5365->5369, 5380->5382, 5382->5384, 5393->5396, 5396->5399, 5478->5523, 5513->5522, 5526->5528, 5529->5531, 5625->5628, 5628->5631, 5644->5646, 5650->5697, 5709->5711, 5711->5713, 5713->5732, 5732->5768, 5740->5768, 5742->5768, 5744->5746, 5744->5768, 5755->5758, 5785->5788, 5859->5897, 5903->5905, 5926->5935, 5957->5961, 5974->5978, 6012->6018, 6013->6015, 6015->6017, 6039->6041, 6044->6050, 6050->6058, 6058->6070, 6070->6073, 6073->6079, 6136->6248, 6147->6149, 6180->6242, 6212->6214, 6230->6235, 6263->6272, 6569->6575, 6570->6569, 6617->6619, 6619->6621, 6815->6910, 6834->6866, 6852->6858, 6869->6910, 6873->6885, 6876->6885, 6878->6880, 6888->6898, 6890->6892, 7173->7175, 7173->7323, 7350->7353, 7361->7372, 7364->7366, 7377->7627, 7383->7386, 7386->7389, 7389->7394, 7399->7402, 7403->7416, 7403->7439, 7439->7441, 7439->7481, 7445->7450, 7450->7455, 7473->7481, 7481->7606, 7487->7493, 7504->7512, 7505->7507, 7507->7509, 7509->7512, 7515->7546, 7529->7539, 7531->7533, 7546->7575, 7562->7572, 7564->7566, 7575->7481, 7591->7601, 7593->7595, 7606->7624, 7609->7612, 7614->7616, 7617->7606, 7624->7377, 7627->7660, 7629->7660, 7630->7660, 7648->7658, 7650->7652, 7667->7682, 7674->7667, 7675->7678, 7678->7681, 7685->7688, 7694->7697, 7695->7694, 7701->7706, 7712->7718, 7729->7734, 7735->7752, 7736->7739, 7740->7745, 7745->7748, 7783->7795, 7784->7790, 7795->7800, 7800->7806, 7806->7811, 7839->7841
------------------------------------------------------------
TOTAL             4070      0   1084    517    90%
Coverage HTML written to dir htmlcov
============================= slowest 10 durations =============================
2.14s call     test_gold_ai.py::test_prepare_datetime_nat_ratio_all
1.57s call     test_gold_ai.py::test_full_e2e_backtest_and_export
1.46s call     test_gold_ai.py::test_risk_trade_manager_forced_entry_spike
1.46s call     test_gold_ai.py::TestGoldAIPart1SetupAndEnv::test_environment_is_colab_drive_mount_succeeds
1.15s call     test_gold_ai.py::test_parse_datetime_safely_unknown_format
1.10s call     test_gold_ai.py::TestMainFunction::test_main_prepare_train_data
1.08s call     test_gold_ai.py::TestMainFunction::test_main_full_run_basic
0.79s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat
0.53s call     test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked
0.41s call     test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback
[32m============================= [32m[1m213 passed[0m[32m in 44.11s[0m[32m =============================[0m

เอาต์พุตของการสตรีมมีการตัดเหลือเพียง 5000 บรรทัดสุดท้าย
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_strict 
-------------------------------- live log call ---------------------------------
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
14:38:55 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:1000, PNL:0.0
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_multi_order_with_reentry_fixed 
-------------------------------- live log call ---------------------------------
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0}
14:38:55 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:1000.0, PNL:0.0
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
14:38:55 [INFO] [gold_ai2025.is_reentry_allowed.BUY] Re-entry ALLOWED for side BUY at 2023-01-01 00:01:00.
PASSED
test_gold_ai.py::TestWFVandLotSizingFix::test_simulate_trades_reentry_strict 
-------------------------------- live log call ---------------------------------
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'use_reentry': True, 'reentry_cooldown_bars': 0, 'reentry_cooldown_after_tp_minutes': 0, 'initial_capital': 100.0, 'risk_per_trade': 0.01}
14:38:55 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:999, PNL:0.0
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1004.0, Exit:1003, PNL:0.0
14:38:55 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
14:38:55 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_corrupt_encoding 14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:55 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:55 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:55 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:55 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:55 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:55 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:55 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:55 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bad_encoding.csv
14:38:55 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
14:38:55 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'bad_encoding.csv': 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1438, in safe_load_csv_auto
    load_logger.debug("         -> No .gz extension, using standard pd.read_csv.")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_generic_failure 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: broken.csv
14:38:55 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
14:38:55 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'broken.csv': broken
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1438, in safe_load_csv_auto
    load_logger.debug("         -> No .gz extension, using standard pd.read_csv.")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
OSError: broken
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_gz_with_corrupt_content 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bad_file.csv.gz
14:38:55 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> Detected .gz extension, using gzip.
14:38:55 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'bad_file.csv.gz': corrupt gzip
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1434, in safe_load_csv_auto
    load_logger.debug("         -> Detected .gz extension, using gzip.")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
OSError: corrupt gzip
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_denied 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.setup_output_directory]    (Setup) กำลังตรวจสอบ/สร้าง Output Directory: /root/denied
14:38:55 [INFO] [gold_ai2025.setup_output_directory]       -> Directory exists or was created.
14:38:55 [ERROR] [gold_ai2025.setup_output_directory]    (Error) ไม่สามารถสร้างหรือเข้าถึง Output Directory '/root/denied': Permission denied
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1291, in setup_output_directory
    test_file_path = os.path.join(output_path, ".write_test")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: Permission denied
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_permission_error_read 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: denied.csv
14:38:55 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
14:38:55 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) Failed to load file 'denied.csv': denied
Traceback (most recent call last):
  File "/content/drive/MyDrive/new/gold_ai2025.py", line 1438, in safe_load_csv_auto
    load_logger.debug("         -> No .gz extension, using standard pd.read_csv.")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/unittest/mock.py", line 1183, in _execute_mock_call
    raise effect
PermissionError: denied
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_safe_load_csv_auto_utf8_bom_file 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.safe_load_csv_auto]       (safe_load) Attempting to load: bom_file.csv
14:38:55 [DEBUG] [gold_ai2025.safe_load_csv_auto]          -> No .gz extension, using standard pd.read_csv.
PASSED
test_gold_ai.py::TestWarningEdgeCases::test_set_thai_font_without_matplotlib 
-------------------------------- live log call ---------------------------------
14:38:55 [INFO] [gold_ai2025.set_thai_font]    [Font Check] Searching for preferred fonts: ['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Loma': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'TH Sarabun New': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'THSarabunNew': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Garuda': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Norasi': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Kinnari': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Waree': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]       -> Error finding font 'Laksaman': matplotlib not available
14:38:55 [WARNING] [gold_ai2025.set_thai_font]    (Warning) Could not find any suitable Thai fonts (['Loma', 'TH Sarabun New', 'THSarabunNew', 'Garuda', 'Norasi', 'Kinnari', 'Waree', 'Laksaman']) using findfont.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_normal 14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:55 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:55 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:55 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:55 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:55 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:55 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:55 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:55 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:55 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:55 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:55 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:55 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_ema_empty 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:56 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:56 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:56 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:56 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:56 [DEBUG] [gold_ai2025.ema] [Patch AI Studio v4.9.26] Empty input detected in ema, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_normal 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:56 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:56 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:56 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:56 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_sma_invalid_period 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:56 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:56 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:56 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:56 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:56 [ERROR] [gold_ai2025.sma] Invalid period (0). Must be a positive integer.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_normal 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:56 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:56 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:56 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:56 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rsi_empty 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:56 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:56 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:56 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:56 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:56 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:56 [DEBUG] [gold_ai2025.rsi] [Patch AI Studio v4.9.26] Empty input detected in rsi, returning empty pd.Series
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_valid 14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:56 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:56 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:56 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:56 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:56 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:56 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:57 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta.volatility' has no attribute 'AverageTrueRange'. Falling back to manual.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_atr_missing_cols 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:57 [WARNING] [gold_ai2025.atr]    (Warning) ATR calculation skipped: Missing columns ['High', 'Low', 'Close'].
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_normal 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:57 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (5 < 26).
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_macd_empty 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:57 [DEBUG] [gold_ai2025.macd] Input series is None or empty, returning empty series for MACD components.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_rolling_zscore_short_series 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:57 [DEBUG] [gold_ai2025.rolling_zscore] Input series too short (< 2), returning zeros.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_tag_price_structure_patterns_missing_col 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_calculate_m15_trend_zone_minimal 14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:57 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:57 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:57 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:57 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:57 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:57 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:57 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:57 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:57 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:57 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:57 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_na 14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_get_session_tag_zones 14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_engineer_m1_features_empty 14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:58 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
14:38:58 [ERROR] [gold_ai2025.engineer_m1_features]    (Error) [Patch] ข้ามการสร้าง Features M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestFeatureEngineeringCoverage::test_clean_m1_data_empty 14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log setup --------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
-------------------------------- live log call ---------------------------------
14:38:58 [INFO] [gold_ai2025.clean_m1_data] (Processing) กำหนด Features M1 สำหรับ Drift และแปลงประเภท (using StrategyConfig)...
14:38:58 [WARNING] [gold_ai2025.clean_m1_data]    (Warning) ข้ามการทำความสะอาดข้อมูล M1: DataFrame ว่างเปล่า.
PASSED
test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback 14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:58 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:38:58 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
14:38:58 - ERROR - [GoldAI_Enterprise_v4.9] - [Patch] ATR fallback: getattr(sys.modules.get(__name__), 'atr', None) returned None. Manual ATR fallback logic will run if needed.
14:38:58 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
14:38:58 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
FAILED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_ema_negative_period 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_sma_not_series 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:59 [ERROR] [gold_ai2025.sma] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rsi_not_series 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:59 [ERROR] [gold_ai2025.rsi] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_atr_invalid_type 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:59 [ERROR] [gold_ai2025.atr] Input must be a pandas DataFrame, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_macd_invalid_type 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:59 [ERROR] [gold_ai2025.macd] Input must be a pandas Series, got <class 'list'>
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rolling_zscore_nan 14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:59 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:59 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:38:59 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:59 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:38:59 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:38:59 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:59 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:59 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:59 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty 14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:00 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:00 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:00 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:00 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:00 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:00 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:00 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:00 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty 14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:00 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:00 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:00 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:00 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:00 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:00 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:00 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:00 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_empty_df 14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:00 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:00 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:00 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:00 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:00 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:00 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:00 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:00 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_df 14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:00 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:00 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:00 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:00 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:00 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:00 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:00 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:00 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:00 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:00 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:00 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:00 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_type_guard 14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:01 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:01 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:01 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:01 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:01 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:01 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:01 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:01 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_tag_price_structure_patterns_expected_type_guard 14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:01 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:01 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:01 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:01 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:01 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:01 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:01 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:01 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
14:39:01 [ERROR] [root] [Patch AI Studio v4.9.33] tag_price_structure_patterns: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Pattern_Label'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_empty_guard 14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:01 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:01 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:01 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:01 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:01 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:01 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:01 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:01 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::TestBranchAndErrorPathCoverage::test_calculate_m15_trend_zone_expected_type_guard 14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:01 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:01 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:01 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:01 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:01 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:01 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:01 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:01 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:01 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:01 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:01 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:01 [ERROR] [root] [Patch AI Studio v4.9.33] calculate_m15_trend_zone: Input is not of expected DataFrame type or empty. Returning DataFrame with only ['Trend_Zone'] column for test compatibility.
PASSED
test_gold_ai.py::test_trade_manager_update_methods 14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:02 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:02 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:02 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:02 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:02 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:02 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:02 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:02 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:02 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
14:39:02 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
14:39:02 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
14:39:02 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): NaT
14:39:02 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
14:39:02 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
PASSED
test_gold_ai.py::test_run_backtest_simulation_minimal 14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:02 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:02 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:02 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:02 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:02 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:02 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:02 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:02 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Test', Side='BUY', Fold=N/A ---
14:39:02 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] RiskManager (risk_manager_obj) not provided. Initializing new one.
14:39:02 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:02 [WARNING] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] TradeManager (trade_manager_obj) not provided. Initializing new one.
14:39:02 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:02 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Test
14:39:02 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 44 columns for _Test.
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Test] Initial KillSwitchState=False, InitialConsecLosses=0
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Simulation loop finished for Test. Finalizing remaining orders...
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] Created trade log DataFrame for Test with 0 entries.
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY]   (Finished) Test (BUY) simulation complete. Final Equity: $1000.00
14:39:02 [INFO] [gold_ai2025.run_backtest_simulation_v34.Test.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=2, trade_log=0
PASSED
test_gold_ai.py::test_calculate_metrics_minimal 14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:02 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:02 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:02 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:02 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:02 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:02 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:02 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:02 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:02 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:02 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'minimal_test': {'fold_tag': 'minimal_test', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 10.0}
PASSED
test_gold_ai.py::test_calculate_metrics_with_string_entries 14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:03 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:03 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:03 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:03 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:03 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:03 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:03 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: 'invalid_entry'
14:39:03 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'mixed': {'fold_tag': 'mixed', 'num_trades': 2, 'num_tp': 1, 'num_sl': 1, 'num_be': 0, 'net_profit': 10}
PASSED
test_gold_ai.py::test_calculate_metrics_with_invalid_items 14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:03 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:03 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:03 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:03 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:03 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:03 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:03 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 123
14:39:03 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 2: <object object at 0x7a04568b4850>
14:39:03 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'invalid': {'fold_tag': 'invalid', 'num_trades': 1, 'num_tp': 1, 'num_sl': 0, 'num_be': 0, 'net_profit': 5}
PASSED
test_gold_ai.py::test_safe_load_csv_auto_nonexistent 14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:03 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:03 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:03 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:03 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:03 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:03 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:03 [ERROR] [gold_ai2025.safe_load_csv_auto]          (Error) ไม่พบไฟล์: file_that_does_not_exist.csv
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_float_fmt_cases 14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:03 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:03 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:03 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:03 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:03 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:03 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe 14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:03 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:03 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:03 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:03 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:03 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:03 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:03 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:03 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:03 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:03 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 'str', returning False.
14:39:03 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is MagicMock without DataFrame-like, returning False.
14:39:03 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: (123, 'bad'), returning False.
14:39:03 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: <test_gold_ai.TestRobustFormatAndTypeGuard.test_isinstance_safe.<locals>.DummyType object at 0x7a04551a0910>, returning False.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_isinstance_safe_additional_types 14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:04 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:04 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:04 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:04 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:04 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:04 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:04 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: [<class 'int'>, <class 'str'>], returning False.
14:39:04 [ERROR] [root] [Patch AI Studio v4.9.40] _isinstance_safe: expected_type is not a valid type: 3.14, returning False.
PASSED
test_gold_ai.py::TestRobustFormatAndTypeGuard::test_trade_manager_update_last_trade_time 14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:04 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:04 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:04 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:04 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:04 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:04 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:04 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:04 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:04 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:04 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:04 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:04 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:04 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:04 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:04 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:04 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
14:39:04 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
14:39:04 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
14:39:04 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-02 00:00:00
14:39:04 [INFO] [root] [Patch AI Studio v4.9.40] Updated last_trade_time: 2023-01-01 00:00:00
14:39:04 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
14:39:04 [WARNING] [root] [Patch AI Studio v4.9.40] Attempted to update last_trade_time with None.
14:39:04 [WARNING] [root] [Patch AI Studio v4.9.40] Invalid trade_time (NaT/None/Type): nan
14:39:04 [WARNING] [root] [Patch AI Studio v4.9.40] Could not parse trade_time: not-a-date
PASSED
test_gold_ai.py::test_full_e2e_backtest_and_export 14:39:05 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:05 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:05 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:05 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Importing core libraries (with robust fallbacks)...

-------------------------------- live log call ---------------------------------
14:39:05 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
14:39:05 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
14:39:06 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
14:39:06 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
14:39:06 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
14:39:06 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
14:39:06 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
14:39:06 - ERROR - [GoldAI_Enterprise_v4.9] -    (Error) Could not get CatBoost components from module: module 'catboost' has no attribute 'CatBoostClassifier'
14:39:11 [DEBUG] [matplotlib] matplotlib data path: /usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data
14:39:11 [DEBUG] [matplotlib] CONFIGDIR=/root/.config/matplotlib
14:39:11 [DEBUG] [matplotlib] interactive is False
14:39:11 [DEBUG] [matplotlib] platform is linux
14:39:11 [DEBUG] [matplotlib] CACHEDIR=/root/.cache/matplotlib
14:39:11 [DEBUG] [matplotlib.font_manager] Using fontManager instance from /root/.cache/matplotlib/fontlist-v390.json
14:39:12 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
14:39:12 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
14:39:12 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
14:39:12 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
14:39:12 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
14:39:18 [DEBUG] [pydot] pydot initializing
14:39:18 [DEBUG] [pydot] pydot 3.0.4
14:39:18 [DEBUG] [pydot.dot_parser] pydot dot_parser module initializing
14:39:18 [DEBUG] [pydot.core] pydot core module initializing
14:39:19 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:19 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:19 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:19 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:19 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:19 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:19 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:19 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:19 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:19 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:19 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:19 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:19 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:19 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:19 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:19 [INFO] [gold_ai2025.load_data] (Loading) กำลังโหลดข้อมูล  จาก: /tmp/pytest-of-root/pytest-0/test_full_e2e_backtest_and_exp0/random_gold.csv
14:39:19 [INFO] [gold_ai2025.load_data]    ไฟล์ข้อมูล: /tmp/pytest-of-root/pytest-0/test_full_e2e_backtest_and_exp0/random_gold.csv
14:39:19 [DEBUG] [gold_ai2025.load_data]    Converting price columns ['Open', 'High', 'Low', 'Close'] to numeric (if not already specified in dtypes)...
14:39:19 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking for invalid prices (<= 0)...
14:39:19 [DEBUG] [gold_ai2025.load_data]    [Data Quality] Checking High >= Low consistency...
14:39:19 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ % NaN ในคอลัมน์ราคา...
14:39:19 [INFO] [gold_ai2025.load_data]       NaN Percentage:
Open     0.0
High     0.0
Low      0.0
Close    0.0
dtype: float64
14:39:19 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Duplicates (Date & Timestamp)...
14:39:19 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Duplicates (Date & Timestamp).
14:39:19 [INFO] [gold_ai2025.load_data]    [Data Quality] ตรวจสอบ Price Jumps (Threshold > 10.0%)...
14:39:19 [DEBUG] [gold_ai2025.load_data]       ไม่พบ Price Jumps ที่ผิดปกติ.
14:39:19 [INFO] [gold_ai2025.load_data] (Success) โหลดและตรวจสอบข้อมูล  สำเร็จ: 50 แถว
14:39:19 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:19 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:19 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:19 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:19 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:19 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
14:39:20 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
14:39:20 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
14:39:21 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
14:39:21 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
14:39:21 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
14:39:21 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
14:39:21 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
14:39:21 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
14:39:21 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
14:39:21 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
14:39:21 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
14:39:21 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
14:39:21 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
14:39:21 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
14:39:21 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
14:39:21 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
14:39:21 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
14:39:21 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
14:39:21 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 50 values...
14:39:21 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 50. Remaining: 0
14:39:21 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
14:39:21 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
14:39:22 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
14:39:22 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
14:39:22 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
14:39:22 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (50, 32)
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.01}
14:39:22 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:22 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
14:39:22 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:22 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:22 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:22 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:22 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:39:22 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
14:39:22 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
14:39:22 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
14:39:22 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
14:39:22 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
14:39:22 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
14:39:22 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.56+] Extra kwargs ignored in calculate_metrics: ['side']
14:39:22 [WARNING] [gold_ai2025.calculate_metrics_basic] [Patch AI Studio v4.9.66+] Ignoring non-dict trade_log entry at 0: 'exit_reason'
14:39:22 [DEBUG] [gold_ai2025.calculate_metrics_basic] Metrics calculated for fold 'e2e': {'fold_tag': 'e2e', 'num_trades': 0, 'num_tp': 0, 'num_sl': 0, 'num_be': 0, 'net_profit': 0}
14:39:22 [WARNING] [GoldAI_Export] [Patch AI Studio v4.9.58+] trade_log is empty or has no columns, exporting header only (or skipping export).
PASSED
test_gold_ai.py::test_run_wfv_multi_fold 
-------------------------------- live log call ---------------------------------
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 2, 'risk_per_trade': 0.01}
14:39:22 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:22 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
14:39:22 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
14:39:22 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:22 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
14:39:22 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.30) for 2 folds.
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 20, Test size: 20) ---
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
14:39:22 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:22 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (20, 15)
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:22 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
14:39:22 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:22 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:22 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:22 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
14:39:22 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
14:39:22 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
14:39:22 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
14:39:22 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250520_143922.json
14:39:22 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
14:39:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
14:39:23 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
14:39:23 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
14:39:23 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
14:39:23 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250520_143923.json
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 40, Test size: 20) ---
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
14:39:23 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:23 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (20, 15)
14:39:23 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
14:39:23 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/20 [00:00<?, ?it/s]
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:23 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:23 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:23 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
14:39:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
14:39:24 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
14:39:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
14:39:24 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250520_143924.json
14:39:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:24 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
14:39:24 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/20 [00:00<?, ?it/s]
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 17 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 18 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 19 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:24 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:24 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:24 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=20, trade_log=0
14:39:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
14:39:24 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
14:39:24 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
14:39:24 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250520_143924.json
14:39:24 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:25 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 2 Folds for Fund: FALLBACK_FUND ---
14:39:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
14:39:25 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
14:39:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
14:39:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
14:39:25 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
14:39:25 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
14:39:25 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250520_143925.json
14:39:25 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
14:39:25 [DEBUG] [matplotlib.pyplot] Loaded backend module://matplotlib_inline.backend_inline version unknown.
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.535
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.25
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.535
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.25
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.535
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.25
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.535
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.25
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
14:39:25 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=16.0.
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.33499999999999996
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Italic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-BoldItalic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=700, stretch='condensed', size='scalable')) = 11.25
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-BoldItalic.ttf', name='Liberation Sans', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Italic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Regular.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=400, stretch='condensed', size='scalable')) = 10.535
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/humor-sans/Humor-Sans.ttf', name='Humor Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Bold.ttf', name='Liberation Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-BoldItalic.ttf', name='Liberation Mono', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Italic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Bold.ttf', name='Liberation Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-Regular.ttf', name='Liberation Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Bold.ttf', name='Liberation Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Bold.ttf', name='Liberation Sans Narrow', style='normal', variant='normal', weight=700, stretch='condensed', size='scalable')) = 10.25
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSansNarrow-Italic.ttf', name='Liberation Sans Narrow', style='italic', variant='normal', weight=400, stretch='condensed', size='scalable')) = 11.535
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSerif-BoldItalic.ttf', name='Liberation Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.05
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationSans-Regular.ttf', name='Liberation Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: score(FontEntry(fname='/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf', name='Liberation Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.335
14:39:26 [DEBUG] [matplotlib.font_manager] findfont: Matching sans\-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=16.0 to DejaVu Sans ('/usr/local/lib/python3.11/dist-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf') with score of 0.050000.
14:39:26 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
14:39:26 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
14:39:27 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
14:39:27 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 3, 'risk_per_trade': 0.01}
14:39:27 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:27 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:27 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:27 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
14:39:27 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
14:39:27 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:27 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
14:39:27 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.50) for 3 folds.
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 19, Test size: 17) ---
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
14:39:27 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:27 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (17, 15)
14:39:27 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
14:39:27 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
14:39:27 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:27 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
14:39:27 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
14:39:27 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:27 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:27 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:27 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:27 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:28 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
14:39:28 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
14:39:28 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
14:39:28 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250520_143928.json
14:39:28 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:28 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:28 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
14:39:28 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:28 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:28 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:28 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:29 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
14:39:29 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
14:39:29 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
14:39:29 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250520_143929.json
14:39:29 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:29 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 36, Test size: 17) ---
14:39:29 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
14:39:29 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
14:39:29 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:30 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (17, 15)
14:39:30 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:30 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
14:39:30 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:30 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
14:39:30 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
14:39:30 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
14:39:30 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250520_143930.json
14:39:30 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:30 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:30 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
14:39:30 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:30 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:30 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:30 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:31 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
14:39:31 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
14:39:31 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
14:39:31 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250520_143931.json
14:39:31 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:31 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_3_FALLBACK_FUND (Train size: 53, Test size: 17) ---
14:39:31 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_3_FALLBACK_FUND: 0.300
14:39:31 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_3_FALLBACK_FUND using its specific fold_config...
14:39:31 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:31 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_3_FALLBACK_FUND after signal calculation: (17, 15)
14:39:31 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_3_FALLBACK_FUND...
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_BUY', Side='BUY', Fold=2 ---
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:31 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_BUY
14:39:31 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_BUY.
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_BUY, BUY):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 16 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:31 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:31 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_3_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_3_FALLBACK_FUND_BUY with 0 entries.
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_3_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:31 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:32 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'...
14:39:32 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]     No trades logged for 'Fold_3_FALLBACK_FUND BUY'.
14:39:32 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'.
14:39:32 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_3_FALLBACK_FUND_BUY_metrics_20250520_143932.json
14:39:32 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:32 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_3_FALLBACK_FUND...
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_SELL', Side='SELL', Fold=2 ---
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:32 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_SELL
14:39:32 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_SELL.
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_SELL, SELL):   0%|          | 0/17 [00:00<?, ?it/s]
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 16 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:32 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:32 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_3_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_3_FALLBACK_FUND_SELL with 0 entries.
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_3_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:32 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=17, trade_log=0
14:39:32 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'...
14:39:32 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]     No trades logged for 'Fold_3_FALLBACK_FUND SELL'.
14:39:32 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'.
14:39:32 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_3_FALLBACK_FUND_SELL_metrics_20250520_143932.json
14:39:32 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:33 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 3 Folds for Fund: FALLBACK_FUND ---
14:39:33 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
14:39:33 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
14:39:33 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
14:39:33 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
14:39:33 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
14:39:33 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
14:39:33 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250520_143933.json
14:39:33 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
14:39:34 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
14:39:34 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
14:39:35 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
14:39:35 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'n_walk_forward_splits': 4, 'risk_per_trade': 0.01}
14:39:35 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:35 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:35 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:35 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold] Detected legacy argument order; adjusted parameters.
14:39:35 [WARNING] [gold_ai2025.run_all_folds_with_threshold] trade_manager_obj not provided; using dummy instance.
14:39:35 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:35 [WARNING] [gold_ai2025.run_all_folds_with_threshold] risk_manager_obj not provided; initialized new RiskManager.
14:39:35 [WARNING] [gold_ai2025.run_all_folds_with_threshold] output_dir_for_wfv not provided; using '/tmp'.
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]       [Runner (Prep Data - Fund: FALLBACK_FUND)] Starting Full WF Sim (L1_Th=0.70) for 4 folds.
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    RiskManager and TradeManager states reset for WFV execution of Fund: FALLBACK_FUND
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_1_FALLBACK_FUND (Train size: 16, Test size: 16) ---
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_1_FALLBACK_FUND: 0.300
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_1_FALLBACK_FUND using its specific fold_config...
14:39:35 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:35 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_1_FALLBACK_FUND after signal calculation: (16, 15)
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_1_FALLBACK_FUND...
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_BUY', Side='BUY', Fold=0 ---
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_BUY
14:39:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_BUY.
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Fold_1_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000016) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000017) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000018) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_1_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_1_FALLBACK_FUND_BUY with 0 entries.
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_1_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:35 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'...
14:39:35 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]     No trades logged for 'Fold_1_FALLBACK_FUND BUY'.
14:39:35 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND BUY'.
14:39:35 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_BUY_metrics_20250520_143935.json
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:35 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_1_FALLBACK_FUND...
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_1_FALLBACK_FUND_SELL', Side='SELL', Fold=0 ---
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_1_FALLBACK_FUND_SELL
14:39:35 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_1_FALLBACK_FUND_SELL.
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Fold_1_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_1_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000016) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000016: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000017) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000017: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000018) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000018: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000019) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000019: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000020) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000020: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000021) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000021: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000022) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000022: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000023) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000023: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000024) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000024: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000025) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000025: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000026) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000026: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000027) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000027: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000028) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000028: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000029) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000029: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000030) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000030: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000031) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:35 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000031: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:35 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_1_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_1_FALLBACK_FUND_SELL with 0 entries.
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_1_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:35 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_1_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:36 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'...
14:39:36 [WARNING] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]     No trades logged for 'Fold_1_FALLBACK_FUND SELL'.
14:39:36 [INFO] [gold_ai2025.calculate_metrics.Fold_1_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_1_FALLBACK_FUND SELL'.
14:39:36 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_1_FALLBACK_FUND_SELL_metrics_20250520_143936.json
14:39:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_1_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:36 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_2_FALLBACK_FUND (Train size: 32, Test size: 16) ---
14:39:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_2_FALLBACK_FUND: 0.300
14:39:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_2_FALLBACK_FUND using its specific fold_config...
14:39:36 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:36 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_2_FALLBACK_FUND after signal calculation: (16, 15)
14:39:36 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_2_FALLBACK_FUND...
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_BUY', Side='BUY', Fold=1 ---
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_BUY
14:39:36 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_BUY.
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Fold_2_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:36 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:36 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_2_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_2_FALLBACK_FUND_BUY with 0 entries.
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_2_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:36 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:37 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'...
14:39:37 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]     No trades logged for 'Fold_2_FALLBACK_FUND BUY'.
14:39:37 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND BUY'.
14:39:37 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_BUY_metrics_20250520_143937.json
14:39:37 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:37 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_2_FALLBACK_FUND...
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_2_FALLBACK_FUND_SELL', Side='SELL', Fold=1 ---
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:37 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_2_FALLBACK_FUND_SELL
14:39:37 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_2_FALLBACK_FUND_SELL.
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Fold_2_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_2_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000032) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000032: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000033) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000033: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000034) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000034: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000035) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000035: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000036) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000036: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000037) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000037: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000038) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000038: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000039) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000039: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000040) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000040: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000041) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000041: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000042) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000042: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000043) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000043: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000044) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000044: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000045) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000045: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000046) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000046: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000047) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:37 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000047: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:37 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_2_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_2_FALLBACK_FUND_SELL with 0 entries.
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_2_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:37 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_2_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:37 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'...
14:39:37 [WARNING] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]     No trades logged for 'Fold_2_FALLBACK_FUND SELL'.
14:39:37 [INFO] [gold_ai2025.calculate_metrics.Fold_2_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_2_FALLBACK_FUND SELL'.
14:39:37 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_2_FALLBACK_FUND_SELL_metrics_20250520_143937.json
14:39:37 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_2_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:37 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_3_FALLBACK_FUND (Train size: 48, Test size: 16) ---
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_3_FALLBACK_FUND: 0.300
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_3_FALLBACK_FUND using its specific fold_config...
14:39:38 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:38 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_3_FALLBACK_FUND after signal calculation: (16, 15)
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_3_FALLBACK_FUND...
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_BUY', Side='BUY', Fold=2 ---
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:38 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_BUY
14:39:38 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_BUY.
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Fold_3_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_3_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_3_FALLBACK_FUND_BUY with 0 entries.
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_3_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:38 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'...
14:39:38 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]     No trades logged for 'Fold_3_FALLBACK_FUND BUY'.
14:39:38 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND BUY'.
14:39:38 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_3_FALLBACK_FUND_BUY_metrics_20250520_143938.json
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_3_FALLBACK_FUND...
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_3_FALLBACK_FUND_SELL', Side='SELL', Fold=2 ---
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:38 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_3_FALLBACK_FUND_SELL
14:39:38 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_3_FALLBACK_FUND_SELL.
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Fold_3_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_3_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000048) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000048: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000049) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000049: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000050) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000050: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000051) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000051: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000052) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000052: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000053) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000053: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000054) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000054: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000055) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000055: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000056) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000056: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000057) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000057: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000058) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000058: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000059) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000059: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000060) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000060: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000061) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000061: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000062) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000062: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000063) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:38 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000063: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:38 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_3_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_3_FALLBACK_FUND_SELL with 0 entries.
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_3_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:38 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_3_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:38 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'...
14:39:38 [WARNING] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]     No trades logged for 'Fold_3_FALLBACK_FUND SELL'.
14:39:38 [INFO] [gold_ai2025.calculate_metrics.Fold_3_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_3_FALLBACK_FUND SELL'.
14:39:38 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_3_FALLBACK_FUND_SELL_metrics_20250520_143938.json
14:39:38 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_3_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Processing Fold_4_FALLBACK_FUND (Train size: 64, Test size: 16) ---
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Using Gain_Z Threshold for Fold_4_FALLBACK_FUND: 0.300
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Calculating entry signals for Fold_4_FALLBACK_FUND using its specific fold_config...
14:39:39 [DEBUG] [gold_ai2025.calculate_m1_entry_signals]       (Calculating M1 Signals using StrategyConfig)...
14:39:39 [DEBUG] [gold_ai2025.run_all_folds_with_threshold]    Test data for Fold_4_FALLBACK_FUND after signal calculation: (16, 15)
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating BUY for Fold_4_FALLBACK_FUND...
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_4_FALLBACK_FUND_BUY', Side='BUY', Fold=3 ---
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:39 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_4_FALLBACK_FUND_BUY
14:39:39 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_4_FALLBACK_FUND_BUY.
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Fold_4_FALLBACK_FUND_BUY] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_4_FALLBACK_FUND_BUY, BUY):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 0 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 1 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 2 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 3 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 4 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 5 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 6 (1970-01-01 00:00:00.000000070) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000070: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 7 (1970-01-01 00:00:00.000000071) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000071: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 8 (1970-01-01 00:00:00.000000072) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000072: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 9 (1970-01-01 00:00:00.000000073) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000073: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 10 (1970-01-01 00:00:00.000000074) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000074: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 11 (1970-01-01 00:00:00.000000075) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000075: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 12 (1970-01-01 00:00:00.000000076) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000076: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 13 (1970-01-01 00:00:00.000000077) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000077: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 14 (1970-01-01 00:00:00.000000078) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000078: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] --- Bar 15 (1970-01-01 00:00:00.000000079) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000079: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] Simulation loop finished for Fold_4_FALLBACK_FUND_BUY. Finalizing remaining orders...
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] Created trade log DataFrame for Fold_4_FALLBACK_FUND_BUY with 0 entries.
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY]   (Finished) Fold_4_FALLBACK_FUND_BUY (BUY) simulation complete. Final Equity: $1000.00
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_BUY.BUY] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:39 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]   (Metrics) Calculating full metrics for: 'Fold_4_FALLBACK_FUND BUY'...
14:39:39 [WARNING] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]     No trades logged for 'Fold_4_FALLBACK_FUND BUY'.
14:39:39 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND BUY]   (Metrics) Finished calculating full metrics for: 'Fold_4_FALLBACK_FUND BUY'.
14:39:39 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_4_FALLBACK_FUND_BUY_metrics_20250520_143939.json
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished BUY for Fold_4_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:39 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Simulating SELL for Fold_4_FALLBACK_FUND...
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Starting Backtest Simulation (v4.9.23 - AI Studio Patch v4.9.1): Label='Fold_4_FALLBACK_FUND_SELL', Side='SELL', Fold=3 ---
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Equity tracker history initialized as dict
14:39:39 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Predefining result columns in df_sim for label_suffix: _Fold_4_FALLBACK_FUND_SELL
14:39:39 [DEBUG] [gold_ai2025._predefine_result_columns_for_simulation] Finished predefining 47 columns for _Fold_4_FALLBACK_FUND_SELL.
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Initializing simulation. Capital: $1000.00, Risk: 1.000%, MM Mode: balanced
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Config: MaxHold=24, PTP En=True, ReEn=True, FE En=True
14:39:39 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Fold_4_FALLBACK_FUND_SELL] Initial KillSwitchState=False, InitialConsecLosses=0
  Sim (Fold_4_FALLBACK_FUND_SELL, SELL):   0%|          | 0/16 [00:00<?, ?it/s]
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 0 (1970-01-01 00:00:00.000000064) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000064: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 1 (1970-01-01 00:00:00.000000065) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000065: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 2 (1970-01-01 00:00:00.000000066) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000066: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 3 (1970-01-01 00:00:00.000000067) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000067: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 4 (1970-01-01 00:00:00.000000068) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000068: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 5 (1970-01-01 00:00:00.000000069) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000069: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 6 (1970-01-01 00:00:00.000000070) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000070: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 7 (1970-01-01 00:00:00.000000071) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000071: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 8 (1970-01-01 00:00:00.000000072) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000072: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 9 (1970-01-01 00:00:00.000000073) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000073: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 10 (1970-01-01 00:00:00.000000074) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000074: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:39 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 11 (1970-01-01 00:00:00.000000075) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:39 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000075: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 12 (1970-01-01 00:00:00.000000076) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:40 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000076: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 13 (1970-01-01 00:00:00.000000077) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:40 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000077: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 14 (1970-01-01 00:00:00.000000078) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:40 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000078: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] --- Bar 15 (1970-01-01 00:00:00.000000079) --- Equity: 1000.00, Active: 0, ConsLoss: 0, KS_Active: False ---
14:39:40 [INFO] [gold_ai2025.RiskManager] [Patch AI Studio v4.9.58+] Drawdown updated: Equity=1000.00, Peak=1000.00, DD=0.0000
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Checking Kill Switch at 1970-01-01 00:00:00.000000079: Equity=1000.00, Peak=1000.00, DDThresh=20.00%, ConsLossThresh=7, CurrentConsLoss=0, ActiveStatus=False
14:39:40 [DEBUG] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL._check_kill_switch] Kill Switch check result: TriggeredNow=False, NewActiveStatus=False
14:39:40 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] Simulation loop finished for Fold_4_FALLBACK_FUND_SELL. Finalizing remaining orders...
14:39:40 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] Created trade log DataFrame for Fold_4_FALLBACK_FUND_SELL with 0 entries.
14:39:40 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL]   (Finished) Fold_4_FALLBACK_FUND_SELL (SELL) simulation complete. Final Equity: $1000.00
14:39:40 [INFO] [gold_ai2025.run_backtest_simulation_v34.Fold_4_FALLBACK_FUND_SELL.SELL] [Patch AI Studio v4.9.62+] Fold summary: final equity=1000.00, len(history)=16, trade_log=0
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]   (Metrics) Calculating full metrics for: 'Fold_4_FALLBACK_FUND SELL'...
14:39:40 [WARNING] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]     No trades logged for 'Fold_4_FALLBACK_FUND SELL'.
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Fold_4_FALLBACK_FUND SELL]   (Metrics) Finished calculating full metrics for: 'Fold_4_FALLBACK_FUND SELL'.
14:39:40 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_Fold_4_FALLBACK_FUND_SELL_metrics_20250520_143940.json
14:39:40 [INFO] [gold_ai2025.run_all_folds_with_threshold]    Finished SELL for Fold_4_FALLBACK_FUND. Final Equity: $1000.00, Trades: 0
14:39:40 [INFO] [gold_ai2025.run_all_folds_with_threshold] 
--- Completed All 4 Folds for Fund: FALLBACK_FUND ---
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'...
14:39:40 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]     No trades logged for 'Overall WF Buy (FALLBACK_FUND)'.
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Overall WF Buy (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Buy (FALLBACK_FUND)'.
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'...
14:39:40 [WARNING] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]     No trades logged for 'Overall WF Sell (FALLBACK_FUND)'.
14:39:40 [INFO] [gold_ai2025.calculate_metrics.Overall WF Sell (FALLBACK_FUND)]   (Metrics) Finished calculating full metrics for: 'Overall WF Sell (FALLBACK_FUND)'.
14:39:40 [INFO] [gold_ai2025.export_run_summary_to_json] [Patch AI Studio v4.9.59+] [Patch] run_summary exported successfully: /tmp/run_summary_FALLBACK_FUND_WFV_ALL_SUMMARY_20250520_143940.json
14:39:40 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - BUY (FALLBACK_FUND) ---
14:39:41 [INFO] [gold_ai2025.plot_equity_curve.buy_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_buy_FALLBACK_FUND_overall_wf.png
14:39:41 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf] 
--- (Plotting) Plotting Equity Curve: Overall Equity Curve - SELL (FALLBACK_FUND) ---
14:39:43 [INFO] [gold_ai2025.plot_equity_curve.sell_FALLBACK_FUND_overall_wf]    Saved equity curve plot: /tmp/equity_curve_sell_FALLBACK_FUND_overall_wf.png
14:39:43 [INFO] [gold_ai2025.run_all_folds_with_threshold] --- Finished WFV Simulation for Fund: FALLBACK_FUND ---
PASSED
test_gold_ai.py::test_risk_trade_manager_forced_entry_spike 
-------------------------------- live log call ---------------------------------
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:43 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
14:39:43 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
14:39:44 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
14:39:44 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
14:39:44 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
14:39:44 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
14:39:44 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
14:39:44 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
14:39:44 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
14:39:44 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
14:39:44 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
14:39:44 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
14:39:44 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
14:39:45 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
14:39:45 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
14:39:45 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
14:39:45 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
14:39:45 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
14:39:45 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
14:39:46 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
14:39:46 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
14:39:46 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
14:39:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:46 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
14:39:46 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 0 forced entries at indices: []
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 0 found
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 0 with exit_reason='FORCED_ENTRY' at indices: []
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 0 รายการ : []
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
14:39:46 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] Export trade_log shape: (0, 1)
FAILED
test_gold_ai.py::test_forced_entry_audit_logic 14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:46 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:46 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:46 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:46 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:46 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:46 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:46 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:46 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:46 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:46 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:46 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:46 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_multi_order_audit 14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:46 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:46 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:46 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:46 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:46 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:46 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:46 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:46 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:46 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:46 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:46 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:46 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1005.0, Exit:1000, PNL:0.0
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=2, trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True}
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:02:00'), trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 2]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 2]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 2]
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_audit_short 14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:46 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:46 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:46 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:46 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:46 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:46 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:46 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:46 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:46 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:47 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True}
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1005, PNL:0.0
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:SELL, Entry:995.0, Exit:1000, PNL:0.0
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_reason_audit 14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:47 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True}
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': '', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_buy_flag_and_reason 14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:47 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:47 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:47 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:47 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_sell_flag_and_reason 14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:47 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:47 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:47 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:47 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:47 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:47 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:47 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:47 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:47 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:48 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1002, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:SELL, Entry:1000.0, Exit:1002, PNL:0.0
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 1001.5, 'take_profit': 997.3, 'side': 'SELL', 'Trade_Reason': 'FORCED_SELL', '_forced_entry_flag': True, 'exit_price': 1002, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_forced_entry_multi_order_flags 14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:48 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=2, trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:02:00'), trade={'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:2, Side:BUY, Entry:1010.0, Exit:1005, PNL:0.0
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 2]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 2, 'entry_time': Timestamp('2023-01-01 00:02:00'), 'entry_price': 1010.0, 'stop_loss': 1008.5, 'take_profit': 1012.7, 'side': 'BUY', 'Trade_Reason': 'FORCED_BUY2', '_forced_entry_flag': True, 'exit_price': 1005, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 2, 'exit_time': Timestamp('2023-01-01 00:02:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_fallback_dummy_pd_np 14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_annotate 14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:48 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 1795.0, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1800.0, Exit:1795.0, PNL:0.0
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 1 forced entries logged: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 1 forced entries at indices: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: only 1 found
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 1 with exit_reason='FORCED_ENTRY' at indices: [0]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 1 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1800.0, 'stop_loss': 1798.5, 'take_profit': 1802.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 1795.0, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_warning PASSED
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_multi_case 14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.

-------------------------------- live log call ---------------------------------
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Setting optuna.logging.set_verbosity(optuna.logging.WARNING)
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:48 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:48 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=0, trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:00:00'), trade={'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:0, Side:BUY, Entry:1000.0, Exit:995, PNL:0.0
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=1, trade={'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True}
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch][Audit] Forced entry detected: row_idx=Timestamp('2023-01-01 00:01:00'), trade={'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 996, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 1, 'exit_time': Timestamp('2023-01-01 00:01:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.28] Triggered BE-SL: OrderIdx:1, Side:BUY, Entry:1001.0, Exit:996, PNL:0.0
14:39:48 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 2 forced entries logged: [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Audit: found 2 forced entries at indices: [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Multi-order Forced Entry Audit: 2 forced entries at [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch] Forced Entry Reason Audit: 2 with exit_reason='FORCED_ENTRY' at indices: [0, 1]
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.78+] [Patch] Forced Entry Audit Summary: บันทึก forced entries ทั้งหมด 2 รายการ : [{'entry_idx': 0, 'entry_time': Timestamp('2023-01-01 00:00:00'), 'entry_price': 1000.0, 'stop_loss': 998.5, 'take_profit': 1002.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 995, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 0, 'exit_time': Timestamp('2023-01-01 00:00:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}, {'entry_idx': 1, 'entry_time': Timestamp('2023-01-01 00:01:00'), 'entry_price': 1001.0, 'stop_loss': 999.5, 'take_profit': 1003.7, 'side': 'BUY', 'Trade_Reason': 'FORCED', '_forced_entry_flag': True, 'exit_price': 996, 'exit_reason': 'FORCED_ENTRY', 'exit_idx': 1, 'exit_time': Timestamp('2023-01-01 00:01:00'), 'pnl_usd_net': 0.0, 'audit_patch': '[Patch] [Diff] Forced Entry flag/exit_reason set by simulate_trades'}]
14:39:48 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.63+] Returning tuple for legacy/test compatibility
PASSED
test_gold_ai.py::test_ml_inference_path 14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Gold AI Script Version: 4.9.81_FULL_PASS - Logger Initialized (Import Phase).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 1 (Manual)] Developer to review entire gold_ai2025.py for syntax errors.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 2 (Review)] Reviewing top-level imports and global scope code in gold_ai2025.py.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Importing core libraries (with robust fallbacks)...

-------------------------------- live log call ---------------------------------
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
14:39:48 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
14:39:48 - ERROR - [GoldAI_Enterprise_v4.9] -    (Error) Could not get CatBoost components from module: module 'catboost' has no attribute 'CatBoostClassifier'
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
14:39:48 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
14:39:48 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
14:39:48 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - 
(Processing) Setting up environment (Colab, GPU)...
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] -    Not running in Google Colab environment (get_ipython is None).
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 4] setup_gpu_acceleration() call deferred to __main__ block.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 1/15 (Setup, Imports, Globals) Loaded. Script Version: 4.9.81_FULL_PASS
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - [Patch - IMPORT ERROR FIX - Step 5 (Review)] Developer to review try-except ImportError blocks for specificity.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 3 (New): Enterprise Classes & Config Loader Implemented with Feature Engineering and Default Signal Thresholds.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 4 (Original Part 3): Helper Functions (Setup, Utils, Font, Config) Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 5 (Original Part 4): Data Loading & Initial Preparation Functions Loaded.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 6 (Original Part 5): Feature Engineering & Indicator Calculation Functions Loaded and Refactored to use StrategyConfig.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 7 (Original Part 6): Machine Learning Configuration & Helpers Loaded and Refactored.
14:39:48 - WARNING - [GoldAI_Enterprise_v4.9] - [Patch AI Studio v4.9.49+] Optuna logging interface not found; skipping verbosity control.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 8 (Original Part 7): Model Training Function Loaded and Refactored with Optuna Integration.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 9 (Original Part 8): Backtesting Engine (v4.9.23 - Added TSL/BE Helpers & _check_kill_switch) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 10 (Original Part 9): Walk-Forward Orchestration & Analysis Functions (Fuller Logic v4.9.18 - Corrected WFV Type Hint) Loaded and Refactored.
14:39:48 - INFO - [GoldAI_Enterprise_v4.9] - Part 11 (Original Part 10): Main Execution & Pipeline Control Loaded and Refactored with Full Data/Model Logic.
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
FAILED

=================================== FAILURES ===================================
________ TestATRFallback.test_engineer_m1_features_atr_missing_fallback ________
test_gold_ai.py:1722: in test_engineer_m1_features_atr_missing_fallback
    self.assertTrue(any("ATR import failed" in m for m in cm.output))
E   AssertionError: False is not true
------------------------------ Captured log call -------------------------------
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:38:58 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:38:58 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:38:58 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:38:58 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:38:58 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:38:58 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:38:58 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:38:58 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:38:58 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:38:58 [WARNING] [gold_ai2025.macd]    (Warning) MACD calculation skipped: Not enough valid data points (2 < 26).
14:38:58 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
14:38:58 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
__________________ test_risk_trade_manager_forced_entry_spike __________________
test_gold_ai.py:2237: in test_risk_trade_manager_forced_entry_spike
    assert any(
E   AssertionError: Trade log must contain exit_reason='FORCED_ENTRY' if forced entry was triggered
E   assert False
E    +  where False = any(<generator object test_risk_trade_manager_forced_entry_spike.<locals>.<genexpr> at 0x7a03707a7ae0>)
------------------------------ Captured log call -------------------------------
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {}
14:39:43 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.010, Max Hold: 24 bars, Kill DD: 20.00%
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:43 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:43 [INFO] [gold_ai2025.engineer_m1_features] (Processing) กำลังสร้าง Features M1 (using StrategyConfig)...
14:39:43 [WARNING] [gold_ai2025.macd] [Patch AI Studio v4.9.67+] ta.trend.MACD not available; using manual calculation.
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features]       (Warning) ไม่สามารถคำนวณ MACD_hist_smooth.
14:39:44 [WARNING] [gold_ai2025.atr]    (Warning) TA library ATR calculation failed: module 'ta' has no attribute 'volatility'. Falling back to manual.
14:39:44 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.67+] ta.momentum.RSIIndicator not available; using manual calculation.
14:39:44 [WARNING] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] (Warning) RSI calculation fallback to default 50 (manual/series too short/all NaN); all values set to 50.
14:39:44 [INFO] [gold_ai2025.rsi] [Patch AI Studio v4.9.73+] [Patch] RSI fallback manual returned all 50 with correct index/dtype
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features] [Patch AI Studio v4.9.67+] ta.trend.ADXIndicator not available; using manual ADX.
14:39:44 [INFO] [gold_ai2025.engineer_m1_features]       Creating 'session' column using config.session_times_utc...
14:39:44 [WARNING] [gold_ai2025.engineer_m1_features]          (Warning) Original index is not a valid DatetimeIndex. Session tagging will result in 'Error_Tagging_Reindex_Fill'.
14:39:44 [INFO] [gold_ai2025.engineer_m1_features]          Session distribution:
session
Error_Tagging_Reindex_Fill    1.0
14:39:44 [INFO] [gold_ai2025.engineer_m1_features] (Success) สร้าง Features M1 (using StrategyConfig) เสร็จสิ้น.
14:39:44 [INFO] [gold_ai2025.prepare_datetime] (Processing) กำลังเตรียม Datetime Index ()...
14:39:44 [WARNING] [gold_ai2025.prepare_datetime]    StrategyConfig not provided or missing 'max_nat_ratio_threshold'. Using default: 0.05
14:39:44 [INFO] [gold_ai2025.preview_datetime_format]    [Preview] First 5 Date + Timestamp format examples:
14:39:44 [INFO] [gold_ai2025.preview_datetime_format] 
20230101 00:00:00
20230101 00:01:00
20230101 00:02:00
20230101 00:03:00
20230101 00:04:00
14:39:45 [INFO] [gold_ai2025.prepare_datetime]       [Converter] กำลังตรวจสอบและแปลงปี พ.ศ. เป็น ค.ศ. (ถ้าจำเป็น)...
14:39:45 [INFO] [gold_ai2025.prepare_datetime]       [Converter] ไม่พบปีที่น่าจะเป็น พ.ศ. (หรือข้อมูลน้อยเกินไป).
14:39:45 [DEBUG] [gold_ai2025.prepare_datetime]       Combining Date and Timestamp strings...
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] Attempting to parse date/time strings...
14:39:45 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] Trying format: '%Y%m%d %H:%M:%S' for 30 values...
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Success) Format '%Y%m%d %H:%M:%S' matched: 30. Remaining: 0
14:39:45 [DEBUG] [gold_ai2025.parse_datetime_safely]       [Parser] All strings parsed.
14:39:45 [INFO] [gold_ai2025.parse_datetime_safely]       [Parser] (Finished) Date/time parsing complete.
14:39:45 [DEBUG] [gold_ai2025.prepare_datetime]    ไม่พบค่า NaT ใน  หลังการ parse.
14:39:46 [DEBUG] [gold_ai2025.prepare_datetime]    Checking for non-monotonic index (time reversals)...
14:39:46 [DEBUG] [gold_ai2025.prepare_datetime]       Index is monotonic increasing.
14:39:46 [INFO] [gold_ai2025.prepare_datetime] (Success) เตรียม Datetime index () สำเร็จ. Shape: (30, 32)
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig] Initializing StrategyConfig with dict: {'initial_capital': 1000, 'risk_per_trade': 0.1, 'force_entry_on_signal': True, 'enable_spike_guard': True, 'spike_guard_threshold': 0.5}
14:39:46 [INFO] [gold_ai2025.StrategyConfig] StrategyConfig initialized. Risk/Trade: 0.100, Max Hold: 24 bars, Kill DD: 20.00%
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Feature Eng Params: M15 EMA Fast=50, M1 Rolling Z Window=300
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Default Signal Thresh: GainZ=0.3, RSI Buy=50
14:39:46 [DEBUG] [gold_ai2025.StrategyConfig]   Dynamic TP2 Params: HighVolBoost=1.2, LotBoostMult=1.1
14:39:46 [INFO] [gold_ai2025.TradeManager] TradeManager initialized. FE Cooldown: 240 min, FE Score: 1.0, FE Max Losses: 2
14:39:46 [INFO] [gold_ai2025.RiskManager] RiskManager initialized. Hard Kill DD: 20.00%, Soft Kill DD: 15.00%
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch v4.9.52] simulate_trades received 'side': BUY
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.26] simulate_trades start
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] ATR undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] MACD undefined, using NaN fallback.
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.70+] RSI undefined, using default 50.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] No last trade time, cooldown met.
14:39:46 [DEBUG] [gold_ai2025.TradeManager] [Patch AI Studio v4.9.58+] Forced entry: score 0.0 < min 1.0
14:39:46 [INFO] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.73+] [Patch] Forced Entry Audit: 0 forced entries logged: []
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.65+] Initialized empty trade_log_df with exit_reason column
14:39:46 [DEBUG] [gold_ai2025.simulate_trades] [Patch AI Studio v4.9.56+] Returning dict (default)
14:39:46 [INFO] [GoldAI_UnitTest] [Patch AI Studio v4.9.58+] Export trade_log shape: (0, 1)
____________________________ test_ml_inference_path ____________________________
test_gold_ai.py:2539: in test_ml_inference_path
    df = gen_random_m1_df(20, trend="up")
test_gold_ai.py:2054: in gen_random_m1_df
    np.random.seed(seed)
/usr/local/lib/python3.11/dist-packages/numpy/__init__.py:337: in __getattr__
    import numpy.random as random
/usr/local/lib/python3.11/dist-packages/numpy/__init__.py:337: in __getattr__
    import numpy.random as random
E   RecursionError: maximum recursion depth exceeded in comparison
!!! Recursion detected (same locals & position)
------------------------------ Captured log call -------------------------------
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PANDAS version: 2.2.2
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using NUMPY version: 2.0.2
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TQDM.NOTEBOOK is 'N/A' or None.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library TA is 'N/A' or None.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library OPTUNA is 'N/A' or None.
14:39:48 [DEBUG] [gold_ai2025.log_library_version] [DEBUG] Version attribute for library CATBOOST is 'N/A' or None.
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using SHAP version: 0.47.2
14:39:48 [WARNING] [gold_ai2025.try_import_with_install] ไม่พบ Library: GPUTIL. กำลังพยายามติดตั้ง...
14:39:48 [WARNING] [gold_ai2025.try_import_with_install]    (Warning) ไม่ได้ระบุชื่อ pip package สำหรับ GPUTIL. ข้ามการติดตั้ง.
14:39:48 [INFO] [gold_ai2025.try_import_with_install]    Assigned None for missing 'GPUtil'.
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PSUTIL version: 5.9.5
14:39:48 [INFO] [gold_ai2025.log_library_version] (Info) Using PYTORCH version: 2.6.0+cu124
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Part 2: Core Parameters & Strategy Settings (DEPRECATED - Parameters now in StrategyConfig from YAML).
14:39:48 [WARNING] [gold_ai2025.Part2_DeprecatedParams] Part 2: Is DEPRECATED. All tunable strategy parameters should be managed by StrategyConfig.
14:39:48 [INFO] [gold_ai2025.Part2_DeprecatedParams] Any true constants (e.g., for feature engineering) will be defined in their relevant sections or Part 1.
14:39:48 [INFO] [gold_ai2025.MLHelpers] Loading Machine Learning Configuration & Helpers (v4.9.13 - Refined Model Switcher)...
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_CLASSIFIER (L1 Filter): True
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial USE_META_META_CLASSIFIER (L2 Filter): False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Optuna Hyperparameter Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MLHelpers]   Initial Auto Threshold Tuning Enabled: False
14:39:48 [INFO] [gold_ai2025.MT5Connector] Loading Part 12: MT5 Connector (Placeholder)...
14:39:48 [INFO] [gold_ai2025.MT5Connector] Part 12: MT5 Connector (Placeholder) Loaded.
14:39:48 [DEBUG] [gold_ai2025.Part14_FutureAdditions] Part 14: Placeholder for Future Additions reached.
14:39:48 [INFO] [gold_ai2025.Part15_EndOfScript] Reached End of Part 15 (Definitive End of Script Marker). Gold AI script processing complete.
=============================== warnings summary ===============================
test_gold_ai.py::TestForcedEntryAudit::test_fallback_dummy_pd_np
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_audit_annotate
test_gold_ai.py::TestForcedEntryAudit::test_forced_entry_multi_case
  /usr/local/lib/python3.11/dist-packages/pandas/__init__.py:14: UserWarning: The NumPy module was reloaded (imported a second time). This can in some cases result in small but subtle issues and is discouraged.
    __import__(_dependency)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.12-final-0 _______________

Name             Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------
gold_ai2025.py    3951   1915   1054    211    47%   71, 114-115, 118-122, 125-132, 137-140, 159, 162, 164-166, 189-192, 208-213, 221, 224-226, 228, 240->243, 242, 244-256, 261-270, 283, 286, 289, 292, 302, 306, 310, 314, 327, 330, 333, 336, 339, 348, 351, 354, 357, 361, 364, 367, 381-382, 402->404, 416->418, 418->422, 441->451, 442->451, 444->451, 446-447, 486-487, 494-495, 502-503, 509->512, 514->516, 516->537, 520-523, 525-529, 534-535, 543->558, 546-549, 560->563, 566, 570->573, 604, 628-650, 867, 1065, 1068, 1073->1074, 1077-1078, 1082, 1086, 1091, 1093->1094, 1105, 1131->1134, 1134->1137, 1140->exit, 1144-1146, 1149-1155, 1162-1163, 1165-1166, 1169-1179, 1185-1186, 1188, 1192-1209, 1218-1219, 1222-1225, 1236->1237, 1238, 1274-1277, 1284, 1299-1302, 1315, 1317->1331, 1320->1317, 1329, 1331->1350, 1340-1348, 1351, 1361, 1365, 1368-1408, 1410->exit, 1411-1413, 1421, 1423->1427, 1425, 1428->1432, 1430, 1433->1438, 1436, 1445, 1453->exit, 1454->1458, 1455->exit, 1456->1457, 1456->exit, 1458->exit, 1459->exit, 1460->exit, 1461->exit, 1463->1466, 1468-1476, 1488, 1492->1494, 1498-1500, 1507-1558, 1590, 1596-1600, 1608, 1613->1612, 1620, 1625, 1632, 1638, 1645-1647, 1651, 1663, 1669-1671, 1674, 1681, 1689, 1705-1706, 1714, 1717-1718, 1730->1759, 1741->1747, 1749-1757, 1767-1769, 1772-1774, 1810, 1813, 1816, 1819-1820, 1824-1825, 1832-1833, 1847->1902, 1854-1857, 1860->1859, 1862->1864, 1864->1859, 1869-1871, 1876-1898, 1911, 1916-1930, 1940, 1944-1945, 1953, 1959-1962, 1971-1978, 2008->2009, 2008->2010, 2013-2014, 2026, 2035-2037, 2073, 2077->2082, 2084->2094, 2098-2110, 2112-2115, 2119, 2123-2139, 2147-2148, 2155, 2182->2191, 2185, 2191->2212, 2197->2201, 2199->2201, 2229, 2240, 2244->2249, 2251-2255, 2261->2267, 2278-2280, 2283, 2287, 2296-2297, 2302, 2346->2348, 2357, 2365, 2373-2377, 2406, 2418, 2508, 2510->2514, 2516-2519, 2526->2543, 2627-2628, 2634-2700, 2741->2744, 2756->2759, 2789, 2819-2887, 2894-2958, 2966-2987, 2994-3146, 3156-3176, 3194-3246, 3280, 3304-3305, 3337-3704, 3767-3822, 3825-3827, 3888, 3890->3893, 3901, 3906-3910, 3915, 3920-3923, 3925-3926, 3929-3935, 3939-3941, 3946-3949, 3952, 3961-4000, 4009-4039, 4049-4050, 4052-4053, 4058-4060, 4065-4066, 4069-4070, 4072->4075, 4076, 4092-4096, 4100-4107, 4115->4123, 4124, 4137-4155, 4197-4198, 4203-4204, 4251-4277, 4292-4362, 4383-4442, 4467-4468, 4475-4479, 4485-4575, 4584-4664, 4673-4782, 4846, 4951-5030, 5034->5152, 5051, 5058-5139, 5149, 5153, 5168, 5173, 5200->5243, 5207->5243, 5212->5232, 5225-5230, 5269-5307, 5313, 5316, 5327-5328, 5368-5371, 5374-5442, 5445-5451, 5454-5484, 5491-5501, 5550, 5555, 5563->5565, 5567, 5569->5616, 5606, 5610, 5614, 5628->5629, 5630->5631, 5632->5651, 5651->5687, 5659->5687, 5662-5684, 5758->5796, 5802->5804, 5838-5842, 5855-5886, 5911-5915, 5917, 5937->5939, 5942->5948, 5948->5956, 5956->5968, 5960-5966, 5969, 5971->5976, 6287-6441, 6446-6809, 6844-6874, 6881-6888, 6900-6925, 6942-6984, 6992-7048, 7072-7209, 7247->7250, 7259-7263, 7297, 7313-7334, 7336->7338, 7342-7343, 7347->7352, 7370->7378, 7381, 7384->7390, 7388, 7393, 7398, 7401->7409, 7402->7403, 7402->7404, 7406-7407, 7410, 7412->7443, 7418, 7426->7436, 7428->7430, 7443->7472, 7451, 7459-7463, 7472->7378, 7480, 7488-7492, 7501, 7507-7511, 7514->7503, 7519, 7522, 7526->7557, 7527->7557, 7545-7549, 7555, 7571->7564, 7572-7573, 7575-7576, 7583, 7590->7595, 7605, 7618->7623, 7629->7634, 7635, 7666-7695, 7728->7729, 7730
------------------------------------------------------------
TOTAL             3951   1915   1054    211    47%
============================= slowest 10 durations =============================
20.88s call     test_gold_ai.py::test_run_wfv_multi_fold
18.14s call     test_gold_ai.py::test_full_e2e_backtest_and_export
2.73s call     test_gold_ai.py::test_risk_trade_manager_forced_entry_spike
0.92s call     test_gold_ai.py::TestGoldAIPart1SetupAndEnv::test_environment_is_colab_drive_mount_succeeds
0.72s call     test_gold_ai.py::TestEdgeCases::test_prepare_datetime_all_nat
0.51s call     test_gold_ai.py::TestWFVandLotSizing::test_run_all_folds_with_threshold_mocked
0.49s call     test_gold_ai.py::test_run_backtest_simulation_minimal
0.40s call     test_gold_ai.py::TestBranchAndErrorPathCoverage::test_rolling_zscore_nan
0.36s call     test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback
0.34s call     test_gold_ai.py::test_forced_entry_buy_flag_and_reason
=========================== short test summary info ============================
FAILED test_gold_ai.py::TestATRFallback::test_engineer_m1_features_atr_missing_fallback - AssertionError: False is not true
FAILED test_gold_ai.py::test_risk_trade_manager_forced_entry_spike - AssertionError: Trade log must contain exit_reason='FORCED_ENTRY' if forced...
FAILED test_gold_ai.py::test_ml_inference_path - RecursionError: maximum recursion depth exceeded in comparison
============= 3 failed, 124 passed, 3 warnings in 63.02s (0:01:03) =============
